/*! For license information please see main.53715458.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,r)=>{e.exports=r(202)},82:(e,t)=>{var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case s:case i:case l:case m:case p:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case f:case h:case o:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference"),t.isContextConsumer=function(e){return g(e)===c}},86:(e,t,r)=>{e.exports=r(82)},153:(e,t,r)=>{var n=r(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,n)&&!o.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},175:(e,t)=>{const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,i=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function o(e,t,r){do{const r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){const r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},202:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function g(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||h}function b(){}function y(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var v=y.prototype=new b;v.constructor=y,f(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,s={},l=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(1===o)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===s[a]&&(s[a]=o[a]);return{$$typeof:r,type:e,key:l,ref:i,props:s,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,a,s,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case r:case n:o=!0}}if(o)return l=l(o=e),e=""===s?"."+I(o,0):s,j(l)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),D(l,t,a,"",function(e){return e})):null!=l&&(E(l)&&(l=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+I(i=e[c],c);o+=D(i,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=D(i=i.value,t,a,d=s+I(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function P(e,t,r){if(null==e)return e;var n=[],a=0;return D(e,n,"","",function(e){return t.call(r,e,a++)}),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},T={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:T,ReactCurrentOwner:w};function z(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:r,type:e.type,key:s,ref:l,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=z,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,r){return A.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,r){return A.current.useReducer(e,t,r)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return A.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},219:(e,t,r)=>{var n=r(763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function o(e){return n.isMemo(e)?l:i[e.$$typeof]||a}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=l;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(h){var a=p(r);a&&a!==h&&e(t,a,n)}var l=d(r);u&&(l=l.concat(u(r)));for(var i=o(t),f=o(r),x=0;x<l.length;++x){var g=l[x];if(!s[g]&&(!n||!n[g])&&(!f||!f[g])&&(!i||!i[g])){var b=m(r,g);try{c(t,g,b)}catch(y){}}}}return t}},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,l=a>>>1;n<l;){var i=2*(n+1)-1,o=e[i],c=i+1,d=e[c];if(0>s(o,r))c<a&&0>s(d,o)?(e[n]=d,e[c]=r,n=c):(e[n]=o,e[i]=r,n=i);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,p=3,h=!1,f=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function j(e){if(x=!1,v(e),!f)if(null!==n(c))f=!0,T(N);else{var t=n(d);null!==t&&R(j,t.startTime-e)}}function N(e,r){f=!1,x&&(x=!1,b(E),E=-1),h=!0;var s=p;try{for(v(r),m=n(c);null!==m&&(!(m.expirationTime>r)||e&&!D());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var i=l(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?m.callback=i:m===n(c)&&a(c),v(r)}else a(c);m=n(c)}if(null!==m)var o=!0;else{var u=n(d);null!==u&&R(j,u.startTime-r),o=!1}return o}finally{m=null,p=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,E=-1,C=5,I=-1;function D(){return!(t.unstable_now()-I<C)}function P(){if(null!==S){var e=t.unstable_now();I=e;var r=!0;try{r=S(!0,e)}finally{r?w():(k=!1,S=null)}}else k=!1}if("function"===typeof y)w=function(){y(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=P,w=function(){A.postMessage(null)}}else w=function(){g(P,0)};function T(e){S=e,k||(k=!0,w())}function R(e,r){E=g(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,T(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(x?(b(E),E=-1):x=!0,R(j,s-l))):(e.sortIndex=i,r(c,e),f||h||(f=!0,T(N))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},330:(e,t,r)=>{var n=r(43);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=n.useState,l=n.useEffect,i=n.useLayoutEffect,o=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(n){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),a=n[0].inst,d=n[1];return i(function(){a.value=r,a.getSnapshot=t,c(a)&&d({inst:a})},[e,r,t]),l(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},391:(e,t,r)=>{var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},443:(e,t,r)=>{e.exports=r(717)},461:(e,t,r)=>{e.exports=r(330)},579:(e,t,r)=>{e.exports=r(153)},717:(e,t,r)=>{var n=r(43),a=r(461);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},l=a.useSyncExternalStore,i=n.useRef,o=n.useEffect,c=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var u=i(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;u=c(function(){function e(e){if(!o){if(o=!0,l=e,e=n(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return i=t}return i=e}if(t=i,s(l,e))return t;var r=n(e);return void 0!==a&&a(t,r)?(l=e,t):(l=e,i=r)}var l,i,o=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,a]);var p=l(e,u[0],u[1]);return o(function(){m.hasValue=!0,m.value=p},[p]),d(p),p}},730:(e,t,r)=>{var n=r(43),a=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function f(e,t,r,n,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,r,n){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(h,e)||!u.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function $(e){if(void 0===L)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var _=!1;function F(e,t){if(!e||_)return"";_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),l=a.length-1,i=s.length-1;1<=l&&0<=i&&a[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==s[i]){if(1!==l||1!==i)do{if(l--,0>--i||a[l]!==s[i]){var o="\n"+a[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$(e):""}function B(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return U(e(t))}catch(r){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var r=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Y(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){K(e,t);var r=W(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Q(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function se(e,t){var r=W(t.value),n=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function xe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=fe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function Se(e){if(e=va(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=Na(t),Ne(e.stateNode,e.type,t))}}function Ee(e){we?ke?ke.push(e):ke=[e]:we=e}function Ce(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function De(){}var Pe=!1;function Oe(e,t,r){if(Pe)return e(t,r);Pe=!0;try{return Ie(e,t,r)}finally{Pe=!1,(null!==we||null!==ke)&&(De(),Ce())}}function Ae(e,t){var r=e.stateNode;if(null===r)return null;var n=Na(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Te=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Te=!1}function ze(e,t,r,n,a,s,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Le=!1,Me=null,$e=!1,_e=null,Fe={onError:function(e){Le=!0,Me=e}};function Be(e,t,r,n,a,s,l,i,o){Le=!1,Me=null,ze.apply(Fe,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(n=a.return)){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return We(a),e;if(l===n)return We(a),t;l=l.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Ke=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function mt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&r;if(0!==l){var i=l&~a;0!==i?n=mt(i):0!==(s&=l)&&(n=mt(s))}else 0!==(l=r&~a)?n=mt(l):0!==s&&(n=mt(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-lt(t)),n|=e[r],t&=~a;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var vt=0;function jt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,wt,kt,St,Et,Ct=!1,It=[],Dt=null,Pt=null,Ot=null,At=new Map,Tt=new Map,Rt=[],zt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Mt(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function $t(e){var t=ya(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ge(r)))return e.blockedOn=t,void Et(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=va(r))&&wt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Ft(e,t,r){_t(e)&&r.delete(t)}function Bt(){Ct=!1,null!==Dt&&_t(Dt)&&(Dt=null),null!==Pt&&_t(Pt)&&(Pt=null),null!==Ot&&_t(Ot)&&(Ot=null),At.forEach(Ft),Tt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Gt(e){function t(t){return Ut(t,e)}if(0<It.length){Ut(It[0],e);for(var r=1;r<It.length;r++){var n=It[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Dt&&Ut(Dt,e),null!==Pt&&Ut(Pt,e),null!==Ot&&Ut(Ot,e),At.forEach(t),Tt.forEach(t),r=0;r<Rt.length;r++)(n=Rt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Rt.length&&null===(r=Rt[0]).blockedOn;)$t(r),null===r.blockedOn&&Rt.shift()}var Wt=v.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,r,n){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=1,Qt(e,t,r,n)}finally{vt=a,Wt.transition=s}}function qt(e,t,r,n){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=4,Qt(e,t,r,n)}finally{vt=a,Wt.transition=s}}function Qt(e,t,r,n){if(Ht){var a=Yt(e,t,r,n);if(null===a)Hn(e,t,n,Jt,r),Lt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Dt=Mt(Dt,e,t,r,n,a),!0;case"dragenter":return Pt=Mt(Pt,e,t,r,n,a),!0;case"mouseover":return Ot=Mt(Ot,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return At.set(s,Mt(At.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Tt.set(s,Mt(Tt.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<zt.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&Nt(s),null===(s=Yt(e,t,r,n))&&Hn(e,t,n,Jt,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Jt=null;function Yt(e,t,r,n){if(Jt=null,null!==(e=ya(e=je(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,er=null;function tr(){if(er)return er;var e,t,r=Zt,n=r.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var l=n-e;for(t=1;t<=l&&r[n-t]===a[s-t];t++);return er=a.slice(e,1<t?1-t:void 0)}function rr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nr(){return!0}function ar(){return!1}function sr(e){function t(t,r,n,a,s){for(var l in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nr:ar,this.isPropagationStopped=ar,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),t}var lr,ir,or,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=sr(cr),ur=M({},cr,{view:0,detail:0}),mr=sr(ur),pr=M({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&"mousemove"===e.type?(lr=e.screenX-or.screenX,ir=e.screenY-or.screenY):ir=lr=0,or=e),lr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),hr=sr(pr),fr=sr(M({},pr,{dataTransfer:0})),xr=sr(M({},ur,{relatedTarget:0})),gr=sr(M({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),br=M({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=sr(br),vr=sr(M({},cr,{data:0})),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Sr(){return kr}var Er=M({},ur,{key:function(e){if(e.key){var t=jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?rr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=sr(Er),Ir=sr(M({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dr=sr(M({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Pr=sr(M({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=M({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=sr(Or),Tr=[9,13,27,32],Rr=d&&"CompositionEvent"in window,zr=null;d&&"documentMode"in document&&(zr=document.documentMode);var Lr=d&&"TextEvent"in window&&!zr,Mr=d&&(!Rr||zr&&8<zr&&11>=zr),$r=String.fromCharCode(32),_r=!1;function Fr(e,t){switch(e){case"keyup":return-1!==Tr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var Gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gr[e.type]:"textarea"===t}function Hr(e,t,r,n){Ee(n),0<(t=qn(t,"onChange")).length&&(r=new dr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vr=null,qr=null;function Qr(e){_n(e,0)}function Jr(e){if(q(ja(e)))return e}function Yr(e,t){if("change"===e)return t}var Kr=!1;if(d){var Xr;if(d){var Zr="oninput"in document;if(!Zr){var en=document.createElement("div");en.setAttribute("oninput","return;"),Zr="function"===typeof en.oninput}Xr=Zr}else Xr=!1;Kr=Xr&&(!document.documentMode||9<document.documentMode)}function tn(){Vr&&(Vr.detachEvent("onpropertychange",rn),qr=Vr=null)}function rn(e){if("value"===e.propertyName&&Jr(qr)){var t=[];Hr(t,qr,e,je(e)),Oe(Qr,t)}}function nn(e,t,r){"focusin"===e?(tn(),qr=r,(Vr=t).attachEvent("onpropertychange",rn)):"focusout"===e&&tn()}function an(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jr(qr)}function sn(e,t){if("click"===e)return Jr(t)}function ln(e,t){if("input"===e||"change"===e)return Jr(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cn(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!on(e[a],t[a]))return!1}return!0}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=dn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dn(n)}}function mn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Q((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=pn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&mn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=un(r,s);var l=un(r,n);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,bn=null,yn=null,vn=!1;function jn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;vn||null==gn||gn!==Q(n)||("selectionStart"in(n=gn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&cn(yn,n)||(yn=n,0<(n=qn(bn,"onSelect")).length&&(t=new dr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function Nn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wn={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionend:Nn("Transition","TransitionEnd")},kn={},Sn={};function En(e){if(kn[e])return kn[e];if(!wn[e])return e;var t,r=wn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Sn)return kn[e]=r[t];return e}d&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var Cn=En("animationend"),In=En("animationiteration"),Dn=En("animationstart"),Pn=En("transitionend"),On=new Map,An="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){On.set(e,t),o(t,[e])}for(var Rn=0;Rn<An.length;Rn++){var zn=An[Rn];Tn(zn.toLowerCase(),"on"+(zn[0].toUpperCase()+zn.slice(1)))}Tn(Cn,"onAnimationEnd"),Tn(In,"onAnimationIteration"),Tn(Dn,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function $n(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,l,i,o,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var d=Me;Le=!1,Me=null,$e||($e=!0,_e=d)}}(n,t,void 0,e),e.currentTarget=null}function _n(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&a.isPropagationStopped())break e;$n(a,i,c),s=o}else for(l=0;l<n.length;l++){if(o=(i=n[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&a.isPropagationStopped())break e;$n(a,i,c),s=o}}}if($e)throw e=_e,$e=!1,_e=null,e}function Fn(e,t){var r=t[xa];void 0===r&&(r=t[xa]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function Gn(e){if(!e[Un]){e[Un]=!0,l.forEach(function(t){"selectionchange"!==t&&(Mn.has(t)||Bn(t,!1,e),Bn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,Bn("selectionchange",!1,t))}}function Wn(e,t,r,n){switch(Kt(t)){case 1:var a=Vt;break;case 4:a=qt;break;default:a=Qt}r=a.bind(null,t,r,e),a=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var l=n.tag;if(3===l||4===l){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===l)for(l=n.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;l=l.return}for(;null!==i;){if(null===(l=ya(i)))return;if(5===(o=l.tag)||6===o){n=s=l;continue e}i=i.parentNode}}n=n.return}Oe(function(){var n=s,a=je(r),l=[];e:{var i=On.get(e);if(void 0!==i){var o=dr,c=e;switch(e){case"keypress":if(0===rr(r))break e;case"keydown":case"keyup":o=Cr;break;case"focusin":c="focus",o=xr;break;case"focusout":c="blur",o=xr;break;case"beforeblur":case"afterblur":o=xr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Dr;break;case Cn:case In:case Dn:o=gr;break;case Pn:o=Pr;break;case"scroll":o=mr;break;case"wheel":o=Ar;break;case"copy":case"cut":case"paste":o=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Ir}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var p,h=n;null!==h;){var f=(p=h).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==m&&(null!=(f=Ae(h,m))&&d.push(Vn(h,f,p)))),u)break;h=h.return}0<d.length&&(i=new o(i,c,null,r,a),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!ya(c)&&!c[fa])&&(o||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=n,null!==(c=(c=r.relatedTarget||r.toElement)?ya(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=n),o!==c)){if(d=hr,f="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ir,f="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==o?i:ja(o),p=null==c?i:ja(c),(i=new d(f,h+"leave",o,r,a)).target=u,i.relatedTarget=p,f=null,ya(a)===n&&((d=new d(m,h+"enter",c,r,a)).target=p,d.relatedTarget=u,f=d),u=f,o&&c)e:{for(m=c,h=0,p=d=o;p;p=Qn(p))h++;for(p=0,f=m;f;f=Qn(f))p++;for(;0<h-p;)d=Qn(d),h--;for(;0<p-h;)m=Qn(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Qn(d),m=Qn(m)}d=null}else d=null;null!==o&&Jn(l,i,o,d,!1),null!==c&&null!==u&&Jn(l,u,c,d,!0)}if("select"===(o=(i=n?ja(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var x=Yr;else if(Wr(i))if(Kr)x=ln;else{x=an;var g=nn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(x=sn);switch(x&&(x=x(e,n))?Hr(l,x,r,a):(g&&g(e,i,n),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=n?ja(n):window,e){case"focusin":(Wr(g)||"true"===g.contentEditable)&&(gn=g,bn=n,yn=null);break;case"focusout":yn=bn=gn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,jn(l,r,a);break;case"selectionchange":if(xn)break;case"keydown":case"keyup":jn(l,r,a)}var b;if(Rr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ur?Fr(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Mr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==y?"onCompositionEnd"===y&&Ur&&(b=tr()):(Zt="value"in(Xt=a)?Xt.value:Xt.textContent,Ur=!0)),0<(g=qn(n,y)).length&&(y=new vr(y,e,null,r,a),l.push({event:y,listeners:g}),b?y.data=b:null!==(b=Br(r))&&(y.data=b))),(b=Lr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(_r=!0,$r);case"textInput":return(e=t.data)===$r&&_r?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Rr&&Fr(e,t)?(e=tr(),er=Zt=Xt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=qn(n,"onBeforeInput")).length&&(a=new vr("onBeforeInput","beforeinput",null,r,a),l.push({event:a,listeners:n}),a.data=b))}_n(l,t)})}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ae(e,r))&&n.unshift(Vn(e,s,a)),null!=(s=Ae(e,t))&&n.push(Vn(e,s,a))),e=e.return}return n}function Qn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jn(e,t,r,n,a){for(var s=t._reactName,l=[];null!==r&&r!==n;){var i=r,o=i.alternate,c=i.stateNode;if(null!==o&&o===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(o=Ae(r,s))&&l.unshift(Vn(r,o,i)):a||null!=(o=Ae(r,s))&&l.push(Vn(r,o,i))),r=r.return}0!==l.length&&e.push({event:t,listeners:l})}var Yn=/\r\n?/g,Kn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace(Yn,"\n").replace(Kn,"")}function Zn(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(s(425))}function ea(){}var ta=null,ra=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var aa="function"===typeof setTimeout?setTimeout:void 0,sa="function"===typeof clearTimeout?clearTimeout:void 0,la="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof la?function(e){return la.resolve(null).then(e).catch(oa)}:aa;function oa(e){setTimeout(function(){throw e})}function ca(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Gt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Gt(t)}function da(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),pa="__reactFiber$"+ma,ha="__reactProps$"+ma,fa="__reactContainer$"+ma,xa="__reactEvents$"+ma,ga="__reactListeners$"+ma,ba="__reactHandles$"+ma;function ya(e){var t=e[pa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fa]||r[pa]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[pa])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function va(e){return!(e=e[pa]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ja(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Na(e){return e[ha]||null}var wa=[],ka=-1;function Sa(e){return{current:e}}function Ea(e){0>ka||(e.current=wa[ka],wa[ka]=null,ka--)}function Ca(e,t){ka++,wa[ka]=e.current,e.current=t}var Ia={},Da=Sa(Ia),Pa=Sa(!1),Oa=Ia;function Aa(e,t){var r=e.type.contextTypes;if(!r)return Ia;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Ea(Pa),Ea(Da)}function za(e,t,r){if(Da.current!==Ia)throw Error(s(168));Ca(Da,t),Ca(Pa,r)}function La(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,G(e)||"Unknown",a));return M({},r,n)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ia,Oa=Da.current,Ca(Da,e),Ca(Pa,Pa.current),!0}function $a(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=La(e,t,Oa),n.__reactInternalMemoizedMergedChildContext=e,Ea(Pa),Ea(Da),Ca(Da,e)):Ea(Pa),Ca(Pa,r)}var _a=null,Fa=!1,Ba=!1;function Ua(e){null===_a?_a=[e]:_a.push(e)}function Ga(){if(!Ba&&null!==_a){Ba=!0;var e=0,t=vt;try{var r=_a;for(vt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}_a=null,Fa=!1}catch(a){throw null!==_a&&(_a=_a.slice(e+1)),qe(Ze,Ga),a}finally{vt=t,Ba=!1}}return null}var Wa=[],Ha=0,Va=null,qa=0,Qa=[],Ja=0,Ya=null,Ka=1,Xa="";function Za(e,t){Wa[Ha++]=qa,Wa[Ha++]=Va,Va=e,qa=t}function es(e,t,r){Qa[Ja++]=Ka,Qa[Ja++]=Xa,Qa[Ja++]=Ya,Ya=e;var n=Ka;e=Xa;var a=32-lt(n)-1;n&=~(1<<a),r+=1;var s=32-lt(t)+a;if(30<s){var l=a-a%5;s=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Ka=1<<32-lt(t)+a|r<<a|n,Xa=s+e}else Ka=1<<s|r<<a|n,Xa=e}function ts(e){null!==e.return&&(Za(e,1),es(e,1,0))}function rs(e){for(;e===Va;)Va=Wa[--Ha],Wa[Ha]=null,qa=Wa[--Ha],Wa[Ha]=null;for(;e===Ya;)Ya=Qa[--Ja],Qa[Ja]=null,Xa=Qa[--Ja],Qa[Ja]=null,Ka=Qa[--Ja],Qa[Ja]=null}var ns=null,as=null,ss=!1,ls=null;function is(e,t){var r=Ac(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function os(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,as=da(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ya?{id:Ka,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Ac(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ns=e,as=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ds(e){if(ss){var t=as;if(t){var r=t;if(!os(e,t)){if(cs(e))throw Error(s(418));t=da(r.nextSibling);var n=ns;t&&os(e,t)?is(n,r):(e.flags=-4097&e.flags|2,ss=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ms(e){if(e!==ns)return!1;if(!ss)return us(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=as)){if(cs(e))throw ps(),Error(s(418));for(;t;)is(e,t),t=da(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){as=da(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}as=null}}else as=ns?da(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=as;e;)e=da(e.nextSibling)}function hs(){as=ns=null,ss=!1}function fs(e){null===ls?ls=[e]:ls.push(e)}var xs=v.ReactCurrentBatchConfig;function gs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function l(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,r,n){return null===t||6!==t.tag?((t=$c(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===w?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&ys(s)===t.type)?((n=a(t,r.props)).ref=gs(e,t,r),n.return=e,n):((n=zc(r.type,r.key,r.props,null,e.mode,n)).ref=gs(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=_c(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Lc(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=$c(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=zc(t.type,t.key,t.props,null,e.mode,r)).ref=gs(e,null,t),r.return=e,r;case N:return(t=_c(t,e.mode,r)).return=e,t;case A:return m(e,(0,t._init)(t._payload),r)}if(te(t)||z(t))return(t=Lc(t,e.mode,r,null)).return=e,t;bs(e,t)}return null}function p(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:o(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===a?c(e,t,r,n):null;case N:return r.key===a?d(e,t,r,n):null;case A:return p(e,t,(a=r._init)(r._payload),n)}if(te(r)||z(r))return null!==a?null:u(e,t,r,n,null);bs(e,r)}return null}function h(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return o(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case N:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case A:return h(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||z(n))return u(t,e=e.get(r)||null,n,a,null);bs(t,n)}return null}function f(a,s,i,o){for(var c=null,d=null,u=s,f=s=0,x=null;null!==u&&f<i.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=p(a,u,i[f],o);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),s=l(g,s,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===i.length)return r(a,u),ss&&Za(a,f),c;if(null===u){for(;f<i.length;f++)null!==(u=m(a,i[f],o))&&(s=l(u,s,f),null===d?c=u:d.sibling=u,d=u);return ss&&Za(a,f),c}for(u=n(a,u);f<i.length;f++)null!==(x=h(u,a,f,i[f],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),s=l(x,s,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),ss&&Za(a,f),c}function x(a,i,o,c){var d=z(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,f=i,x=i=0,g=null,b=o.next();null!==f&&!b.done;x++,b=o.next()){f.index>x?(g=f,f=null):g=f.sibling;var y=p(a,f,b.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),i=l(y,i,x),null===u?d=y:u.sibling=y,u=y,f=g}if(b.done)return r(a,f),ss&&Za(a,x),d;if(null===f){for(;!b.done;x++,b=o.next())null!==(b=m(a,b.value,c))&&(i=l(b,i,x),null===u?d=b:u.sibling=b,u=b);return ss&&Za(a,x),d}for(f=n(a,f);!b.done;x++,b=o.next())null!==(b=h(f,a,x,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?x:b.key),i=l(b,i,x),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(a,e)}),ss&&Za(a,x),d}return function e(n,s,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){r(n,d.sibling),(s=a(d,l.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&ys(c)===d.type){r(n,d.sibling),(s=a(d,l.props)).ref=gs(n,d,l),s.return=n,n=s;break e}r(n,d);break}t(n,d),d=d.sibling}l.type===w?((s=Lc(l.props.children,n.mode,o,l.key)).return=n,n=s):((o=zc(l.type,l.key,l.props,null,n.mode,o)).ref=gs(n,s,l),o.return=n,n=o)}return i(n);case N:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){r(n,s.sibling),(s=a(s,l.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=_c(l,n.mode,o)).return=n,n=s}return i(n);case A:return e(n,s,(d=l._init)(l._payload),o)}if(te(l))return f(n,s,l,o);if(z(l))return x(n,s,l,o);bs(n,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,l)).return=n,n=s):(r(n,s),(s=$c(l,n.mode,o)).return=n,n=s),i(n)):r(n,s)}}var js=vs(!0),Ns=vs(!1),ws=Sa(null),ks=null,Ss=null,Es=null;function Cs(){Es=Ss=ks=null}function Is(e){var t=ws.current;Ea(ws),e._currentValue=t}function Ds(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ps(e,t){ks=e,Es=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yi=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=e,ks.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var As=null;function Ts(e){null===As?As=[e]:As.push(e)}function Rs(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ts(t)):(r.next=a.next,a.next=r),t.interleaved=r,zs(e,n)}function zs(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ls=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $s(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Do)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,zs(e,r)}return null===(a=n.interleaved)?(t.next=t,Ts(n)):(t.next=a.next,a.next=t),n.interleaved=t,zs(e,r)}function Bs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Us(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=l:s=s.next=l,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gs(e,t,r,n){var a=e.updateQueue;Ls=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=a.baseState;for(l=0,d=c=o=null,i=s;;){var m=i.lane,p=i.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,f=i;switch(m=t,p=r,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(p,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=f.payload)?h.call(p,u,m):h)||void 0===m)break e;u=M({},u,m);break e;case 2:Ls=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,l|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(m=i).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Mo|=l,e.lanes=l,e.memoizedState=u}}function Ws(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Hs={},Vs=Sa(Hs),qs=Sa(Hs),Qs=Sa(Hs);function Js(e){if(e===Hs)throw Error(s(174));return e}function Ys(e,t){switch(Ca(Qs,t),Ca(qs,e),Ca(Vs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(Vs),Ca(Vs,t)}function Ks(){Ea(Vs),Ea(qs),Ea(Qs)}function Xs(e){Js(Qs.current);var t=Js(Vs.current),r=oe(t,e.type);t!==r&&(Ca(qs,e),Ca(Vs,r))}function Zs(e){qs.current===e&&(Ea(Vs),Ea(qs))}var el=Sa(0);function tl(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rl=[];function nl(){for(var e=0;e<rl.length;e++)rl[e]._workInProgressVersionPrimary=null;rl.length=0}var al=v.ReactCurrentDispatcher,sl=v.ReactCurrentBatchConfig,ll=0,il=null,ol=null,cl=null,dl=!1,ul=!1,ml=0,pl=0;function hl(){throw Error(s(321))}function fl(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!on(e[r],t[r]))return!1;return!0}function xl(e,t,r,n,a,l){if(ll=l,il=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=null===e||null===e.memoizedState?Zl:ei,e=r(n,a),ul){l=0;do{if(ul=!1,ml=0,25<=l)throw Error(s(301));l+=1,cl=ol=null,t.updateQueue=null,al.current=ti,e=r(n,a)}while(ul)}if(al.current=Xl,t=null!==ol&&null!==ol.next,ll=0,cl=ol=il=null,dl=!1,t)throw Error(s(300));return e}function gl(){var e=0!==ml;return ml=0,e}function bl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cl?il.memoizedState=cl=e:cl=cl.next=e,cl}function yl(){if(null===ol){var e=il.alternate;e=null!==e?e.memoizedState:null}else e=ol.next;var t=null===cl?il.memoizedState:cl.next;if(null!==t)cl=t,ol=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ol=e).memoizedState,baseState:ol.baseState,baseQueue:ol.baseQueue,queue:ol.queue,next:null},null===cl?il.memoizedState=cl=e:cl=cl.next=e}return cl}function vl(e,t){return"function"===typeof t?t(e):t}function jl(e){var t=yl(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=ol,a=n.baseQueue,l=r.pending;if(null!==l){if(null!==a){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(null!==a){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((ll&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=n):c=c.next=m,il.lanes|=u,Mo|=u}d=d.next}while(null!==d&&d!==l);null===c?i=n:c.next=o,on(n,t.memoizedState)||(yi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{l=a.lane,il.lanes|=l,Mo|=l,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nl(e){var t=yl(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{l=e(l,i.action),i=i.next}while(i!==a);on(l,t.memoizedState)||(yi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function wl(){}function kl(e,t){var r=il,n=yl(),a=t(),l=!on(n.memoizedState,a);if(l&&(n.memoizedState=a,yi=!0),n=n.queue,Ll(Cl.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||null!==cl&&1&cl.memoizedState.tag){if(r.flags|=2048,Ol(9,El.bind(null,r,n,a,t),void 0,null),null===Po)throw Error(s(349));0!==(30&ll)||Sl(r,t,a)}return a}function Sl(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function El(e,t,r,n){t.value=r,t.getSnapshot=n,Il(t)&&Dl(e)}function Cl(e,t,r){return r(function(){Il(t)&&Dl(e)})}function Il(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!on(e,r)}catch(n){return!0}}function Dl(e){var t=zs(e,1);null!==t&&nc(t,e,1,-1)}function Pl(e){var t=bl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Ql.bind(null,il,e),[t.memoizedState,e]}function Ol(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Al(){return yl().memoizedState}function Tl(e,t,r,n){var a=bl();il.flags|=e,a.memoizedState=Ol(1|t,r,void 0,void 0===n?null:n)}function Rl(e,t,r,n){var a=yl();n=void 0===n?null:n;var s=void 0;if(null!==ol){var l=ol.memoizedState;if(s=l.destroy,null!==n&&fl(n,l.deps))return void(a.memoizedState=Ol(t,r,s,n))}il.flags|=e,a.memoizedState=Ol(1|t,r,s,n)}function zl(e,t){return Tl(8390656,8,e,t)}function Ll(e,t){return Rl(2048,8,e,t)}function Ml(e,t){return Rl(4,2,e,t)}function $l(e,t){return Rl(4,4,e,t)}function _l(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fl(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Rl(4,4,_l.bind(null,t,e),r)}function Bl(){}function Ul(e,t){var r=yl();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Gl(e,t){var r=yl();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wl(e,t,r){return 0===(21&ll)?(e.baseState&&(e.baseState=!1,yi=!0),e.memoizedState=r):(on(r,t)||(r=xt(),il.lanes|=r,Mo|=r,e.baseState=!0),t)}function Hl(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var n=sl.transition;sl.transition={};try{e(!1),t()}finally{vt=r,sl.transition=n}}function Vl(){return yl().memoizedState}function ql(e,t,r){var n=rc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jl(e))Yl(t,r);else if(null!==(r=Rs(e,t,r,n))){nc(r,e,n,tc()),Kl(r,t,n)}}function Ql(e,t,r){var n=rc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jl(e))Yl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,r);if(a.hasEagerState=!0,a.eagerState=i,on(i,l)){var o=t.interleaved;return null===o?(a.next=a,Ts(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=Rs(e,t,a,n))&&(nc(r,e,n,a=tc()),Kl(r,t,n))}}function Jl(e){var t=e.alternate;return e===il||null!==t&&t===il}function Yl(e,t){ul=dl=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kl(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Xl={readContext:Os,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Zl={readContext:Os,useCallback:function(e,t){return bl().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:zl,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Tl(4194308,4,_l.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tl(4,2,e,t)},useMemo:function(e,t){var r=bl();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bl();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ql.bind(null,il,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},bl().memoizedState=e},useState:Pl,useDebugValue:Bl,useDeferredValue:function(e){return bl().memoizedState=e},useTransition:function(){var e=Pl(!1),t=e[0];return e=Hl.bind(null,e[1]),bl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=il,a=bl();if(ss){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Po)throw Error(s(349));0!==(30&ll)||Sl(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,zl(Cl.bind(null,n,l,e),[e]),n.flags|=2048,Ol(9,El.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=bl(),t=Po.identifierPrefix;if(ss){var r=Xa;t=":"+t+"R"+(r=(Ka&~(1<<32-lt(Ka)-1)).toString(32)+r),0<(r=ml++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=pl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Os,useCallback:Ul,useContext:Os,useEffect:Ll,useImperativeHandle:Fl,useInsertionEffect:Ml,useLayoutEffect:$l,useMemo:Gl,useReducer:jl,useRef:Al,useState:function(){return jl(vl)},useDebugValue:Bl,useDeferredValue:function(e){return Wl(yl(),ol.memoizedState,e)},useTransition:function(){return[jl(vl)[0],yl().memoizedState]},useMutableSource:wl,useSyncExternalStore:kl,useId:Vl,unstable_isNewReconciler:!1},ti={readContext:Os,useCallback:Ul,useContext:Os,useEffect:Ll,useImperativeHandle:Fl,useInsertionEffect:Ml,useLayoutEffect:$l,useMemo:Gl,useReducer:Nl,useRef:Al,useState:function(){return Nl(vl)},useDebugValue:Bl,useDeferredValue:function(e){var t=yl();return null===ol?t.memoizedState=e:Wl(t,ol.memoizedState,e)},useTransition:function(){return[Nl(vl)[0],yl().memoizedState]},useMutableSource:wl,useSyncExternalStore:kl,useId:Vl,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var r in t=M({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ni(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:M({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tc(),a=rc(e),s=_s(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Fs(e,s,a))&&(nc(t,e,a,n),Bs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tc(),a=rc(e),s=_s(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Fs(e,s,a))&&(nc(t,e,a,n),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tc(),n=rc(e),a=_s(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fs(e,a,n))&&(nc(t,e,n,r),Bs(t,e,n))}};function si(e,t,r,n,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!cn(r,n)||!cn(a,s))}function li(e,t,r){var n=!1,a=Ia,s=t.contextType;return"object"===typeof s&&null!==s?s=Os(s):(a=Ta(t)?Oa:Da.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Aa(e,a):Ia),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function oi(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Os(s):(s=Ta(t)?Oa:Da.current,a.context=Aa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ni(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Gs(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var r="",n=t;do{r+=B(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,r){(r=_s(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ho||(Ho=!0,Vo=n),ui(0,t)},r}function hi(e,t,r){(r=_s(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ui(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){ui(0,t),"function"!==typeof n&&(null===qo?qo=new Set([this]):qo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fi(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new mi;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Ec.bind(null,e,t,r),t.then(e,e))}function xi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gi(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=_s(-1,1)).tag=2,Fs(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bi=v.ReactCurrentOwner,yi=!1;function vi(e,t,r,n){t.child=null===e?Ns(t,null,r,n):js(t,e.child,r,n)}function ji(e,t,r,n,a){r=r.render;var s=t.ref;return Ps(t,a),n=xl(e,t,r,n,s,a),r=gl(),null===e||yi?(ss&&r&&ts(t),t.flags|=1,vi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wi(e,t,a))}function Ni(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=zc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wi(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((r=null!==(r=r.compare)?r:cn)(l,n)&&e.ref===t.ref)return Wi(e,t,a)}return t.flags|=1,(e=Rc(s,n)).ref=t.ref,e.return=t,t.child=e}function wi(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(cn(s,n)&&e.ref===t.ref){if(yi=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Wi(e,t,a);0!==(131072&e.flags)&&(yi=!0)}}return Ei(e,t,r,n,a)}function ki(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Ro,To),To|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Ro,To),To|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Ca(Ro,To),To|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ca(Ro,To),To|=n;return vi(e,t,a,r),t.child}function Si(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ei(e,t,r,n,a){var s=Ta(r)?Oa:Da.current;return s=Aa(t,s),Ps(t,a),r=xl(e,t,r,n,s,a),n=gl(),null===e||yi?(ss&&n&&ts(t),t.flags|=1,vi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wi(e,t,a))}function Ci(e,t,r,n,a){if(Ta(r)){var s=!0;Ma(t)}else s=!1;if(Ps(t,a),null===t.stateNode)Gi(e,t),li(t,r,n),oi(t,r,n,a),n=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=r.contextType;"object"===typeof c&&null!==c?c=Os(c):c=Aa(t,c=Ta(r)?Oa:Da.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==n||o!==c)&&ii(t,l,n,c),Ls=!1;var m=t.memoizedState;l.state=m,Gs(t,n,l,a),o=t.memoizedState,i!==n||m!==o||Pa.current||Ls?("function"===typeof d&&(ni(t,r,d,n),o=t.memoizedState),(i=Ls||si(t,r,i,n,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=c,n=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,$s(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=r.contextType)&&null!==o?o=Os(o):o=Aa(t,o=Ta(r)?Oa:Da.current);var p=r.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&ii(t,l,n,o),Ls=!1,m=t.memoizedState,l.state=m,Gs(t,n,l,a);var h=t.memoizedState;i!==u||m!==h||Pa.current||Ls?("function"===typeof p&&(ni(t,r,p,n),h=t.memoizedState),(c=Ls||si(t,r,c,n,m,h,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(n,h,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,h,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),l.props=n,l.state=h,l.context=o,n=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ii(e,t,r,n,s,a)}function Ii(e,t,r,n,a,s){Si(e,t);var l=0!==(128&t.flags);if(!n&&!l)return a&&$a(t,r,!1),Wi(e,t,s);n=t.stateNode,bi.current=t;var i=l&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&l?(t.child=js(t,e.child,null,s),t.child=js(t,null,i,s)):vi(e,t,i,s),t.memoizedState=n.state,a&&$a(t,r,!0),t.child}function Di(e){var t=e.stateNode;t.pendingContext?za(0,t.pendingContext,t.pendingContext!==t.context):t.context&&za(0,t.context,!1),Ys(e,t.containerInfo)}function Pi(e,t,r,n,a){return hs(),fs(a),t.flags|=256,vi(e,t,r,n),t.child}var Oi,Ai,Ti,Ri,zi={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mi(e,t,r){var n,a=t.pendingProps,l=el.current,i=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&l)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Ca(el,1&l),null===e)return ds(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Mc(o,a,0,null),e=Lc(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(r),t.memoizedState=zi,e):$i(t,o));if(null!==(l=e.memoizedState)&&null!==(n=l.dehydrated))return function(e,t,r,n,a,l,i){if(r)return 256&t.flags?(t.flags&=-257,_i(e,t,i,n=di(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Mc({mode:"visible",children:n.children},a,0,null),(l=Lc(l,a,i,null)).flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,0!==(1&t.mode)&&js(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=zi,l);if(0===(1&t.mode))return _i(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var o=n.dgst;return n=o,_i(e,t,i,n=di(l=Error(s(419)),n,void 0))}if(o=0!==(i&e.childLanes),yi||o){if(null!==(n=Po)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==l.retryLane&&(l.retryLane=a,zs(e,a),nc(n,e,a,-1))}return xc(),_i(e,t,i,n=di(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,as=da(a.nextSibling),ns=t,ss=!0,ls=null,null!==e&&(Qa[Ja++]=Ka,Qa[Ja++]=Xa,Qa[Ja++]=Ya,Ka=e.id,Xa=e.overflow,Ya=t),t=$i(t,n.children),t.flags|=4096,t)}(e,t,o,a,n,l,r);if(i){i=a.fallback,o=t.mode,n=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Rc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==n?i=Rc(n,i):(i=Lc(i,o,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=null===(o=e.child.memoizedState)?Li(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=zi,a}return e=(i=e.child).sibling,a=Rc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function $i(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function _i(e,t,r,n){return null!==n&&fs(n),js(t,e.child,null,r),(e=$i(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fi(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ds(e.return,t,r)}function Bi(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Ui(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(vi(e,t,n.children,r),0!==(2&(n=el.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fi(e,r,t);else if(19===e.tag)Fi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ca(el,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===tl(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Bi(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===tl(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bi(t,!0,r,null,s);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Mo|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Rc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Rc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hi(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vi(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qi(e,t,r){var n=t.pendingProps;switch(rs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(t),null;case 1:case 17:return Ta(t.type)&&Ra(),Vi(t),null;case 3:return n=t.stateNode,Ks(),Ea(Pa),Ea(Da),nl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ms(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ls&&(ic(ls),ls=null))),Ai(e,t),Vi(t),null;case 5:Zs(t);var a=Js(Qs.current);if(r=t.type,null!==e&&null!=t.stateNode)Ti(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Vi(t),null}if(e=Js(Vs.current),ms(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[pa]=t,n[ha]=l,e=0!==(1&t.mode),r){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(a=0;a<Ln.length;a++)Fn(Ln[a],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":Y(n,l),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Fn("invalid",n);break;case"textarea":ae(n,l),Fn("invalid",n)}for(var o in be(r,l),a=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?n.textContent!==c&&(!0!==l.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Zn(n.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Fn("scroll",n)}switch(r){case"input":V(n),Z(n,l,!0);break;case"textarea":V(n),le(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=ea)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),"select"===r&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[pa]=t,e[ha]=n,Oi(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(r,n),r){case"dialog":Fn("cancel",e),Fn("close",e),a=n;break;case"iframe":case"object":case"embed":Fn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ln.length;a++)Fn(Ln[a],e);a=n;break;case"source":Fn("error",e),a=n;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),a=n;break;case"details":Fn("toggle",e),a=n;break;case"input":Y(e,n),a=J(e,n),Fn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=M({},n,{value:void 0}),Fn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Fn("invalid",e)}for(l in be(r,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?xe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==r||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Fn("scroll",e):null!=d&&y(e,l,d,o))}switch(r){case"input":V(e),Z(e,n,!1);break;case"textarea":V(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(l=n.value)?re(e,!!n.multiple,l,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=ea)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vi(t),null;case 6:if(e&&null!=t.stateNode)Ri(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Js(Qs.current),Js(Vs.current),ms(t)){if(n=t.stateNode,r=t.memoizedProps,n[pa]=t,(l=n.nodeValue!==r)&&null!==(e=ns))switch(e.tag){case 3:Zn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,r,0!==(1&e.mode))}l&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[pa]=t,t.stateNode=n}return Vi(t),null;case 13:if(Ea(el),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ps(),hs(),t.flags|=98560,l=!1;else if(l=ms(t),null!==n&&null!==n.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[pa]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vi(t),l=!1}else null!==ls&&(ic(ls),ls=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&el.current)?0===zo&&(zo=3):xc())),null!==t.updateQueue&&(t.flags|=4),Vi(t),null);case 4:return Ks(),Ai(e,t),null===e&&Gn(t.stateNode.containerInfo),Vi(t),null;case 10:return Is(t.type._context),Vi(t),null;case 19:if(Ea(el),null===(l=t.memoizedState))return Vi(t),null;if(n=0!==(128&t.flags),null===(o=l.rendering))if(n)Hi(l,!1);else{if(0!==zo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=tl(e))){for(t.flags|=128,Hi(l,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(l=r).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ca(el,1&el.current|2),t.child}e=e.sibling}null!==l.tail&&Ke()>Go&&(t.flags|=128,n=!0,Hi(l,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=tl(o))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!ss)return Vi(t),null}else 2*Ke()-l.renderingStartTime>Go&&1073741824!==r&&(t.flags|=128,n=!0,Hi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=l.last)?r.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,r=el.current,Ca(el,n?1&r|2:1&r),t):(Vi(t),null);case 22:case 23:return mc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&To)&&(Vi(t),6&t.subtreeFlags&&(t.flags|=8192)):Vi(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qi(e,t){switch(rs(t),t.tag){case 1:return Ta(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ks(),Ea(Pa),Ea(Da),nl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ea(el),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(el),null;case 4:return Ks(),null;case 10:return Is(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Oi=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ai=function(){},Ti=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Js(Vs.current);var s,l=null;switch(r){case"input":a=J(e,a),n=J(e,n),l=[];break;case"select":a=M({},a,{value:void 0}),n=M({},n,{value:void 0}),l=[];break;case"textarea":a=ne(e,a),n=ne(e,n),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=ea)}for(d in be(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(l||(l=[]),l.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fn("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ri=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ji=!1,Yi=!1,Ki="function"===typeof WeakSet?WeakSet:Set,Xi=null;function Zi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Sc(e,t,n)}else r.current=null}function eo(e,t,r){try{r()}catch(n){Sc(e,t,n)}}var to=!1;function ro(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&eo(t,r,s)}a=a.next}while(a!==n)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ao(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ha],delete t[xa],delete t[ga],delete t[ba])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lo(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function oo(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=ea));else if(4!==n&&null!==(e=e.child))for(oo(e,t,r),e=e.sibling;null!==e;)oo(e,t,r),e=e.sibling}function co(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(co(e,t,r),e=e.sibling;null!==e;)co(e,t,r),e=e.sibling}var uo=null,mo=!1;function po(e,t,r){for(r=r.child;null!==r;)ho(e,t,r),r=r.sibling}function ho(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,r)}catch(i){}switch(r.tag){case 5:Yi||Zi(r,t);case 6:var n=uo,a=mo;uo=null,po(e,t,r),mo=a,null!==(uo=n)&&(mo?(e=uo,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):uo.removeChild(r.stateNode));break;case 18:null!==uo&&(mo?(e=uo,r=r.stateNode,8===e.nodeType?ca(e.parentNode,r):1===e.nodeType&&ca(e,r),Gt(e)):ca(uo,r.stateNode));break;case 4:n=uo,a=mo,uo=r.stateNode.containerInfo,mo=!0,po(e,t,r),uo=n,mo=a;break;case 0:case 11:case 14:case 15:if(!Yi&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&eo(r,t,l),a=a.next}while(a!==n)}po(e,t,r);break;case 1:if(!Yi&&(Zi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){Sc(r,t,i)}po(e,t,r);break;case 21:po(e,t,r);break;case 22:1&r.mode?(Yi=(n=Yi)||null!==r.memoizedState,po(e,t,r),Yi=n):po(e,t,r);break;default:po(e,t,r)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Ki),t.forEach(function(t){var n=Dc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function xo(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:uo=o.stateNode,mo=!1;break e;case 3:case 4:uo=o.stateNode.containerInfo,mo=!0;break e}o=o.return}if(null===uo)throw Error(s(160));ho(l,i,a),uo=null,mo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){Sc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xo(t,e),bo(e),4&n){try{ro(3,e,e.return),no(3,e)}catch(x){Sc(e,e.return,x)}try{ro(5,e,e.return)}catch(x){Sc(e,e.return,x)}}break;case 1:xo(t,e),bo(e),512&n&&null!==r&&Zi(r,r.return);break;case 5:if(xo(t,e),bo(e),512&n&&null!==r&&Zi(r,r.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(x){Sc(e,e.return,x)}}if(4&n&&null!=(a=e.stateNode)){var l=e.memoizedProps,i=null!==r?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&K(a,l),ye(o,i);var d=ye(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?xe(a,m):"dangerouslySetInnerHTML"===u?ue(a,m):"children"===u?me(a,m):y(a,u,m,d)}switch(o){case"input":X(a,l);break;case"textarea":se(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var h=l.value;null!=h?re(a,!!l.multiple,h,!1):p!==!!l.multiple&&(null!=l.defaultValue?re(a,!!l.multiple,l.defaultValue,!0):re(a,!!l.multiple,l.multiple?[]:"",!1))}a[ha]=l}catch(x){Sc(e,e.return,x)}}break;case 6:if(xo(t,e),bo(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(x){Sc(e,e.return,x)}}break;case 3:if(xo(t,e),bo(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(x){Sc(e,e.return,x)}break;case 4:default:xo(t,e),bo(e);break;case 13:xo(t,e),bo(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Uo=Ke())),4&n&&fo(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Yi=(d=Yi)||u,xo(t,e),Yi=d):xo(t,e),bo(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xi=e,u=e.child;null!==u;){for(m=Xi=u;null!==Xi;){switch(h=(p=Xi).child,p.tag){case 0:case 11:case 14:case 15:ro(4,p,p.return);break;case 1:Zi(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){n=p,r=p.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(x){Sc(n,r,x)}}break;case 5:Zi(p,p.return);break;case 22:if(null!==p.memoizedState){No(m);continue}}null!==h?(h.return=p,Xi=h):No(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=fe("display",i))}catch(x){Sc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){Sc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xo(t,e),bo(e),4&n&&fo(e);case 21:}}function bo(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(lo(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(me(a,""),n.flags&=-33),co(e,io(e),a);break;case 3:case 4:var l=n.stateNode.containerInfo;oo(e,io(e),l);break;default:throw Error(s(161))}}catch(i){Sc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,r){Xi=e,vo(e,t,r)}function vo(e,t,r){for(var n=0!==(1&e.mode);null!==Xi;){var a=Xi,s=a.child;if(22===a.tag&&n){var l=null!==a.memoizedState||Ji;if(!l){var i=a.alternate,o=null!==i&&null!==i.memoizedState||Yi;i=Ji;var c=Yi;if(Ji=l,(Yi=o)&&!c)for(Xi=a;null!==Xi;)o=(l=Xi).child,22===l.tag&&null!==l.memoizedState?wo(a):null!==o?(o.return=l,Xi=o):wo(a);for(;null!==s;)Xi=s,vo(s,t,r),s=s.sibling;Xi=a,Ji=i,Yi=c}jo(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xi=s):jo(e)}}function jo(e){for(;null!==Xi;){var t=Xi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yi||no(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Yi)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Ws(t,l,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ws(t,i,r)}break;case 5:var o=t.stateNode;if(null===r&&4&t.flags){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Gt(m)}}}break;default:throw Error(s(163))}Yi||512&t.flags&&ao(t)}catch(ut){Sc(t,t.return,ut)}}if(t===e){Xi=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xi=r;break}Xi=t.return}}function No(e){for(;null!==Xi;){var t=Xi;if(t===e){Xi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xi=r;break}Xi=t.return}}function wo(e){for(;null!==Xi;){var t=Xi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{no(4,t)}catch(o){Sc(t,r,o)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(o){Sc(t,a,o)}}var s=t.return;try{ao(t)}catch(o){Sc(t,s,o)}break;case 5:var l=t.return;try{ao(t)}catch(o){Sc(t,l,o)}}}catch(o){Sc(t,t.return,o)}if(t===e){Xi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Xi=i;break}Xi=t.return}}var ko,So=Math.ceil,Eo=v.ReactCurrentDispatcher,Co=v.ReactCurrentOwner,Io=v.ReactCurrentBatchConfig,Do=0,Po=null,Oo=null,Ao=0,To=0,Ro=Sa(0),zo=0,Lo=null,Mo=0,$o=0,_o=0,Fo=null,Bo=null,Uo=0,Go=1/0,Wo=null,Ho=!1,Vo=null,qo=null,Qo=!1,Jo=null,Yo=0,Ko=0,Xo=null,Zo=-1,ec=0;function tc(){return 0!==(6&Do)?Ke():-1!==Zo?Zo:Zo=Ke()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Do)&&0!==Ao?Ao&-Ao:null!==xs.transition?(0===ec&&(ec=xt()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nc(e,t,r,n){if(50<Ko)throw Ko=0,Xo=null,Error(s(185));bt(e,r,n),0!==(2&Do)&&e===Po||(e===Po&&(0===(2&Do)&&($o|=r),4===zo&&oc(e,Ao)),ac(e,n),1===r&&0===Do&&0===(1&t.mode)&&(Go=Ke()+500,Fa&&Ga()))}function ac(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),i=1<<l,o=a[l];-1===o?0!==(i&r)&&0===(i&n)||(a[l]=ht(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var n=pt(e,e===Po?Ao:0);if(0===n)null!==r&&Qe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Qe(r),1===t)0===e.tag?function(e){Fa=!0,Ua(e)}(cc.bind(null,e)):Ua(cc.bind(null,e)),ia(function(){0===(6&Do)&&Ga()}),r=null;else{switch(jt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pc(r,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sc(e,t){if(Zo=-1,ec=0,0!==(6&Do))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=pt(e,e===Po?Ao:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var a=Do;Do|=2;var l=fc();for(Po===e&&Ao===t||(Wo=null,Go=Ke()+500,pc(e,t));;)try{yc();break}catch(o){hc(e,o)}Cs(),Eo.current=l,Do=a,null!==Oo?t=0:(Po=null,Ao=0,t=zo)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(n=a,t=lc(e,a))),1===t)throw r=Lo,pc(e,0),oc(e,n),ac(e,Ke()),r;if(6===t)oc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!on(s(),a))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,n))&&(0!==(l=ft(e))&&(n=l,t=lc(e,l))),1===t))throw r=Lo,pc(e,0),oc(e,n),ac(e,Ke()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:Nc(e,Bo,Wo);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=Uo+500-Ke())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=aa(Nc.bind(null,e,Bo,Wo),t);break}Nc(e,Bo,Wo);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-lt(n);l=1<<i,(i=t[i])>a&&(a=i),n&=~l}if(n=a,10<(n=(120>(n=Ke()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*So(n/1960))-n)){e.timeoutHandle=aa(Nc.bind(null,e,Bo,Wo),n);break}Nc(e,Bo,Wo);break;default:throw Error(s(329))}}}return ac(e,Ke()),e.callbackNode===r?sc.bind(null,e):null}function lc(e,t){var r=Fo;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bo,Bo=r,null!==t&&ic(t)),e}function ic(e){null===Bo?Bo=e:Bo.push.apply(Bo,e)}function oc(e,t){for(t&=~_o,t&=~$o,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lt(t),n=1<<r;e[r]=-1,t&=~n}}function cc(e){if(0!==(6&Do))throw Error(s(327));wc();var t=pt(e,0);if(0===(1&t))return ac(e,Ke()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=ft(e);0!==n&&(t=n,r=lc(e,n))}if(1===r)throw r=Lo,pc(e,0),oc(e,t),ac(e,Ke()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,Bo,Wo),ac(e,Ke()),null}function dc(e,t){var r=Do;Do|=1;try{return e(t)}finally{0===(Do=r)&&(Go=Ke()+500,Fa&&Ga())}}function uc(e){null!==Jo&&0===Jo.tag&&0===(6&Do)&&wc();var t=Do;Do|=1;var r=Io.transition,n=vt;try{if(Io.transition=null,vt=1,e)return e()}finally{vt=n,Io.transition=r,0===(6&(Do=t))&&Ga()}}function mc(){To=Ro.current,Ea(Ro)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,sa(r)),null!==Oo)for(r=Oo.return;null!==r;){var n=r;switch(rs(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ra();break;case 3:Ks(),Ea(Pa),Ea(Da),nl();break;case 5:Zs(n);break;case 4:Ks();break;case 13:case 19:Ea(el);break;case 10:Is(n.type._context);break;case 22:case 23:mc()}r=r.return}if(Po=e,Oo=e=Rc(e.current,null),Ao=To=t,zo=0,Lo=null,_o=$o=Mo=0,Bo=Fo=null,null!==As){for(t=0;t<As.length;t++)if(null!==(n=(r=As[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var l=s.next;s.next=a,n.next=l}r.pending=n}As=null}return e}function hc(e,t){for(;;){var r=Oo;try{if(Cs(),al.current=Xl,dl){for(var n=il.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}dl=!1}if(ll=0,cl=ol=il=null,ul=!1,ml=0,Co.current=null,null===r||null===r.return){zo=1,Lo=t,Oo=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=Ao,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=xi(i);if(null!==h){h.flags&=-257,gi(h,i,o,0,t),1&h.mode&&fi(l,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){fi(l,d,t),xc();break e}c=Error(s(426))}else if(ss&&1&o.mode){var g=xi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gi(g,i,o,0,t),fs(ci(c,o));break e}}l=c=ci(c,o),4!==zo&&(zo=2),null===Fo?Fo=[l]:Fo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Us(l,pi(0,c,t));break e;case 1:o=c;var b=l.type,y=l.stateNode;if(0===(128&l.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===qo||!qo.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t,Us(l,hi(l,o,t));break e}}l=l.return}while(null!==l)}jc(r)}catch(v){t=v,Oo===r&&null!==r&&(Oo=r=r.return);continue}break}}function fc(){var e=Eo.current;return Eo.current=Xl,null===e?Xl:e}function xc(){0!==zo&&3!==zo&&2!==zo||(zo=4),null===Po||0===(268435455&Mo)&&0===(268435455&$o)||oc(Po,Ao)}function gc(e,t){var r=Do;Do|=2;var n=fc();for(Po===e&&Ao===t||(Wo=null,pc(e,t));;)try{bc();break}catch(a){hc(e,a)}if(Cs(),Do=r,Eo.current=n,null!==Oo)throw Error(s(261));return Po=null,Ao=0,zo}function bc(){for(;null!==Oo;)vc(Oo)}function yc(){for(;null!==Oo&&!Je();)vc(Oo)}function vc(e){var t=ko(e.alternate,e,To);e.memoizedProps=e.pendingProps,null===t?jc(e):Oo=t,Co.current=null}function jc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=qi(r,t,To)))return void(Oo=r)}else{if(null!==(r=Qi(r,t)))return r.flags&=32767,void(Oo=r);if(null===e)return zo=6,void(Oo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oo=t);Oo=t=e}while(null!==t);0===zo&&(zo=5)}function Nc(e,t,r){var n=vt,a=Io.transition;try{Io.transition=null,vt=1,function(e,t,r,n){do{wc()}while(null!==Jo);if(0!==(6&Do))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-lt(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,l),e===Po&&(Oo=Po=null,Ao=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Qo||(Qo=!0,Pc(tt,function(){return wc(),null})),l=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||l){l=Io.transition,Io.transition=null;var i=vt;vt=1;var o=Do;Do|=4,Co.current=null,function(e,t){if(ta=Ht,hn(e=pn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch(j){r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==r||0!==a&&3!==m.nodeType||(o=i+a),m!==l||0!==n&&3!==m.nodeType||(c=i+n),3===m.nodeType&&(i+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===r&&++d===a&&(o=i),p===l&&++u===n&&(c=i),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}r=-1===o||-1===c?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ra={focusedElem:e,selectionRange:r},Ht=!1,Xi=t;null!==Xi;)if(e=(t=Xi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xi=e;else for(;null!==Xi;){t=Xi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,g=f.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:ri(t.type,x),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(j){Sc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Xi=e;break}Xi=t.return}f=to,to=!1}(e,r),go(r,e),fn(ra),Ht=!!ta,ra=ta=null,e.current=r,yo(r,e,a),Ye(),Do=o,vt=i,Io.transition=l}else e.current=r;if(Qo&&(Qo=!1,Jo=e,Yo=a),l=e.pendingLanes,0===l&&(qo=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ac(e,Ke()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ho)throw Ho=!1,e=Vo,Vo=null,e;0!==(1&Yo)&&0!==e.tag&&wc(),l=e.pendingLanes,0!==(1&l)?e===Xo?Ko++:(Ko=0,Xo=e):Ko=0,Ga()}(e,t,r,n)}finally{Io.transition=a,vt=n}return null}function wc(){if(null!==Jo){var e=jt(Yo),t=Io.transition,r=vt;try{if(Io.transition=null,vt=16>e?16:e,null===Jo)var n=!1;else{if(e=Jo,Jo=null,Yo=0,0!==(6&Do))throw Error(s(331));var a=Do;for(Do|=4,Xi=e.current;null!==Xi;){var l=Xi,i=l.child;if(0!==(16&Xi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Xi=d;null!==Xi;){var u=Xi;switch(u.tag){case 0:case 11:case 15:ro(8,u,l)}var m=u.child;if(null!==m)m.return=u,Xi=m;else for(;null!==Xi;){var p=(u=Xi).sibling,h=u.return;if(so(u),u===d){Xi=null;break}if(null!==p){p.return=h,Xi=p;break}Xi=h}}}var f=l.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Xi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Xi=i;else e:for(;null!==Xi;){if(0!==(2048&(l=Xi).flags))switch(l.tag){case 0:case 11:case 15:ro(9,l,l.return)}var b=l.sibling;if(null!==b){b.return=l.return,Xi=b;break e}Xi=l.return}}var y=e.current;for(Xi=y;null!==Xi;){var v=(i=Xi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Xi=v;else e:for(i=y;null!==Xi;){if(0!==(2048&(o=Xi).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(N){Sc(o,o.return,N)}if(o===i){Xi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Xi=j;break e}Xi=o.return}}if(Do=a,Ga(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(N){}n=!0}return n}finally{vt=r,Io.transition=t}}return!1}function kc(e,t,r){e=Fs(e,t=pi(0,t=ci(r,t),1),1),t=tc(),null!==e&&(bt(e,1,t),ac(e,t))}function Sc(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===qo||!qo.has(n))){t=Fs(t,e=hi(t,e=ci(r,e),1),1),e=tc(),null!==t&&(bt(t,1,e),ac(t,e));break}}t=t.return}}function Ec(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&r,Po===e&&(Ao&r)===r&&(4===zo||3===zo&&(130023424&Ao)===Ao&&500>Ke()-Uo?pc(e,0):_o|=r),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=tc();null!==(e=zs(e,t))&&(bt(e,t,r),ac(e,r))}function Ic(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cc(e,r)}function Dc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Cc(e,r)}function Pc(e,t){return qe(e,t)}function Oc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,r,n){return new Oc(e,t,r,n)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var r=e.alternate;return null===r?((r=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function zc(e,t,r,n,a,l){var i=2;if(n=e,"function"===typeof e)Tc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Lc(r.children,a,l,t);case k:i=8,a|=8;break;case S:return(e=Ac(12,r,t,2|a)).elementType=S,e.lanes=l,e;case D:return(e=Ac(13,r,t,a)).elementType=D,e.lanes=l,e;case P:return(e=Ac(19,r,t,a)).elementType=P,e.lanes=l,e;case T:return Mc(r,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:i=10;break e;case C:i=9;break e;case I:i=11;break e;case O:i=14;break e;case A:i=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(i,r,t,a)).elementType=e,t.type=n,t.lanes=l,t}function Lc(e,t,r,n){return(e=Ac(7,e,n,t)).lanes=r,e}function Mc(e,t,r,n){return(e=Ac(22,e,n,t)).elementType=T,e.lanes=r,e.stateNode={isHidden:!1},e}function $c(e,t,r){return(e=Ac(6,e,null,t)).lanes=r,e}function _c(e,t,r){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,r,n,a,s,l,i,o){return e=new Fc(e,t,r,i,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Uc(e){if(!e)return Ia;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Ta(r))return La(e,r,t)}return t}function Gc(e,t,r,n,a,s,l,i,o){return(e=Bc(r,n,!0,e,0,s,0,i,o)).context=Uc(null),r=e.current,(s=_s(n=tc(),a=rc(r))).callback=void 0!==t&&null!==t?t:null,Fs(r,s,a),e.current.lanes=a,bt(e,a,n),ac(e,n),e}function Wc(e,t,r,n){var a=t.current,s=tc(),l=rc(a);return r=Uc(r),null===t.context?t.context=r:t.pendingContext=r,(t=_s(s,l)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fs(a,t,l))&&(nc(e,a,l,s),Bs(e,a,l)),l}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function qc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}ko=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)yi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yi=!1,function(e,t,r){switch(t.tag){case 3:Di(t),hs();break;case 5:Xs(t);break;case 1:Ta(t.type)&&Ma(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ca(ws,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ca(el,1&el.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Mi(e,t,r):(Ca(el,1&el.current),null!==(e=Wi(e,t,r))?e.sibling:null);Ca(el,1&el.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Ui(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(el,el.current),n)break;return null;case 22:case 23:return t.lanes=0,ki(e,t,r)}return Wi(e,t,r)}(e,t,r);yi=0!==(131072&e.flags)}else yi=!1,ss&&0!==(1048576&t.flags)&&es(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gi(e,t),e=t.pendingProps;var a=Aa(t,Da.current);Ps(t,r),a=xl(null,t,n,e,a,r);var l=gl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(n)?(l=!0,Ma(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ms(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,oi(t,n,e,r),t=Ii(null,t,n,!0,l,r)):(t.tag=0,ss&&l&&ts(t),vi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gi(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(n),e=ri(n,e),a){case 0:t=Ei(null,t,n,e,r);break e;case 1:t=Ci(null,t,n,e,r);break e;case 11:t=ji(null,t,n,e,r);break e;case 14:t=Ni(null,t,n,ri(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ei(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 1:return n=t.type,a=t.pendingProps,Ci(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 3:e:{if(Di(t),null===e)throw Error(s(387));n=t.pendingProps,a=(l=t.memoizedState).element,$s(e,t),Gs(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Pi(e,t,n,r,a=ci(Error(s(423)),t));break e}if(n!==a){t=Pi(e,t,n,r,a=ci(Error(s(424)),t));break e}for(as=da(t.stateNode.containerInfo.firstChild),ns=t,ss=!0,ls=null,r=Ns(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(hs(),n===a){t=Wi(e,t,r);break e}vi(e,t,n,r)}t=t.child}return t;case 5:return Xs(t),null===e&&ds(t),n=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,i=a.children,na(n,a)?i=null:null!==l&&na(n,l)&&(t.flags|=32),Si(e,t),vi(e,t,i,r),t.child;case 6:return null===e&&ds(t),null;case 13:return Mi(e,t,r);case 4:return Ys(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=js(t,null,n,r):vi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,ji(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 7:return vi(e,t,t.pendingProps,r),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,Ca(ws,n._currentValue),n._currentValue=i,null!==l)if(on(l.value,i)){if(l.children===a.children&&!Pa.current){t=Wi(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===n){if(1===l.tag){(c=_s(-1,r&-r)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,null!==(c=l.alternate)&&(c.lanes|=r),Ds(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(s(341));i.lanes|=r,null!==(o=i.alternate)&&(o.lanes|=r),Ds(i,r,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}vi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Ps(t,r),n=n(a=Os(a)),t.flags|=1,vi(e,t,n,r),t.child;case 14:return a=ri(n=t.type,t.pendingProps),Ni(e,t,n,a=ri(n.type,a),r);case 15:return wi(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),Gi(e,t),t.tag=1,Ta(n)?(e=!0,Ma(t)):e=!1,Ps(t,r),li(t,n,a),oi(t,n,a,r),Ii(null,t,n,!0,e,r);case 19:return Ui(e,t,r);case 22:return ki(e,t,r)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,r,n,a){var s=r._reactRootContainer;if(s){var l=s;if("function"===typeof a){var i=a;a=function(){var e=Hc(l);i.call(e)}}Wc(t,l,e,a)}else l=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Hc(l);s.call(e)}}var l=Gc(t,n,e,0,null,!1,0,"",Zc);return e._reactRootContainer=l,e[fa]=l.current,Gn(8===e.nodeType?e.parentNode:e),uc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var i=n;n=function(){var e=Hc(o);i.call(e)}}var o=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=o,e[fa]=o.current,Gn(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,o,r,n)}),o}(r,t,e,a,n);return Hc(l)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[fa]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rt.length&&0!==t&&t<Rt[r].priority;r++);Rt.splice(r,0,e),0===r&&$t(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mt(t.pendingLanes);0!==r&&(yt(t,1|r),ac(t,Ke()),0===(6&Do)&&(Go=Ke()+500,Ga()))}break;case 13:uc(function(){var t=zs(e,1);if(null!==t){var r=tc();nc(t,e,1,r)}}),qc(e,1)}},wt=function(e){if(13===e.tag){var t=zs(e,134217728);if(null!==t)nc(t,e,134217728,tc());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=rc(e),r=zs(e,t);if(null!==r)nc(r,e,t,tc());qc(e,t)}},St=function(){return vt},Et=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},Ne=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Na(n);if(!a)throw Error(s(90));q(n),X(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ie=dc,De=uc;var td={usingClientEntryPoint:!1,Events:[va,ja,Na,Ee,Ce,dc]},rd={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{at=ad.inject(nd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Kc(e))throw Error(s(299));var r=!1,n="",a=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,r,0,n,a),e[fa]=t.current,Gn(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Xc(t))throw Error(s(200));return ed(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Kc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,l="",i=Qc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(l=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=Gc(t,null,e,1,null!=r?r:null,a,0,l,i),e[fa]=t.current,Gn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Yc(t)},t.render=function(e,t,r){if(!Xc(t))throw Error(s(200));return ed(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ed(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,r)=>{e.exports=r(983)},853:(e,t,r)=>{e.exports=r(234)},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},983:(e,t)=>{var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,o=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,f=r?Symbol.for("react.memo"):60115,x=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,v=r?Symbol.for("react.scope"):60119;function j(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case s:case i:case l:case p:return e;default:switch(e=e&&e.$$typeof){case c:case m:case x:case f:case o:return e;default:return t}}case a:return t}}}function N(e){return j(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=o,t.Element=n,t.ForwardRef=m,t.Fragment=s,t.Lazy=x,t.Memo=f,t.Portal=a,t.Profiler=i,t.StrictMode=l,t.Suspense=p,t.isAsyncMode=function(e){return N(e)||j(e)===d},t.isConcurrentMode=N,t.isContextConsumer=function(e){return j(e)===c},t.isContextProvider=function(e){return j(e)===o},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return j(e)===m},t.isFragment=function(e){return j(e)===s},t.isLazy=function(e){return j(e)===x},t.isMemo=function(e){return j(e)===f},t.isPortal=function(e){return j(e)===a},t.isProfiler=function(e){return j(e)===i},t.isStrictMode=function(e){return j(e)===l},t.isSuspense=function(e){return j(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===u||e===i||e===l||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===x||e.$$typeof===f||e.$$typeof===o||e.$$typeof===c||e.$$typeof===m||e.$$typeof===b||e.$$typeof===y||e.$$typeof===v||e.$$typeof===g)},t.typeOf=j}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n=r(43),a=r(391),s=(r(175),"popstate");function l(){return p(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return d("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:u(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function i(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?m(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function m(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function p(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o="POP",u=null,m=p();function p(){return(i.state||{idx:null}).idx}function f(){o="POP";let e=p(),t=null==e?null:e-m;m=e,u&&u({action:o,location:g.location,delta:t})}function x(e){return h(e)}null==m&&(m=0,i.replaceState({...i.state,idx:m},""));let g={get action(){return o},get location(){return e(a,i)},listen(e){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(s,f),u=e,()=>{a.removeEventListener(s,f),u=null}},createHref:e=>t(a,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let n=d(g.location,e,t);r&&r(n,e),m=p()+1;let s=c(n,m),h=g.createHref(n);try{i.pushState(s,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}l&&u&&u({action:o,location:g.location,delta:1})},replace:function(e,t){o="REPLACE";let n=d(g.location,e,t);r&&r(n,e),m=p();let a=c(n,m),s=g.createHref(n);i.replaceState(a,"",s),l&&u&&u({action:o,location:g.location,delta:0})},go:e=>i.go(e)};return g}function h(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),i(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function f(e,t){return x(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function x(e,t,r,n){let a=O(("string"===typeof t?m(t):t).pathname||"/",r);if(null==a)return null;let s=g(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let l=null;for(let i=0;null==l&&i<s.length;++i){let e=P(a);l=C(s[i],e,n)}return l}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(i(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let o=L([n,l.relativePath]),c=r.concat(l);e.children&&e.children.length>0&&(i(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),g(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:c})};return e.forEach((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of b(e.path))a(e,t,r);else a(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let l=b(n.join("/")),i=[];return i.push(...l.map(e=>""===e?s:[s,e].join("/"))),a&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}var y=/^:[\w-]+$/,v=3,j=2,N=1,w=10,k=-2,S=e=>"*"===e;function E(e,t){let r=e.split("/"),n=r.length;return r.some(S)&&(n+=k),t&&(n+=j),r.filter(e=>!S(e)).reduce((e,t)=>e+(y.test(t)?v:""===t?N:w),n)}function C(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},s="/",l=[];for(let i=0;i<n.length;++i){let e=n[i],o=i===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&r&&!n[n.length-1].route.index&&(d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:L([s,d.pathname]),pathnameBase:M(L([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=L([s,d.pathnameBase]))}return l}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=D(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=i[r]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[r];return e[n]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:l,pattern:e}}function D(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return o(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function A(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e){let t=T(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function z(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=m(e):(n={...e},i(!n.pathname||!n.pathname.includes("?"),A("?","pathname","search",n)),i(!n.pathname||!n.pathname.includes("#"),A("#","pathname","hash",n)),i(!n.search||!n.search.includes("#"),A("#","search","hash",n)));let s,l=""===e||""===n.pathname,o=l?"/":n.pathname;if(null==o)s=r;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:a=""}="string"===typeof e?m(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:$(n),hash:_(a)}}(n,s),d=o&&"/"!==o&&o.endsWith("/"),u=(l||"."===o)&&r.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var L=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",_=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var B=["POST","PUT","PATCH","DELETE"],U=(new Set(B),["GET",...B]);new Set(U),Symbol("ResetLoaderData");var G=n.createContext(null);G.displayName="DataRouter";var W=n.createContext(null);W.displayName="DataRouterState";var H=n.createContext({isTransitioning:!1});H.displayName="ViewTransition";var V=n.createContext(new Map);V.displayName="Fetchers";var q=n.createContext(null);q.displayName="Await";var Q=n.createContext(null);Q.displayName="Navigation";var J=n.createContext(null);J.displayName="Location";var Y=n.createContext({outlet:null,matches:[],isDataRoute:!1});Y.displayName="Route";var K=n.createContext(null);K.displayName="RouteError";function X(){return null!=n.useContext(J)}function Z(){return i(X(),"useLocation() may be used only in the context of a <Router> component."),n.useContext(J).location}var ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function te(e){n.useContext(Q).static||n.useLayoutEffect(e)}function re(){let{isDataRoute:e}=n.useContext(Y);return e?function(){let{router:e}=me("useNavigate"),t=he("useNavigate"),r=n.useRef(!1);te(()=>{r.current=!0});let a=n.useCallback(async function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(r.current,ee),r.current&&("number"===typeof n?e.navigate(n):await e.navigate(n,{fromRouteId:t,...a}))},[e,t]);return a}():function(){i(X(),"useNavigate() may be used only in the context of a <Router> component.");let e=n.useContext(G),{basename:t,navigator:r}=n.useContext(Q),{matches:a}=n.useContext(Y),{pathname:s}=Z(),l=JSON.stringify(R(a)),c=n.useRef(!1);te(()=>{c.current=!0});let d=n.useCallback(function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(c.current,ee),!c.current)return;if("number"===typeof n)return void r.go(n);let i=z(n,JSON.parse(l),s,"path"===a.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:L([t,i.pathname])),(a.replace?r.replace:r.push)(i,a.state,a)},[t,r,l,s,e]);return d}()}n.createContext(null);function ne(){let{matches:e}=n.useContext(Y),t=e[e.length-1];return t?t.params:{}}function ae(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=n.useContext(Y),{pathname:a}=Z(),s=JSON.stringify(R(r));return n.useMemo(()=>z(e,JSON.parse(s),a,"path"===t),[e,s,a,t])}function se(e,t,r,a){i(X(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=n.useContext(Q),{matches:l}=n.useContext(Y),c=l[l.length-1],d=c?c.params:{},u=c?c.pathname:"/",p=c?c.pathnameBase:"/",h=c&&c.route;{let e=h&&h.path||"";ge(u,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let x,g=Z();if(t){let e="string"===typeof t?m(t):t;i("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),x=e}else x=g;let b=x.pathname||"/",y=b;if("/"!==p){let e=p.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=f(e,{pathname:y});o(h||null!=v,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),o(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=de(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:L([p,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:L([p,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,r,a);return t&&j?n.createElement(J.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function le(){let e=fe(),t=F(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=n.createElement(n.Fragment,null,n.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),n.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",n.createElement("code",{style:l},"ErrorBoundary")," or"," ",n.createElement("code",{style:l},"errorElement")," prop on your route.")),n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:s},r):null,i)}var ie=n.createElement(le,null),oe=class extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(Y.Provider,{value:this.props.routeContext},n.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ce(e){let{routeContext:t,match:r,children:a}=e,s=n.useContext(G);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(Y.Provider,{value:t},a)}function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,s=r?.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==s?.[e.route.id]);i(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,o=-1;if(r)for(let n=0;n<a.length;n++){let e=a[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=n),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){l=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight((e,i,c)=>{let d,u=!1,m=null,p=null;r&&(d=s&&i.route.id?s[i.route.id]:void 0,m=i.route.errorElement||ie,l&&(o<0&&0===c?(ge("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,p=null):o===c&&(u=!0,p=i.route.hydrateFallbackElement||null)));let h=t.concat(a.slice(0,c+1)),f=()=>{let t;return t=d?m:u?p:i.route.Component?n.createElement(i.route.Component,null):i.route.element?i.route.element:e,n.createElement(ce,{match:i,routeContext:{outlet:e,matches:h,isDataRoute:null!=r},children:t})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===c)?n.createElement(oe,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function me(e){let t=n.useContext(G);return i(t,ue(e)),t}function pe(e){let t=n.useContext(W);return i(t,ue(e)),t}function he(e){let t=function(e){let t=n.useContext(Y);return i(t,ue(e)),t}(e),r=t.matches[t.matches.length-1];return i(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function fe(){let e=n.useContext(K),t=pe("useRouteError"),r=he("useRouteError");return void 0!==e?e:t.errors?.[r]}var xe={};function ge(e,t,r){t||xe[e]||(xe[e]=!0,o(!1,r))}n.memo(function(e){let{routes:t,future:r,state:n}=e;return se(t,void 0,n,r)});function be(e){i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(e){let{basename:t="/",children:r=null,location:a,navigationType:s="POP",navigator:l,static:c=!1}=e;i(!X(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),u=n.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);"string"===typeof a&&(a=m(a));let{pathname:p="/",search:h="",hash:f="",state:x=null,key:g="default"}=a,b=n.useMemo(()=>{let e=O(p,d);return null==e?null:{location:{pathname:e,search:h,hash:f,state:x,key:g},navigationType:s}},[d,p,h,f,x,g,s]);return o(null!=b,`<Router basename="${d}"> is not able to match the URL "${p}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==b?null:n.createElement(Q.Provider,{value:u},n.createElement(J.Provider,{children:r,value:b}))}function ve(e){let{children:t,location:r}=e;return se(je(t),r)}n.Component;function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return n.Children.forEach(e,(e,a)=>{if(!n.isValidElement(e))return;let s=[...t,a];if(e.type===n.Fragment)return void r.push.apply(r,je(e.props.children,s));i(e.type===be,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),i(!e.props.index||!e.props.children,"An index route cannot have child routes.");let l={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=je(e.props.children,s)),r.push(l)}),r}var Ne="get",we="application/x-www-form-urlencoded";function ke(e){return null!=e&&"string"===typeof e.tagName}var Se=null;var Ee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ce(e){return null==e||Ee.has(e)?e:(o(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${we}"`),null)}function Ie(e,t){let r,n,a,s,l;if(ke(i=e)&&"form"===i.tagName.toLowerCase()){let l=e.getAttribute("action");n=l?O(l,t):null,r=e.getAttribute("method")||Ne,a=Ce(e.getAttribute("enctype"))||we,s=new FormData(e)}else if(function(e){return ke(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ke(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let l=e.form;if(null==l)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||l.getAttribute("action");if(n=i?O(i,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Ne,a=Ce(e.getAttribute("formenctype"))||Ce(l.getAttribute("enctype"))||we,s=new FormData(l,e),!function(){if(null===Se)try{new FormData(document.createElement("form"),0),Se=!1}catch(e){Se=!0}return Se}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,n)}}else{if(ke(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ne,n=null,a=we,l=e}var i;return s&&"text/plain"===a&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}function De(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Pe(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Oe(e){return null!=e&&"string"===typeof e.page}function Ae(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Te(e,t,r,n,a,s){let l=(e,t)=>!r[t]||e.route.id!==r[t].route.id,i=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===s?t.filter((e,t)=>l(e,t)||i(e,t)):"data"===s?t.filter((t,s)=>{let o=n.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(l(t,s)||i(t,s))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Re(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let a=[n.module];return n.clientActionModule&&(a=a.concat(n.clientActionModule)),n.clientLoaderModule&&(a=a.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(a=a.concat(n.hydrateFallbackModule)),n.imports&&(a=a.concat(n.imports)),a}).flat(1),[...new Set(n)];var n}function ze(e,t){let r=new Set,n=new Set(t);return e.reduce((e,a)=>{if(t&&!Oe(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let s=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(s)||(r.add(s),e.push({key:s,link:a})),e},[])}function Le(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Me=new Set([100,101,204,205]);function $e(e,t){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.data":t&&"/"===O(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}n.Component;function _e(e){let{error:t,isOutsideRemixApp:r}=e;console.error(t);let a,s=n.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(F(t))return n.createElement(Fe,{title:"Unhandled Thrown Response!"},n.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return n.createElement(Fe,{title:"Application Error!",isOutsideRemixApp:r},n.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),n.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function Fe(e){let{title:t,renderScripts:r,isOutsideRemixApp:a,children:s}=e,{routeModules:l}=He();return l.root?.Layout&&!a?s:n.createElement("html",{lang:"en"},n.createElement("head",null,n.createElement("meta",{charSet:"utf-8"}),n.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),n.createElement("title",null,t)),n.createElement("body",null,n.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?n.createElement(Xe,null):null)))}function Be(e,t){return"lazy"===e.mode&&!0===t}function Ue(){let e=n.useContext(G);return De(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ge(){let e=n.useContext(W);return De(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var We=n.createContext(void 0);function He(){let e=n.useContext(We);return De(e,"You must render this element inside a <HydratedRouter> element"),e}function Ve(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function qe(e,t,r){if(r&&!Ke)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}function Qe(e){let{page:t,...r}=e,{router:a}=Ue(),s=n.useMemo(()=>f(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?n.createElement(Ye,{page:t,matches:s,...r}):null}function Je(e){let{manifest:t,routeModules:r}=He(),[a,s]=n.useState([]);return n.useEffect(()=>{let n=!1;return async function(e,t,r){return ze((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await Pe(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(Ae).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}(e,t,r).then(e=>{n||s(e)}),()=>{n=!0}},[e,t,r]),a}function Ye(e){let{page:t,matches:r,...a}=e,s=Z(),{manifest:l,routeModules:i}=He(),{basename:o}=Ue(),{loaderData:c,matches:d}=Ge(),u=n.useMemo(()=>Te(t,r,d,l,s,"data"),[t,r,d,l,s]),m=n.useMemo(()=>Te(t,r,d,l,s,"assets"),[t,r,d,l,s]),p=n.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,n=!1;if(r.forEach(t=>{let r=l.routes[t.route.id];r&&r.hasLoader&&(!u.some(e=>e.route.id===t.route.id)&&t.route.id in c&&i[t.route.id]?.shouldRevalidate||r.hasClientLoader?n=!0:e.add(t.route.id))}),0===e.size)return[];let a=$e(t,o);return n&&e.size>0&&a.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[o,c,s,l,u,r,t,i]),h=n.useMemo(()=>Re(m,l),[m,l]),f=Je(m);return n.createElement(n.Fragment,null,p.map(e=>n.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...a})),h.map(e=>n.createElement("link",{key:e,rel:"modulepreload",href:e,...a})),f.map(e=>{let{key:t,link:r}=e;return n.createElement("link",{key:t,...r})}))}We.displayName="FrameworkContext";var Ke=!1;function Xe(e){let{manifest:t,serverHandoffString:r,isSpaMode:a,renderMeta:s,routeDiscovery:l,ssr:i}=He(),{router:o,static:c,staticContext:d}=Ue(),{matches:u}=Ge(),m=Be(l,i);s&&(s.didRenderScripts=!0);let p=qe(u,null,a);n.useEffect(()=>{Ke=!0},[]);let h=n.useMemo(()=>{let a=d?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=c?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${m?"":`import ${JSON.stringify(t.url)}`};\n${p.map((e,r)=>{let n=`route${r}`,a=t.routes[e.route.id];De(a,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:l,clientMiddlewareModule:i,hydrateFallbackModule:o,module:c}=a,d=[...s?[{module:s,varName:`${n}_clientAction`}]:[],...l?[{module:l,varName:`${n}_clientLoader`}]:[],...i?[{module:i,varName:`${n}_clientMiddleware`}]:[],...o?[{module:o,varName:`${n}_HydrateFallback`}]:[],{module:c,varName:`${n}_main`}];return 1===d.length?`import * as ${n} from ${JSON.stringify(c)};`:[d.map(e=>`import * as ${e.varName} from "${e.module}";`).join("\n"),`const ${n} = {${d.map(e=>`...${e.varName}`).join(",")}};`].join("\n")}).join("\n")}\n  ${m?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:r,...n}=e,a=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),l=["/"];for(s.pop();s.length>0;)l.push(`/${s.join("/")}`),s.pop();l.forEach(e=>{let r=f(t.routes,e,t.basename);r&&r.forEach(e=>a.add(e.route.id))});let i=[...a].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return{...n,routes:i,sri:!!r||void 0}}(t,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${p.map((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return n.createElement(n.Fragment,null,n.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Le(a),type:void 0}),n.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Le(s),type:"module",async:!0}))},[]),x=Ke?[]:(g=t.entry.imports.concat(Re(p,t,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let b="object"===typeof t.sri?t.sri:{};return Ke?null:n.createElement(n.Fragment,null,"object"===typeof t.sri?n.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,m?null:n.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:b[t.url],suppressHydrationWarning:!0}),n.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:b[t.entry.module],suppressHydrationWarning:!0}),x.map(t=>n.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:b[t],suppressHydrationWarning:!0})),h)}function Ze(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var et="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{et&&(window.__reactRouterVersion="7.6.2")}catch(ld){}function tt(e){let{basename:t,children:r,window:a}=e,s=n.useRef();null==s.current&&(s.current=l({window:a,v5Compat:!0}));let i=s.current,[o,c]=n.useState({action:i.action,location:i.location}),d=n.useCallback(e=>{n.startTransition(()=>c(e))},[c]);return n.useLayoutEffect(()=>i.listen(d),[i,d]),n.createElement(ye,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i})}var rt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=n.forwardRef(function(e,t){let r,{onClick:a,discover:s="render",prefetch:l="none",relative:c,reloadDocument:d,replace:m,state:p,target:h,to:f,preventScrollReset:x,viewTransition:g,...b}=e,{basename:y}=n.useContext(Q),v="string"===typeof f&&rt.test(f),j=!1;if("string"===typeof f&&v&&(r=f,et))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),r=O(t.pathname,y);t.origin===e.origin&&null!=r?f=r+t.search+t.hash:j=!0}catch(ld){o(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(X(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=n.useContext(Q),{hash:s,pathname:l,search:o}=ae(e,{relative:t}),c=l;return"/"!==r&&(c="/"===l?r:L([r,l])),a.createHref({pathname:c,search:o,hash:s})}(f,{relative:c}),[w,k,S]=function(e,t){let r=n.useContext(We),[a,s]=n.useState(!1),[l,i]=n.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=t,p=n.useRef(null);n.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),n.useEffect(()=>{if(a){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[a]);let h=()=>{s(!0)},f=()=>{s(!1),i(!1)};return r?"intent"!==e?[l,p,{}]:[l,p,{onFocus:Ve(o,h),onBlur:Ve(c,f),onMouseEnter:Ve(d,h),onMouseLeave:Ve(u,f),onTouchStart:Ve(m,h)}]:[!1,p,{}]}(l,b),E=function(e){let{target:t,replace:r,state:a,preventScrollReset:s,relative:l,viewTransition:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=re(),c=Z(),d=ae(e,{relative:l});return n.useCallback(n=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(n,t)){n.preventDefault();let t=void 0!==r?r:u(c)===u(d);o(e,{replace:t,state:a,preventScrollReset:s,relative:l,viewTransition:i})}},[c,o,d,r,a,t,e,s,l,i])}(f,{replace:m,state:p,target:h,preventScrollReset:x,relative:c,viewTransition:g});let C=n.createElement("a",{...b,...S,href:r||N,onClick:j||d?a:function(e){a&&a(e),e.defaultPrevented||E(e)},ref:Ze(t,k),target:h,"data-discover":v||"render"!==s?void 0:"true"});return w&&!v?n.createElement(n.Fragment,null,C,n.createElement(Qe,{page:N})):C});nt.displayName="Link";var at=n.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:a=!1,className:s="",end:l=!1,style:o,to:c,viewTransition:d,children:u,...m}=e,p=ae(c,{relative:m.relative}),h=Z(),f=n.useContext(W),{navigator:x,basename:g}=n.useContext(Q),b=null!=f&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.useContext(H);i(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=it("useViewTransitionState"),s=ae(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=O(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=O(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=I(s.pathname,o)||null!=I(s.pathname,l)}(p)&&!0===d,y=x.encodeLocation?x.encodeLocation(p).pathname:p.pathname,v=h.pathname,j=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;a||(v=v.toLowerCase(),j=j?j.toLowerCase():null,y=y.toLowerCase()),j&&g&&(j=O(j,g)||j);const N="/"!==y&&y.endsWith("/")?y.length-1:y.length;let w,k=v===y||!l&&v.startsWith(y)&&"/"===v.charAt(N),S=null!=j&&(j===y||!l&&j.startsWith(y)&&"/"===j.charAt(y.length)),E={isActive:k,isPending:S,isTransitioning:b},C=k?r:void 0;w="function"===typeof s?s(E):[s,k?"active":null,S?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof o?o(E):o;return n.createElement(nt,{...m,"aria-current":C,className:w,ref:t,style:D,to:c,viewTransition:d},"function"===typeof u?u(E):u)});at.displayName="NavLink";var st=n.forwardRef((e,t)=>{let{discover:r="render",fetcherKey:a,navigate:s,reloadDocument:l,replace:o,state:c,method:d=Ne,action:m,onSubmit:p,relative:h,preventScrollReset:f,viewTransition:x,...g}=e,b=dt(),y=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=n.useContext(Q),a=n.useContext(Y);i(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...ae(e||".",{relative:t})},o=Z();if(null==e){l.search=o.search;let e=new URLSearchParams(l.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();l.search=r?`?${r}`:""}}e&&"."!==e||!s.route.index||(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(l.pathname="/"===l.pathname?r:L([r,l.pathname]));return u(l)}(m,{relative:h}),v="get"===d.toLowerCase()?"get":"post",j="string"===typeof m&&rt.test(m);return n.createElement("form",{ref:t,method:v,action:y,onSubmit:l?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=t?.getAttribute("formmethod")||d;b(t||e.currentTarget,{fetcherKey:a,method:r,navigate:s,replace:o,state:c,relative:h,preventScrollReset:f,viewTransition:x})},...g,"data-discover":j||"render"!==r?void 0:"true"})});function lt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function it(e){let t=n.useContext(G);return i(t,lt(e)),t}st.displayName="Form";var ot=0,ct=()=>`__${String(++ot)}__`;function dt(){let{router:e}=it("useSubmit"),{basename:t}=n.useContext(Q),r=he("useRouteId");return n.useCallback(async function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:l,encType:i,formData:o,body:c}=Ie(n,t);if(!1===a.navigate){let t=a.fetcherKey||ct();await e.fetch(t,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:o,body:c,formMethod:a.method||l,formEncType:a.encType||i,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:o,body:c,formMethod:a.method||l,formEncType:a.encType||i,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function ut(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ut(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function mt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ut(e))&&(n&&(n+=" "),n+=t);return n}const pt=e=>"boolean"===typeof e?`${e}`:0===e?"0":e,ht=mt,ft=e=>{const t=yt(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),xt(r,t)||bt(e)},getConflictingClassGroupIds:(e,t)=>{const a=r[e]||[];return t&&n[e]?[...a,...n[e]]:a}}},xt=(e,t)=>{if(0===e.length)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?xt(e.slice(1),n):void 0;if(a)return a;if(0===t.validators.length)return;const s=e.join("-");return t.validators.find(e=>{let{validator:t}=e;return t(s)})?.classGroupId},gt=/^\[(.+)\]$/,bt=e=>{if(gt.test(e)){const t=gt.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},yt=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)vt(r[a],n,a,t);return n},vt=(e,t,r,n)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:jt(t,e)).classGroupId=r)}if("function"===typeof e)return Nt(e)?void vt(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(e=>{let[a,s]=e;vt(s,jt(t,a),r,n)})})},jt=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},Nt=e=>e.isThemeGetter,wt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(a(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):a(e,t)}}},kt=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=e=>{const t=[];let r,n=0,a=0,s=0;for(let o=0;o<e.length;o++){let l=e[o];if(0===n&&0===a){if(":"===l){t.push(e.slice(s,o)),s=o+1;continue}if("/"===l){r=o;continue}}"["===l?n++:"]"===l?n--:"("===l?a++:")"===l&&a--}const l=0===t.length?e:e.substring(s),i=St(l);return{modifiers:t,hasImportantModifier:i!==l,baseClassName:i,maybePostfixModifierPosition:r&&r>s?r-s:void 0}};if(t){const e=t+":",r=n;n=t=>t.startsWith(e)?r(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(r){const e=n;n=t=>r({className:t,parseClassName:e})}return n},St=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,Et=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(e=>{"["===e[0]||t[e]?(r.push(...n.sort(),e),n=[]):n.push(e)}),r.push(...n.sort()),r}},Ct=/\s+/;function It(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=Dt(e))&&(n&&(n+=" "),n+=t);return n}const Dt=e=>{if("string"===typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Dt(e[n]))&&(r&&(r+=" "),r+=t);return r};function Pt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let a,s,l,i=function(t){const n=r.reduce((e,t)=>t(e),e());return a=(e=>({cache:wt(e.cacheSize),parseClassName:kt(e),sortModifiers:Et(e),...ft(e)}))(n),s=a.cache.get,l=a.cache.set,i=o,o(t)};function o(e){const t=s(e);if(t)return t;const r=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:s}=t,l=[],i=e.trim().split(Ct);let o="";for(let c=i.length-1;c>=0;c-=1){const e=i[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:p}=r(e);if(t){o=e+(o.length>0?" "+o:o);continue}let h=!!p,f=n(h?m.substring(0,p):m);if(!f){if(!h){o=e+(o.length>0?" "+o:o);continue}if(f=n(m),!f){o=e+(o.length>0?" "+o:o);continue}h=!1}const x=s(d).join(":"),g=u?x+"!":x,b=g+f;if(l.includes(b))continue;l.push(b);const y=a(f,h);for(let r=0;r<y.length;++r){const e=y[r];l.push(g+e)}o=e+(o.length>0?" "+o:o)}return o})(e,a);return l(e,r),r}return function(){return i(It.apply(null,arguments))}}const Ot=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},At=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Tt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Rt=/^\d+\/\d+$/,zt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$t=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_t=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ft=e=>Rt.test(e),Bt=e=>!!e&&!Number.isNaN(Number(e)),Ut=e=>!!e&&Number.isInteger(Number(e)),Gt=e=>e.endsWith("%")&&Bt(e.slice(0,-1)),Wt=e=>zt.test(e),Ht=()=>!0,Vt=e=>Lt.test(e)&&!Mt.test(e),qt=()=>!1,Qt=e=>$t.test(e),Jt=e=>_t.test(e),Yt=e=>!Xt(e)&&!ar(e),Kt=e=>ur(e,fr,qt),Xt=e=>At.test(e),Zt=e=>ur(e,xr,Vt),er=e=>ur(e,gr,Bt),tr=e=>ur(e,pr,qt),rr=e=>ur(e,hr,Jt),nr=e=>ur(e,yr,Qt),ar=e=>Tt.test(e),sr=e=>mr(e,xr),lr=e=>mr(e,br),ir=e=>mr(e,pr),or=e=>mr(e,fr),cr=e=>mr(e,hr),dr=e=>mr(e,yr,!0),ur=(e,t,r)=>{const n=At.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},mr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Tt.exec(e);return!!n&&(n[1]?t(n[1]):r)},pr=e=>"position"===e||"percentage"===e,hr=e=>"image"===e||"url"===e,fr=e=>"length"===e||"size"===e||"bg-size"===e,xr=e=>"length"===e,gr=e=>"number"===e,br=e=>"family-name"===e,yr=e=>"shadow"===e,vr=(Symbol.toStringTag,()=>{const e=Ot("color"),t=Ot("font"),r=Ot("text"),n=Ot("font-weight"),a=Ot("tracking"),s=Ot("leading"),l=Ot("breakpoint"),i=Ot("container"),o=Ot("spacing"),c=Ot("radius"),d=Ot("shadow"),u=Ot("inset-shadow"),m=Ot("text-shadow"),p=Ot("drop-shadow"),h=Ot("blur"),f=Ot("perspective"),x=Ot("aspect"),g=Ot("ease"),b=Ot("animate"),y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",ar,Xt],v=()=>[ar,Xt,o],j=()=>[Ft,"full","auto",...v()],N=()=>[Ut,"none","subgrid",ar,Xt],w=()=>["auto",{span:["full",Ut,ar,Xt]},Ut,ar,Xt],k=()=>[Ut,"auto",ar,Xt],S=()=>["auto","min","max","fr",ar,Xt],E=()=>["auto",...v()],C=()=>[Ft,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],I=()=>[e,ar,Xt],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",ir,tr,{position:[ar,Xt]}],P=()=>["auto","cover","contain",or,Kt,{size:[ar,Xt]}],O=()=>[Gt,sr,Zt],A=()=>["","none","full",c,ar,Xt],T=()=>["",Bt,sr,Zt],R=()=>[Bt,Gt,ir,tr],z=()=>["","none",h,ar,Xt],L=()=>["none",Bt,ar,Xt],M=()=>["none",Bt,ar,Xt],$=()=>[Bt,ar,Xt],_=()=>[Ft,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wt],breakpoint:[Wt],color:[Ht],container:[Wt],"drop-shadow":[Wt],ease:["in","out","in-out"],font:[Yt],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wt],shadow:[Wt],spacing:["px",Bt],text:[Wt],"text-shadow":[Wt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ft,Xt,ar,x]}],container:["container"],columns:[{columns:[Bt,Xt,ar,i]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[Ut,"auto",ar,Xt]}],basis:[{basis:[Ft,"full","auto",i,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Bt,Ft,"auto","initial","none",Xt]}],grow:[{grow:["",Bt,ar,Xt]}],shrink:[{shrink:["",Bt,ar,Xt]}],order:[{order:[Ut,"first","last","none",ar,Xt]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:w()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:w()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:E()}],mx:[{mx:E()}],my:[{my:E()}],ms:[{ms:E()}],me:[{me:E()}],mt:[{mt:E()}],mr:[{mr:E()}],mb:[{mb:E()}],ml:[{ml:E()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[i,"screen",...C()]}],"min-w":[{"min-w":[i,"screen","none",...C()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[l]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",r,sr,Zt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ar,er]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gt,Xt]}],"font-family":[{font:[lr,Xt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ar,Xt]}],"line-clamp":[{"line-clamp":[Bt,"none",ar,er]}],leading:[{leading:[s,...v()]}],"list-image":[{"list-image":["none",ar,Xt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ar,Xt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Bt,"from-font","auto",ar,Zt]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Bt,"auto",ar,Xt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ar,Xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ar,Xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ut,ar,Xt],radial:["",ar,Xt],conic:[Ut,ar,Xt]},cr,rr]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:T()}],"border-w-x":[{"border-x":T()}],"border-w-y":[{"border-y":T()}],"border-w-s":[{"border-s":T()}],"border-w-e":[{"border-e":T()}],"border-w-t":[{"border-t":T()}],"border-w-r":[{"border-r":T()}],"border-w-b":[{"border-b":T()}],"border-w-l":[{"border-l":T()}],"divide-x":[{"divide-x":T()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":T()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Bt,ar,Xt]}],"outline-w":[{outline:["",Bt,sr,Zt]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",d,dr,nr]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",u,dr,nr]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Bt,Zt]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":T()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",m,dr,nr]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Bt,ar,Xt]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[ar,Xt]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ar,Xt]}],filter:[{filter:["","none",ar,Xt]}],blur:[{blur:z()}],brightness:[{brightness:[Bt,ar,Xt]}],contrast:[{contrast:[Bt,ar,Xt]}],"drop-shadow":[{"drop-shadow":["","none",p,dr,nr]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Bt,ar,Xt]}],"hue-rotate":[{"hue-rotate":[Bt,ar,Xt]}],invert:[{invert:["",Bt,ar,Xt]}],saturate:[{saturate:[Bt,ar,Xt]}],sepia:[{sepia:["",Bt,ar,Xt]}],"backdrop-filter":[{"backdrop-filter":["","none",ar,Xt]}],"backdrop-blur":[{"backdrop-blur":z()}],"backdrop-brightness":[{"backdrop-brightness":[Bt,ar,Xt]}],"backdrop-contrast":[{"backdrop-contrast":[Bt,ar,Xt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Bt,ar,Xt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Bt,ar,Xt]}],"backdrop-invert":[{"backdrop-invert":["",Bt,ar,Xt]}],"backdrop-opacity":[{"backdrop-opacity":[Bt,ar,Xt]}],"backdrop-saturate":[{"backdrop-saturate":[Bt,ar,Xt]}],"backdrop-sepia":[{"backdrop-sepia":["",Bt,ar,Xt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ar,Xt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Bt,"initial",ar,Xt]}],ease:[{ease:["linear","initial",g,ar,Xt]}],delay:[{delay:[Bt,ar,Xt]}],animate:[{animate:["none",b,ar,Xt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,ar,Xt]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:M()}],"scale-x":[{"scale-x":M()}],"scale-y":[{"scale-y":M()}],"scale-z":[{"scale-z":M()}],"scale-3d":["scale-3d"],skew:[{skew:$()}],"skew-x":[{"skew-x":$()}],"skew-y":[{"skew-y":$()}],transform:[{transform:[ar,Xt,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_()}],"translate-x":[{"translate-x":_()}],"translate-y":[{"translate-y":_()}],"translate-z":[{"translate-z":_()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ar,Xt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ar,Xt]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Bt,sr,Zt,er]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),jr=Pt(vr);function Nr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return jr(mt(t))}var wr=r(579);const kr=(Sr="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",Er={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if(null==(null===Er||void 0===Er?void 0:Er.variants))return ht(Sr,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className);const{variants:r,defaultVariants:n}=Er,a=Object.keys(r).map(t=>{const a=null===e||void 0===e?void 0:e[t],s=null===n||void 0===n?void 0:n[t];if(null===a)return null;const l=pt(a)||pt(s);return r[t][l]}),s=e&&Object.entries(e).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),l=null===Er||void 0===Er||null===(t=Er.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:r,className:a,...l}=t;return Object.entries(l).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...s}[t]):{...n,...s}[t]===r})?[...e,r,a]:e},[]);return ht(Sr,a,l,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className)});var Sr,Er;const Cr=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:s=!1,...l}=e;return(0,wr.jsx)("button",{className:Nr(kr({variant:n,size:a,className:r})),ref:t,...l})});Cr.displayName="Button";const Ir=()=>{const e=Z(),t=t=>e.pathname===t;return(0,wr.jsx)("nav",{className:"bg-blue-900 text-white shadow-lg",children:(0,wr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,wr.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,wr.jsx)("div",{className:"flex items-center",children:(0,wr.jsx)(nt,{to:"/",className:"flex-shrink-0",children:(0,wr.jsx)("h1",{className:"text-xl font-bold",children:"Practice Support"})})}),(0,wr.jsxs)("div",{className:"flex space-x-4",children:[(0,wr.jsx)(nt,{to:"/",children:(0,wr.jsx)(Cr,{variant:t("/")?"secondary":"ghost",className:"text-white hover:bg-blue-800",children:"Dashboard"})}),(0,wr.jsx)(nt,{to:"/clients",children:(0,wr.jsx)(Cr,{variant:t("/clients")?"secondary":"ghost",className:"text-white hover:bg-blue-800",children:"Clients"})}),(0,wr.jsx)(nt,{to:"/matters",children:(0,wr.jsx)(Cr,{variant:t("/matters")?"secondary":"ghost",className:"text-white hover:bg-blue-800",children:"Matters"})}),(0,wr.jsx)(nt,{to:"/people",children:(0,wr.jsx)(Cr,{variant:t("/people")?"secondary":"ghost",className:"text-white hover:bg-blue-800",children:"People"})}),(0,wr.jsx)(nt,{to:"/organizations",children:(0,wr.jsx)(Cr,{variant:t("/organizations")?"secondary":"ghost",className:"text-white hover:bg-blue-800",children:"Organizations"})}),(0,wr.jsx)(nt,{to:"/custodians",children:(0,wr.jsx)(Cr,{variant:t("/custodians")?"secondary":"ghost",className:"text-white hover:bg-blue-800",children:"Custodians"})}),(0,wr.jsx)(nt,{to:"/collections",children:(0,wr.jsx)(Cr,{variant:t("/collections")?"secondary":"ghost",className:"text-white hover:bg-blue-800",children:"Collections"})}),(0,wr.jsx)(nt,{to:"/tasks",children:(0,wr.jsx)(Cr,{variant:t("/tasks")?"secondary":"ghost",className:"text-white hover:bg-blue-800",children:"Tasks"})}),(0,wr.jsx)(nt,{to:"/users",children:(0,wr.jsx)(Cr,{variant:t("/users")?"secondary":"ghost",className:"text-white hover:bg-blue-800",children:"Users"})})]})]})})})},Dr=e=>{let{children:t}=e;return(0,wr.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,wr.jsx)(Ir,{}),(0,wr.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t})]})},Pr=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Or=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},Ar=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var Tr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rr=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:i="",children:o,iconNode:c,...d}=e;return(0,n.createElement)("svg",{ref:t,...Tr,width:a,height:a,stroke:r,strokeWidth:l?24*Number(s)/Number(a):s,className:Or("lucide",i),...!o&&!Ar(d)&&{"aria-hidden":"true"},...d},[...c.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),zr=(e,t)=>{const r=(0,n.forwardRef)((r,a)=>{let{className:s,...l}=r;return(0,n.createElement)(Rr,{ref:a,iconNode:t,className:Or(`lucide-${i=Pr(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...l});var i});return r.displayName=Pr(e),r},Lr=zr("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Mr=zr("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),$r=zr("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),_r=zr("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Fr=zr("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),Br=zr("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ur=zr("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Gr=e=>{if(!e)return!1;const t=new Date,r=new Date(e);return t.setHours(0,0,0,0),r.setHours(0,0,0,0),r<t},Wr=e=>e?e.charAt(0)+e.slice(1).toLowerCase():"Collection",Hr=e=>{switch(e){case"COLLECTION":default:return"bg-blue-100 text-blue-800";case"CULLING":return"bg-yellow-100 text-yellow-800";case"REVIEW":return"bg-orange-100 text-orange-800";case"PRODUCTION":return"bg-green-100 text-green-800";case"INACTIVE":return"bg-gray-100 text-gray-800"}},Vr=()=>{const[e,t]=(0,n.useState)({totalClients:0,totalMatters:0,totalTasks:0,activeTasks:0,overdueTasks:0,totalCollections:0,totalInvoices:0,matterStatusCounts:{},recentClients:[],recentMatters:[],recentTasks:[]}),[r,a]=(0,n.useState)(null),[s,l]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{try{const[e,r,n,s,l,i]=await Promise.all([fetch("/api/clients"),fetch("/api/matters"),fetch("/api/auth/current-user/tasks"),fetch("/api/auth/current-user"),fetch("/api/collections"),fetch("/api/invoices")]);if(e.ok&&r.ok&&n.ok&&s.ok&&l.ok&&i.ok){const[o,c,d,u,m,p]=await Promise.all([e.json(),r.json(),n.json(),s.json(),l.json(),i.json()]);a(u);let h=o,f=c;if(u&&u.person){const e=u.person.id;h=o.filter(t=>t.attorneyId===e||t.paralegalId===e||t.projectManagerId===e),f=c.filter(t=>t.people&&t.people.some(t=>t.person&&t.person.id===e))}const x=d.filter(e=>"COMPLETED"!==e.status).length,g=d.filter(e=>e.dueDate&&Gr(e.dueDate)&&"COMPLETED"!==e.status).length,b=f.reduce((e,t)=>{const r=t.status||"COLLECTION";return e[r]=(e[r]||0)+1,e},{}),y=p.filter(e=>"PAID"!==e.status&&"SUBMITTED"!==e.status).length,v=m.filter(e=>"COMPLETED"!==e.status).length;t({totalClients:h.length,totalMatters:f.length,totalTasks:d.length,activeTasks:x,overdueTasks:g,totalCollections:v,totalInvoices:y,matterStatusCounts:b,recentClients:h.slice(-5).reverse(),recentMatters:f.slice(-5).reverse(),recentTasks:d.slice(-5).reverse()})}}catch(e){console.error("Error fetching stats:",e)}finally{l(!1)}})()},[]),s?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-8",children:[(0,wr.jsxs)("div",{className:"text-center",children:[(0,wr.jsxs)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:["Welcome to Practice Support",r&&(0,wr.jsxs)("span",{className:"block text-lg font-normal text-gray-600 mt-2",children:[r.firstName," ",r.lastName,r.person&&(0,wr.jsxs)("span",{className:"text-sm text-blue-600 block",children:["Linked to: ",r.person.firstName," ",r.person.lastName]})]})]}),(0,wr.jsx)("p",{className:"text-xl text-gray-600",children:r&&r.person?"Your personalized dashboard showing tasks and matters relevant to you":"Manage your law firm's clients and matters efficiently"})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,wr.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)(Lr,{className:"h-8 w-8 text-blue-600"}),(0,wr.jsxs)("div",{className:"ml-4",children:[(0,wr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalClients}),(0,wr.jsx)("p",{className:"text-gray-600",children:r&&r.person?"My Clients":"Total Clients"})]})]})}),(0,wr.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)(Mr,{className:"h-8 w-8 text-green-600"}),(0,wr.jsxs)("div",{className:"ml-4",children:[(0,wr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalMatters}),(0,wr.jsx)("p",{className:"text-gray-600",children:r&&r.person?"My Matters":"Total Matters"})]})]})}),(0,wr.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)($r,{className:"h-8 w-8 text-indigo-600"}),(0,wr.jsxs)("div",{className:"ml-4",children:[(0,wr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalTasks}),(0,wr.jsx)("p",{className:"text-gray-600",children:r&&r.person?"My Tasks":"Total Tasks"})]})]})})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,wr.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)($r,{className:"h-8 w-8 text-blue-600"}),(0,wr.jsxs)("div",{className:"ml-4",children:[(0,wr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.activeTasks}),(0,wr.jsx)("p",{className:"text-gray-600",children:r&&r.person?"My Active Tasks":"Active Tasks"})]})]})}),(0,wr.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)($r,{className:"h-8 w-8 "+(e.overdueTasks>0?"text-red-600":"text-gray-400")}),(0,wr.jsxs)("div",{className:"ml-4",children:[(0,wr.jsx)("p",{className:"text-2xl font-bold "+(e.overdueTasks>0?"text-red-600":"text-gray-900"),children:e.overdueTasks}),(0,wr.jsx)("p",{className:"text-gray-600",children:r&&r.person?"My Overdue Tasks":"Overdue Tasks"})]})]})}),(0,wr.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)(_r,{className:"h-8 w-8 text-purple-600"}),(0,wr.jsxs)("div",{className:"ml-4",children:[(0,wr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalCollections}),(0,wr.jsx)("p",{className:"text-gray-600",children:"Active Collections"})]})]})}),(0,wr.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)(Fr,{className:"h-8 w-8 text-orange-600"}),(0,wr.jsxs)("div",{className:"ml-4",children:[(0,wr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalInvoices}),(0,wr.jsx)("p",{className:"text-gray-600",children:"Pending Invoices"})]})]})})]}),e.totalMatters>0&&(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:r&&r.person?"My Matters by Status":"Matters by Status"}),(0,wr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:["COLLECTION","CULLING","REVIEW","PRODUCTION","INACTIVE"].map(t=>(0,wr.jsxs)("div",{className:"text-center",children:[(0,wr.jsx)("div",{className:`px-3 py-2 rounded-full text-sm font-medium ${Hr(t)}`,children:Wr(t)}),(0,wr.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:e.matterStatusCounts[t]||0})]},t))})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,wr.jsx)(nt,{to:"/clients",children:(0,wr.jsxs)(Cr,{className:"w-full bg-blue-600 hover:bg-blue-700 h-12",children:[(0,wr.jsx)(Lr,{className:"w-5 h-5 mr-2"}),"Manage Clients"]})}),(0,wr.jsx)(nt,{to:"/matters",children:(0,wr.jsxs)(Cr,{className:"w-full bg-green-600 hover:bg-green-700 h-12",children:[(0,wr.jsx)(Mr,{className:"w-5 h-5 mr-2"}),"Manage Matters"]})}),(0,wr.jsx)(nt,{to:"/people",children:(0,wr.jsxs)(Cr,{className:"w-full bg-purple-600 hover:bg-purple-700 h-12",children:[(0,wr.jsx)(Br,{className:"w-5 h-5 mr-2"}),"Manage People"]})}),(0,wr.jsx)(nt,{to:"/tasks",children:(0,wr.jsxs)(Cr,{className:"w-full bg-indigo-600 hover:bg-indigo-700 h-12",children:[(0,wr.jsx)($r,{className:"w-5 h-5 mr-2"}),"Manage Tasks"]})}),(0,wr.jsx)(nt,{to:"/kanban",children:(0,wr.jsxs)(Cr,{className:"w-full bg-orange-600 hover:bg-orange-700 h-12",children:[(0,wr.jsx)(Ur,{className:"w-5 h-5 mr-2"}),"Kanban Board"]})})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:r&&r.person?"My Recent Clients":"Recent Clients"}),0===e.recentClients.length?(0,wr.jsx)("p",{className:"text-gray-500",children:r&&r.person?"No clients assigned to you yet":"No clients yet"}):(0,wr.jsx)("ul",{className:"space-y-3",children:e.recentClients.map(e=>(0,wr.jsxs)("li",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)(nt,{to:`/clients/${e.id}`,className:"font-medium text-blue-600 hover:text-blue-800",children:e.clientName}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["#",e.clientNumber]})]}),(0,wr.jsxs)("span",{className:"text-sm text-gray-500",children:[e.matters.length," matter",1!==e.matters.length?"s":""]})]},e.id))})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:r&&r.person?"My Recent Matters":"Recent Matters"}),0===e.recentMatters.length?(0,wr.jsx)("p",{className:"text-gray-500",children:r&&r.person?"No matters assigned to you yet":"No matters yet"}):(0,wr.jsx)("ul",{className:"space-y-3",children:e.recentMatters.map(e=>(0,wr.jsxs)("li",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wr.jsx)(nt,{to:`/matters/${e.id}`,className:"font-medium text-blue-600 hover:text-blue-800",children:e.matterName}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Hr(e.status)}`,children:Wr(e.status)})]}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["#",e.matterNumber]})]}),(0,wr.jsx)(nt,{to:`/clients/${e.client.id}`,className:"text-sm text-gray-600 hover:text-gray-800",children:e.client.clientName})]},e.id))})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:r&&r.person?"My Recent Tasks":"Recent Tasks"}),0===e.recentTasks.length?(0,wr.jsx)("p",{className:"text-gray-500",children:r&&r.person?"No tasks assigned to you yet":"No tasks yet"}):(0,wr.jsx)("ul",{className:"space-y-3",children:e.recentTasks.map(e=>(0,wr.jsxs)("li",{className:"p-3 bg-gray-50 rounded-md",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,wr.jsx)(nt,{to:`/tasks/${e.id}`,className:"font-medium text-blue-600 hover:text-blue-800",children:e.title}),(0,wr.jsxs)("div",{className:"flex gap-2",children:[(0,wr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("URGENT"===e.priority?"text-red-600 bg-red-100":"HIGH"===e.priority?"text-orange-600 bg-orange-100":"MEDIUM"===e.priority?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100"),children:e.priority}),(0,wr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("TODO"===e.status?"text-gray-600 bg-gray-100":"IN_PROGRESS"===e.status?"text-blue-600 bg-blue-100":"COMPLETED"===e.status?"text-green-600 bg-green-100":"text-yellow-600 bg-yellow-100"),children:e.status?e.status.replace("_"," "):"Unknown"})]})]}),(0,wr.jsxs)("div",{className:"text-sm text-gray-500",children:[e.dueDate?(0,wr.jsxs)("span",{className:Gr(e.dueDate)&&"COMPLETED"!==e.status?"text-red-600 font-medium":"",children:["Due: ",new Date(e.dueDate).toLocaleDateString(),Gr(e.dueDate)&&"COMPLETED"!==e.status&&" (Overdue)"]}):(0,wr.jsx)("span",{children:"No due date"}),e.matter&&(0,wr.jsxs)("span",{className:"ml-2",children:["| ",(0,wr.jsxs)(nt,{to:`/matters/${e.matter.id}`,className:"text-blue-600 hover:text-blue-800",children:[e.matter.client.clientName," - ",e.matter.matterName]})]})]})]},e.id))})]})]})]})})},qr=zr("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Qr=zr("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jr=zr("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Yr=zr("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Kr="/api",Xr=()=>{const e=Z(),[t,r]=(0,n.useState)([]),[a,s]=(0,n.useState)([]),[l,i]=(0,n.useState)([]),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!0),[m,p]=(0,n.useState)(null),[h,f]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null),[b,y]=(0,n.useState)({clientName:"",clientNumber:"",attorneyId:"",paralegalId:"",projectManagerId:""}),v=async()=>{try{const[e,t]=await Promise.all([fetch(`${Kr}/clients`),fetch(`${Kr}/people`)]);if(!e.ok||!t.ok)throw new Error("Failed to fetch data");const[n,a]=await Promise.all([e.json(),t.json()]);r(n),s(a.filter(e=>"ATTORNEY"===e.type)),i(a.filter(e=>"PARALEGAL"===e.type)),c(a.filter(e=>"PROJECT_MANAGER"===e.type))}catch(e){p(e.message)}finally{u(!1)}};(0,n.useEffect)(()=>{v()},[]),(0,n.useEffect)(()=>{var r;if(null!==(r=e.state)&&void 0!==r&&r.editClientId&&t.length>0){const r=t.find(t=>t.id===e.state.editClientId);r&&j(r)}},[t,e.state]);const j=e=>{g(e),y({clientName:e.clientName,clientNumber:e.clientNumber,attorneyId:e.attorneyId||"",paralegalId:e.paralegalId||"",projectManagerId:e.projectManagerId||""}),f(!0)};return d?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):m?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",m]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Clients"}),(0,wr.jsx)("p",{className:"text-gray-600",children:"Manage your law firm's clients"})]}),(0,wr.jsxs)(Cr,{onClick:()=>{g(null),y({clientName:"",clientNumber:"",attorneyId:"",paralegalId:"",projectManagerId:""}),f(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Add Client"]})]}),0===t.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Lr,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No clients"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new client."})]}):(0,wr.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,wr.jsx)("ul",{className:"divide-y divide-gray-200",children:t.map(e=>(0,wr.jsx)("li",{children:(0,wr.jsxs)("div",{className:"px-4 py-4 sm:px-6 flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsx)(nt,{to:`/clients/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:e.clientName}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["Client #: ",e.clientNumber]})]}),(0,wr.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 space-x-4",children:[(0,wr.jsxs)("span",{children:[e.matters.length," matter",1!==e.matters.length?"s":""]}),e.attorney&&(0,wr.jsxs)("span",{children:["Attorney: ",(0,wr.jsxs)(nt,{to:`/people/${e.attorney.id}`,className:"text-blue-600 hover:text-blue-800",children:[e.attorney.firstName," ",e.attorney.lastName]})]}),e.paralegal&&(0,wr.jsxs)("span",{children:["Paralegal: ",(0,wr.jsxs)(nt,{to:`/people/${e.paralegal.id}`,className:"text-green-600 hover:text-green-800",children:[e.paralegal.firstName," ",e.paralegal.lastName]})]}),e.projectManager&&(0,wr.jsxs)("span",{children:["PM: ",(0,wr.jsxs)(nt,{to:`/people/${e.projectManager.id}`,className:"text-purple-600 hover:text-purple-800",children:[e.projectManager.firstName," ",e.projectManager.lastName]})]}),(0,wr.jsxs)("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,wr.jsxs)("div",{className:"flex space-x-2",children:[(0,wr.jsx)(nt,{to:`/clients/${e.id}`,children:(0,wr.jsx)(Cr,{variant:"outline",size:"sm",children:(0,wr.jsx)(Qr,{className:"w-4 h-4"})})}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>j(e),children:(0,wr.jsx)(Jr,{className:"w-4 h-4"})}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this client? This will also delete all associated matters."))try{if(!(await fetch(`${Kr}/clients/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete client");await v()}catch(t){p(t.message)}})(e.id),className:"text-red-600 hover:text-red-700",children:(0,wr.jsx)(Yr,{className:"w-4 h-4"})})]})]})},e.id))})}),h&&(0,wr.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,wr.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,wr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:x?"Edit Client":"Add New Client"}),(0,wr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=x?`${Kr}/clients/${x.id}`:"${API_BASE_URL}/clients",t=x?"PUT":"POST",r=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,attorneyId:b.attorneyId||null,paralegalId:b.paralegalId||null,projectManagerId:b.projectManagerId||null})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to save client")}await v(),f(!1),g(null),y({clientName:"",clientNumber:"",attorneyId:"",paralegalId:"",projectManagerId:""})}catch(t){p(t.message)}},className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name"}),(0,wr.jsx)("input",{type:"text",value:b.clientName,onChange:e=>y({...b,clientName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Number (7 digits)"}),(0,wr.jsx)("input",{type:"text",value:b.clientNumber,onChange:e=>y({...b,clientNumber:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",pattern:"[0-9]{7}",maxLength:"7",required:!0})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attorney"}),(0,wr.jsxs)("select",{value:b.attorneyId,onChange:e=>y({...b,attorneyId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select an attorney..."}),a.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Paralegal"}),(0,wr.jsxs)("select",{value:b.paralegalId,onChange:e=>y({...b,paralegalId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select a paralegal..."}),l.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Manager"}),(0,wr.jsxs)("select",{value:b.projectManagerId,onChange:e=>y({...b,projectManagerId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select a project manager..."}),o.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,wr.jsx)(Cr,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),(0,wr.jsx)(Cr,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:x?"Update":"Create"})]})]})]})})]})})},Zr=zr("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),en=()=>{const{id:e}=ne(),t=re(),[r,a]=(0,n.useState)(null),[s,l]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null),c=e=>{switch(e){case"COLLECTION":return"text-blue-600 bg-blue-100";case"CULLING":return"text-yellow-600 bg-yellow-100";case"REVIEW":return"text-orange-600 bg-orange-100";case"PRODUCTION":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};(0,n.useEffect)(()=>{(async()=>{try{const t=await fetch(`${Kr}/clients/${e}`);if(!t.ok){if(404===t.status)throw new Error("Client not found");throw new Error("Failed to fetch client")}const r=await t.json();a(r)}catch(t){o(t.message)}finally{l(!1)}})()},[e]);return s?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):i?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",i]})}):r?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,wr.jsx)(nt,{to:"/clients",children:(0,wr.jsxs)(Cr,{variant:"outline",size:"sm",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-2"}),"Back to Clients"]})}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:r.clientName}),(0,wr.jsxs)("p",{className:"text-gray-600",children:["Client #",r.clientNumber]})]})]}),(0,wr.jsxs)("div",{className:"flex space-x-2",children:[(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>t("/clients",{state:{editClientId:r.id}}),children:[(0,wr.jsx)(Jr,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,wr.jsxs)(Cr,{variant:"outline",onClick:async()=>{if(confirm("Are you sure you want to delete this client? This will also delete all associated matters."))try{if(!(await fetch(`${Kr}/clients/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete client");t("/clients")}catch(r){o(r.message)}},className:"text-red-600 hover:text-red-700",children:[(0,wr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Client Information"}),(0,wr.jsxs)("dl",{className:"grid grid-cols-1 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Client Name"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:r.clientName})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Client Number"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:r.clientNumber})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:new Date(r.updatedAt).toLocaleDateString()})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Assigned Team"}),(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500 mb-2",children:"Attorney"}),r.attorney?(0,wr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,wr.jsx)(Br,{className:"w-4 h-4 text-blue-600"}),(0,wr.jsxs)(nt,{to:`/people/${r.attorney.id}`,className:"text-blue-600 hover:text-blue-800",children:[r.attorney.firstName," ",r.attorney.lastName]})]}):(0,wr.jsx)("p",{className:"text-gray-500",children:"No attorney assigned"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500 mb-2",children:"Paralegal"}),r.paralegal?(0,wr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,wr.jsx)(Br,{className:"w-4 h-4 text-green-600"}),(0,wr.jsxs)(nt,{to:`/people/${r.paralegal.id}`,className:"text-green-600 hover:text-green-800",children:[r.paralegal.firstName," ",r.paralegal.lastName]})]}):(0,wr.jsx)("p",{className:"text-gray-500",children:"No paralegal assigned"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500 mb-2",children:"Project Manager"}),r.projectManager?(0,wr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,wr.jsx)(Br,{className:"w-4 h-4 text-purple-600"}),(0,wr.jsxs)(nt,{to:`/people/${r.projectManager.id}`,className:"text-purple-600 hover:text-purple-800",children:[r.projectManager.firstName," ",r.projectManager.lastName]})]}):(0,wr.jsx)("p",{className:"text-gray-500",children:"No project manager assigned"})]})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Matters (",r.matters.length,")"]}),(0,wr.jsxs)(Cr,{onClick:()=>t("/matters/new",{state:{clientId:r.id}}),className:"bg-blue-600 hover:bg-blue-700",children:[(0,wr.jsx)(Mr,{className:"w-4 h-4 mr-2"}),"Add Matter"]})]}),0===r.matters.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Mr,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No matters"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new matter for this client."})]}):(0,wr.jsx)("div",{className:"space-y-4",children:r.matters.map(e=>{return(0,wr.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,wr.jsx)(nt,{to:`/matters/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:e.matterName}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${c(e.status)}`,children:(t=e.status,t.charAt(0)+t.slice(1).toLowerCase())})]}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["Matter #",e.matterNumber]}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,wr.jsx)(nt,{to:`/matters/${e.id}`,children:(0,wr.jsx)(Cr,{variant:"outline",size:"sm",children:"View Details"})})]})},e.id);var t})})]})]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Client not found"})})},tn=zr("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),rn=zr("file-pen-line",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]),nn=()=>{const e=Z(),[t,r]=(0,n.useState)([]),[a,s]=(0,n.useState)([]),[l,i]=(0,n.useState)(!0),[o,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),[h,f]=(0,n.useState)({matterName:"",matterNumber:"",clientId:"",status:"COLLECTION"}),x=e=>{switch(e){case"COLLECTION":default:return"bg-blue-100 text-blue-800";case"CULLING":return"bg-yellow-100 text-yellow-800";case"REVIEW":return"bg-orange-100 text-orange-800";case"PRODUCTION":return"bg-green-100 text-green-800";case"INACTIVE":return"bg-gray-100 text-gray-800"}},g=async()=>{try{const[e,t]=await Promise.all([fetch(`${Kr}/matters`),fetch(`${Kr}/clients`)]);if(!e.ok||!t.ok)throw new Error("Failed to fetch data");const[n,a]=await Promise.all([e.json(),t.json()]);r(n),s(a)}catch(e){c(e.message)}finally{i(!1)}};(0,n.useEffect)(()=>{g()},[]),(0,n.useEffect)(()=>{var r;if(null!==(r=e.state)&&void 0!==r&&r.editMatterId&&t.length>0){const r=t.find(t=>t.id===e.state.editMatterId);r&&b(r)}},[t,e.state]);const b=e=>{p(e),f({matterName:e.matterName,matterNumber:e.matterNumber,clientId:e.clientId.toString(),status:e.status||"COLLECTION"}),u(!0)};return l?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):o?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",o]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Matters"}),(0,wr.jsx)("p",{className:"text-gray-600",children:"Manage client matters"})]}),(0,wr.jsxs)(Cr,{onClick:()=>{p(null),f({matterName:"",matterNumber:"",clientId:"",status:"COLLECTION"}),u(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Add Matter"]})]}),(0,wr.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,wr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Matter-Related Sections"}),(0,wr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,wr.jsx)(nt,{to:"/estimates",children:(0,wr.jsxs)(Cr,{variant:"outline",className:"flex items-center",children:[(0,wr.jsx)(tn,{className:"w-4 h-4 mr-2"}),"Estimates"]})}),(0,wr.jsx)(nt,{to:"/vendor-agreements",children:(0,wr.jsxs)(Cr,{variant:"outline",className:"flex items-center",children:[(0,wr.jsx)(rn,{className:"w-4 h-4 mr-2"}),"Agreements"]})}),(0,wr.jsx)(nt,{to:"/invoices",children:(0,wr.jsxs)(Cr,{variant:"outline",className:"flex items-center",children:[(0,wr.jsx)(Fr,{className:"w-4 h-4 mr-2"}),"Invoices"]})}),(0,wr.jsx)(nt,{to:"/custodians",children:(0,wr.jsxs)(Cr,{variant:"outline",className:"flex items-center",children:[(0,wr.jsx)(Lr,{className:"w-4 h-4 mr-2"}),"Custodians"]})}),(0,wr.jsx)(nt,{to:"/collections",children:(0,wr.jsxs)(Cr,{variant:"outline",className:"flex items-center",children:[(0,wr.jsx)(_r,{className:"w-4 h-4 mr-2"}),"Collections"]})})]})]}),0===t.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Mr,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No matters"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new matter."})]}):(0,wr.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,wr.jsx)("ul",{className:"divide-y divide-gray-200",children:t.map(e=>{return(0,wr.jsx)("li",{children:(0,wr.jsxs)("div",{className:"px-4 py-4 sm:px-6 flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsx)(nt,{to:`/matters/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:e.matterName}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["Matter #: ",e.matterNumber]})]}),(0,wr.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 space-x-4",children:[(0,wr.jsxs)("span",{children:["Client: ",(0,wr.jsx)(nt,{to:`/clients/${e.client.id}`,className:"text-blue-600 hover:text-blue-800",children:e.client.clientName})]}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(e.status)}`,children:(t=e.status,t?t.charAt(0)+t.slice(1).toLowerCase():"Collection")}),(0,wr.jsxs)("span",{children:["Client #: ",e.client.clientNumber]}),e.client.attorney&&(0,wr.jsxs)("span",{children:["Attorney: ",(0,wr.jsxs)(nt,{to:`/people/${e.client.attorney.id}`,className:"text-blue-600 hover:text-blue-800",children:[e.client.attorney.firstName," ",e.client.attorney.lastName]})]}),e.client.paralegal&&(0,wr.jsxs)("span",{children:["Paralegal: ",(0,wr.jsxs)(nt,{to:`/people/${e.client.paralegal.id}`,className:"text-green-600 hover:text-green-800",children:[e.client.paralegal.firstName," ",e.client.paralegal.lastName]})]}),(0,wr.jsxs)("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,wr.jsxs)("div",{className:"flex space-x-2",children:[(0,wr.jsx)(nt,{to:`/matters/${e.id}`,children:(0,wr.jsx)(Cr,{variant:"outline",size:"sm",children:(0,wr.jsx)(Qr,{className:"w-4 h-4"})})}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>b(e),children:(0,wr.jsx)(Jr,{className:"w-4 h-4"})}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this matter?"))try{if(!(await fetch(`${Kr}/matters/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete matter");await g()}catch(t){c(t.message)}})(e.id),className:"text-red-600 hover:text-red-700",children:(0,wr.jsx)(Yr,{className:"w-4 h-4"})})]})]})},e.id);var t})})}),d&&(0,wr.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,wr.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,wr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:m?"Edit Matter":"Add New Matter"}),(0,wr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=m?`${Kr}/matters/${m.id}`:"${API_BASE_URL}/matters",t=m?"PUT":"POST",r=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,clientId:parseInt(h.clientId)})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to save matter")}await g(),u(!1),p(null),f({matterName:"",matterNumber:"",clientId:""})}catch(t){c(t.message)}},className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Matter Name"}),(0,wr.jsx)("input",{type:"text",value:h.matterName,onChange:e=>f({...h,matterName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Matter Number (6 digits)"}),(0,wr.jsx)("input",{type:"text",value:h.matterNumber,onChange:e=>f({...h,matterNumber:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",pattern:"[0-9]{6}",maxLength:"6",required:!0})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),(0,wr.jsxs)("select",{value:h.clientId,onChange:e=>f({...h,clientId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,wr.jsx)("option",{value:"",children:"Select a client..."}),a.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.clientName," (#",e.clientNumber,")"]},e.id))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,wr.jsxs)("select",{value:h.status,onChange:e=>f({...h,status:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,wr.jsx)("option",{value:"COLLECTION",children:"Collection"}),(0,wr.jsx)("option",{value:"CULLING",children:"Culling"}),(0,wr.jsx)("option",{value:"REVIEW",children:"Review"}),(0,wr.jsx)("option",{value:"PRODUCTION",children:"Production"}),(0,wr.jsx)("option",{value:"INACTIVE",children:"Inactive"})]})]}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,wr.jsx)(Cr,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(0,wr.jsx)(Cr,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:m?"Update":"Create"})]})]})]})})]})})},an=zr("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),sn=zr("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),ln=zr("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),on=zr("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),cn=zr("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dn=()=>{const{id:e}=ne(),t=re(),[r,a]=(0,n.useState)(null),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(!0),[p,h]=(0,n.useState)(null),[f,x]=(0,n.useState)(!1),[g,b]=(0,n.useState)([]),[y,v]=(0,n.useState)([]),[j,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)([]),[S,E]=(0,n.useState)([]),[C,I]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/auth/current-user");if(e.ok){const t=await e.json();d(t)}}catch(e){console.error("Error fetching current user:",e)}})(),(async()=>{try{const t=await fetch(`/api/matters/${e}`);if(!t.ok){if(404===t.status)throw new Error("Matter not found");throw new Error("Failed to fetch matter")}const r=await t.json();a(r)}catch(t){h(t.message)}finally{m(!1)}})(),(async()=>{try{const t=await fetch(`${Kr}/collections/matter/${e}`);if(t.ok){const e=await t.json();l(e)}}catch(t){console.error("Error fetching collections:",t)}})(),(async()=>{try{const t=await fetch(`${Kr}/workspaces/matter/${e}`);if(t.ok){const e=await t.json();o(e)}}catch(t){console.error("Error fetching workspaces:",t)}})(),(async()=>{try{const t=await fetch(`${Kr}/estimates/matter/${e}`);if(t.ok){const e=await t.json();k(e)}}catch(t){console.error("Error fetching estimates:",t)}})(),(async()=>{try{const t=await fetch(`${Kr}/vendor-agreements/matter/${e}`);if(t.ok){const e=await t.json();E(e)}}catch(t){console.error("Error fetching vendor agreements:",t)}})(),(async()=>{try{const t=await fetch(`${Kr}/invoices/matter/${e}`);if(t.ok){const e=await t.json();I(e)}}catch(t){console.error("Error fetching invoices:",t)}})()},[e]);const D=e=>{switch(e){case"ATTORNEY":return"text-blue-600";case"PARALEGAL":return"text-green-600";case"VENDOR":return"text-purple-600";case"PROJECT_MANAGER":return"text-orange-600";default:return"text-gray-600"}},P=e=>{switch(e){case"ATTORNEY":return"bg-blue-100 text-blue-800";case"PARALEGAL":return"bg-green-100 text-green-800";case"VENDOR":return"bg-purple-100 text-purple-800";case"PROJECT_MANAGER":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},O=e=>{switch(e){case"DISCUSSING":return"text-yellow-600 bg-yellow-100";case"SCHEDULED":return"text-blue-600 bg-blue-100";case"IN_PROGRESS":return"text-orange-600 bg-orange-100";case"COMPLETED":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},A=e=>{switch(e){case"EMAIL":return"text-blue-600 bg-blue-100";case"MOBILE":return"text-purple-600 bg-purple-100";case"COMPUTER":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},T=e=>{switch(e){case"ECA":return"text-purple-600 bg-purple-100";case"REVIEW":return"text-blue-600 bg-blue-100";case"RSMF":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},R=e=>{switch(e){case"ECA":return"ECA";case"REVIEW":return"Review";case"RSMF":return"RSMF";case"OTHER":return"Other";default:return e}},z=e=>e?new Date(e).toLocaleDateString():"Not set",L=e=>{switch(e){case"DISCUSSING":return"Discussing";case"SCHEDULED":return"Scheduled";case"IN_PROGRESS":return"In Progress";case"COMPLETED":return"Completed";default:return e}},M=e=>{switch(e){case"EMAIL":return"Email";case"MOBILE":return"Mobile";case"COMPUTER":return"Computer";case"OTHER":return"Other";default:return e}},$=e=>{switch(e){case"OUTLOOK":return"Outlook";case"GMAIL":return"Gmail";case"OTHER":return"Other";default:return e}};return u?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):p?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",p]})}):r?(0,wr.jsxs)(Dr,{children:[(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,wr.jsx)(nt,{to:"/matters",children:(0,wr.jsxs)(Cr,{variant:"outline",size:"sm",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-2"}),"Back to Matters"]})}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:r.matterName}),(0,wr.jsxs)("p",{className:"text-gray-600",children:["Matter #",r.matterNumber]})]})]}),(0,wr.jsxs)("div",{className:"flex space-x-2",children:[(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>t("/matters",{state:{editMatterId:r.id}}),children:[(0,wr.jsx)(Jr,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,wr.jsxs)(Cr,{variant:"outline",onClick:async()=>{if(confirm("Are you sure you want to delete this matter?"))try{if(!(await fetch(`/api/matters/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete matter");t("/matters")}catch(r){h(r.message)}},className:"text-red-600 hover:text-red-700",children:[(0,wr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Matter Information"}),(0,wr.jsxs)("dl",{className:"grid grid-cols-1 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Matter Name"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:r.matterName})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Matter Number"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:r.matterNumber})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:new Date(r.createdAt).toLocaleDateString()})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:new Date(r.updatedAt).toLocaleDateString()})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Client"}),(0,wr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,wr.jsx)(an,{className:"w-6 h-6 text-blue-600"}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)(nt,{to:`/clients/${r.client.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:r.client.clientName}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["Client #",r.client.clientNumber]})]})]}),(0,wr.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,wr.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Client Team"}),(0,wr.jsxs)("div",{className:"space-y-2",children:[r.client.attorney&&(0,wr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,wr.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:"Attorney"}),(0,wr.jsxs)(nt,{to:`/people/${r.client.attorney.id}`,className:"text-sm text-blue-600 hover:text-blue-800",children:[r.client.attorney.firstName," ",r.client.attorney.lastName]})]}),r.client.paralegal&&(0,wr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,wr.jsx)("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded",children:"Paralegal"}),(0,wr.jsxs)(nt,{to:`/people/${r.client.paralegal.id}`,className:"text-sm text-green-600 hover:text-green-800",children:[r.client.paralegal.firstName," ",r.client.paralegal.lastName]})]}),!r.client.attorney&&!r.client.paralegal&&(0,wr.jsx)("p",{className:"text-sm text-gray-500",children:"No team assigned"})]})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Matter Team (",r.people.length,")"]}),(0,wr.jsxs)(Cr,{onClick:async()=>{x(!0),await(async()=>{try{const e=await fetch("/api/people");if(!e.ok)throw new Error("Failed to fetch people");const t=await e.json();b(t)}catch(e){h(e.message)}})();const e=r.people.map(e=>e.person.id);v(e)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,wr.jsx)(Lr,{className:"w-4 h-4 mr-2"}),"Manage Team"]})]}),0===r.people.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Lr,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No team members"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Add team members to this matter to track assignments."})]}):(0,wr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.people.map(e=>(0,wr.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,wr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)(nt,{to:`/people/${e.person.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:[e.person.firstName," ",e.person.lastName]}),(0,wr.jsxs)("div",{className:"mt-1 space-y-1",children:[e.person.type&&(0,wr.jsx)("span",{className:`inline-block text-xs px-2 py-1 rounded ${P(e.person.type)}`,children:e.person.type.replace("_"," ")}),e.role&&(0,wr.jsxs)("div",{className:"text-sm text-gray-600",children:["Role: ",e.role]})]})]}),(0,wr.jsx)(Br,{className:`w-5 h-5 ${e.person.type?D(e.person.type):"text-gray-400"}`})]})},e.person.id))})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Workspaces (",i.length,")"]}),(0,wr.jsx)(nt,{to:"/workspaces/create",children:(0,wr.jsxs)(Cr,{className:"bg-purple-600 hover:bg-purple-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Workspace"]})})]}),0===i.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(an,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No workspaces"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create workspaces for this matter to track Relativity environments."})]}):(0,wr.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,wr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,wr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,wr.jsx)("div",{className:"flex-1",children:(0,wr.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:e.url})}),(0,wr.jsx)("div",{className:"flex gap-2 ml-4",children:(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(e.type)}`,children:R(e.type)})})]}),(0,wr.jsx)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(an,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Hosted by: ",e.organization.name]})]})})]},e.id))})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Collections (",s.length,")"]}),(0,wr.jsx)(nt,{to:"/collections",children:(0,wr.jsxs)(Cr,{className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Collection"]})})]}),0===s.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(sn,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No collections"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create collections for this matter to track data preservation and collection activities."})]}):(0,wr.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,wr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,wr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsx)(nt,{to:`/collections/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:e.custodians.map(e=>e.custodian.name).join(", ")}),e.description&&(0,wr.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,wr.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(e.type)}`,children:M(e.type)}),e.platform&&(0,wr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:$(e.platform)}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O(e.status)}`,children:L(e.status)})]})]}),(0,wr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Br,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Custodian",e.custodians.length>1?"s":"",": ",e.custodians.map(e=>e.custodian.name).join(", ")]})]}),e.custodians.length>0&&e.custodians[0].custodian.organization&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(an,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Organization: ",e.custodians[0].custodian.organization.name]})]}),e.organization&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(an,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Vendor: ",e.organization.name]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),(0,wr.jsx)("span",{children:e.completedDate?`Completed: ${z(e.completedDate)}`:e.scheduledDate?`Scheduled: ${z(e.scheduledDate)}`:"No date set"})]})]})]},e.id))})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Estimates (",w.length,")"]}),(0,wr.jsx)(nt,{to:"/estimates",children:(0,wr.jsxs)(Cr,{className:"bg-green-600 hover:bg-green-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Estimate"]})})]}),0===w.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(tn,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No estimates"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create estimates from vendors for this matter to track project costs."})]}):(0,wr.jsx)("div",{className:"space-y-4",children:w.map(e=>(0,wr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,wr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,wr.jsx)("div",{className:"flex-1",children:(0,wr.jsxs)(nt,{to:`/estimates/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:[e.organization.name," - ",e.description.substring(0,100),e.description.length>100&&"..."]})}),(0,wr.jsxs)("div",{className:"text-lg font-semibold text-green-600 ml-4",children:["$",e.totalCost.toLocaleString()]})]}),(0,wr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(an,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Vendor: ",e.organization.name]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]})]})]},e.id))})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Vendor Agreements (",S.length,")"]}),(0,wr.jsx)(nt,{to:"/vendor-agreements",children:(0,wr.jsxs)(Cr,{className:"bg-purple-600 hover:bg-purple-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Agreement"]})})]}),0===S.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Mr,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No vendor agreements"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create vendor agreements to formalize contracts and terms with vendors."})]}):(0,wr.jsx)("div",{className:"space-y-4",children:S.map(e=>(0,wr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,wr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,wr.jsx)("div",{className:"flex-1",children:(0,wr.jsxs)(nt,{to:`/vendor-agreements/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:[e.organization.name," - ",e.agreementText.substring(0,100),e.agreementText.length>100&&"..."]})}),(0,wr.jsxs)("div",{className:"text-sm text-gray-600 ml-4",children:["Signed by: ",e.signedBy.replace("_"," ")]})]}),(0,wr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(an,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Vendor: ",e.organization.name]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]}),e.estimate&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(tn,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Related Estimate: $",e.estimate.totalCost.toLocaleString()]})]})]})]},e.id))})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Invoices (",C.length,")"]}),(0,wr.jsx)(nt,{to:"/invoices",children:(0,wr.jsxs)(Cr,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Invoice"]})})]}),0===C.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Mr,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No invoices"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Track vendor invoices for this matter to manage billing and payments."})]}):(0,wr.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,wr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,wr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,wr.jsx)("div",{className:"flex-1",children:(0,wr.jsxs)(nt,{to:`/invoices/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:[e.organization.name," - Invoice #",e.id]})}),(0,wr.jsxs)("div",{className:"flex items-center gap-3 ml-4",children:[(0,wr.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["$",e.invoiceAmount.toLocaleString()]}),(0,wr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("PAID"===e.status?"bg-green-100 text-green-800":"SUBMITTED"===e.status?"bg-yellow-100 text-yellow-800":"QUESTION"===e.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:"RECEIVED"===e.status?"Received":"SUBMITTED"===e.status?"Submitted":"QUESTION"===e.status?"Question":"PAID"===e.status?"Paid":e.status})]})]}),(0,wr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(an,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Vendor: ",e.organization.name]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Invoice Date: ",new Date(e.invoiceDate).toLocaleDateString()]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[e.approved?(0,wr.jsx)($r,{className:"h-4 w-4 text-green-500"}):(0,wr.jsx)(on,{className:"h-4 w-4 text-red-500"}),(0,wr.jsx)("span",{className:e.approved?"text-green-600":"text-red-600",children:e.approved?"Approved":"Pending Approval"})]}),e.estimate&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(tn,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Related Estimate: $",e.estimate.totalCost.toLocaleString()]})]})]})]},e.id))})]})]}),f&&(0,wr.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,wr.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-md shadow-lg rounded-md bg-white",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Manage Matter Team"}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>x(!1),children:(0,wr.jsx)(cn,{className:"w-4 h-4"})})]}),(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsx)("p",{className:"text-sm text-gray-600",children:"Select people to assign to this matter:"}),(0,wr.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-2",children:g.map(e=>(0,wr.jsxs)("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,wr.jsx)("input",{type:"checkbox",checked:y.includes(e.id),onChange:()=>{return t=e.id,void v(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,wr.jsx)("div",{className:"text-xs text-gray-500",children:e.type?e.type.replace("_"," "):"No type specified"})]})]},e.id))}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,wr.jsx)(Cr,{variant:"outline",onClick:()=>x(!1),disabled:j,children:"Cancel"}),(0,wr.jsx)(Cr,{onClick:async()=>{N(!0);try{const t=await fetch(`/api/matters/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({matterName:r.matterName,matterNumber:r.matterNumber,clientId:r.clientId,peopleIds:y})});if(!t.ok)throw new Error("Failed to update team");const n=await t.json();a(n),x(!1)}catch(t){h(t.message)}finally{N(!1)}},disabled:j,className:"bg-blue-600 hover:bg-blue-700",children:j?"Saving...":"Save Changes"})]})]})]})})]}):(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Matter not found"})})},un=()=>{const e=Z(),[t,r]=(0,n.useState)([]),[a,s]=(0,n.useState)([]),[l,i]=(0,n.useState)(!0),[o,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),[h,f]=(0,n.useState)({firstName:"",lastName:"",email:"",phone:"",type:"",organizationId:""}),x=[{value:"ATTORNEY",label:"Attorney"},{value:"PARALEGAL",label:"Paralegal"},{value:"VENDOR",label:"Vendor"},{value:"PROJECT_MANAGER",label:"Project Manager"}],g=async()=>{try{const e=await fetch(`${Kr}/people`);if(!e.ok)throw new Error("Failed to fetch people");const t=await e.json();r(t)}catch(e){c(e.message)}finally{i(!1)}};(0,n.useEffect)(()=>{g(),(async()=>{try{const e=await fetch(`${Kr}/organizations`);if(!e.ok)throw new Error("Failed to fetch organizations");const t=await e.json();s(t)}catch(e){console.error("Error fetching organizations:",e)}})()},[]),(0,n.useEffect)(()=>{var r;if(null!==(r=e.state)&&void 0!==r&&r.editPersonId&&t.length>0){const r=t.find(t=>t.id===e.state.editPersonId);r&&b(r)}},[t,e.state]);const b=e=>{p(e),f({firstName:e.firstName,lastName:e.lastName,email:e.email||"",phone:e.phone||"",type:e.type,organizationId:e.organizationId||""}),u(!0)},y=e=>{var t;return(null===(t=x.find(t=>t.value===e))||void 0===t?void 0:t.label)||e};return l?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):o?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",o]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"People"}),(0,wr.jsx)("p",{className:"text-gray-600",children:"Manage attorneys, paralegals, vendors, and project managers"})]}),(0,wr.jsxs)(Cr,{onClick:()=>{p(null),f({firstName:"",lastName:"",email:"",phone:"",type:"",organizationId:""}),u(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Add Person"]})]}),0===t.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Br,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No people"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding a new person."})]}):(0,wr.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,wr.jsx)("ul",{className:"divide-y divide-gray-200",children:t.map(e=>(0,wr.jsx)("li",{children:(0,wr.jsxs)("div",{className:"px-4 py-4 sm:px-6 flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)(nt,{to:`/people/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:[e.firstName," ",e.lastName]}),(0,wr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:y(e.type)})]}),(0,wr.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 space-x-4",children:[e.organization&&(0,wr.jsxs)("span",{className:"flex items-center",children:[(0,wr.jsx)("span",{className:"mr-1",children:"\ud83c\udfe2"}),(0,wr.jsx)(nt,{to:`/organizations/${e.organization.id}`,className:"text-blue-600 hover:text-blue-800",children:e.organization.name})]}),e.email&&(0,wr.jsxs)("span",{className:"flex items-center",children:[(0,wr.jsx)("span",{className:"mr-1",children:"\ud83d\udce7"}),e.email]}),e.phone&&(0,wr.jsxs)("span",{className:"flex items-center",children:[(0,wr.jsx)("span",{className:"mr-1",children:"\ud83d\udcde"}),e.phone]}),(()=>{const t=(e=>{const t=[...e.clientsAsAttorney||[],...e.clientsAsParalegal||[]],r=t.reduce((e,t)=>{var r;return e+((null===(r=t.matters)||void 0===r?void 0:r.length)||0)},0);return{clients:t.length,matters:r}})(e);return(0,wr.jsxs)(wr.Fragment,{children:[t.clients>0&&(0,wr.jsxs)("span",{children:[t.clients," client",1!==t.clients?"s":""]}),t.matters>0&&(0,wr.jsxs)("span",{children:[t.matters," matter",1!==t.matters?"s":""]})]})})(),(0,wr.jsxs)("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,wr.jsxs)("div",{className:"flex space-x-2",children:[(0,wr.jsx)(nt,{to:`/people/${e.id}`,children:(0,wr.jsx)(Cr,{variant:"outline",size:"sm",children:(0,wr.jsx)(Qr,{className:"w-4 h-4"})})}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>b(e),children:(0,wr.jsx)(Jr,{className:"w-4 h-4"})}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this person?"))try{if(!(await fetch(`${Kr}/people/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete person");await g()}catch(t){c(t.message)}})(e.id),className:"text-red-600 hover:text-red-700",children:(0,wr.jsx)(Yr,{className:"w-4 h-4"})})]})]})},e.id))})}),d&&(0,wr.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,wr.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,wr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:m?"Edit Person":"Add New Person"}),(0,wr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=m?`${Kr}/people/${m.id}`:"${API_BASE_URL}/people",t=m?"PUT":"POST",r=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,email:h.email||null,phone:h.phone||null})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to save person")}await g(),u(!1),p(null),f({firstName:"",lastName:"",email:"",phone:"",type:""})}catch(t){c(t.message)}},className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),(0,wr.jsx)("input",{type:"text",value:h.firstName,onChange:e=>f({...h,firstName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),(0,wr.jsx)("input",{type:"text",value:h.lastName,onChange:e=>f({...h,lastName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,wr.jsx)("input",{type:"email",value:h.email,onChange:e=>f({...h,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,wr.jsx)("input",{type:"tel",value:h.phone,onChange:e=>f({...h,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,wr.jsxs)("select",{value:h.type,onChange:e=>f({...h,type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,wr.jsx)("option",{value:"",children:"Select a type..."}),x.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization"}),(0,wr.jsxs)("select",{value:h.organizationId,onChange:e=>f({...h,organizationId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"No organization"}),a.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.name," (",e.type.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),")"]},e.id))]})]}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,wr.jsx)(Cr,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),(0,wr.jsx)(Cr,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:m?"Update":"Create"})]})]})]})})]})})},mn=zr("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),pn=zr("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),hn=()=>{var e,t,r,a,s,l,i,o,c,d,u,m,p,h,f;const{id:x}=ne(),g=re(),[b,y]=(0,n.useState)(null),[v,j]=(0,n.useState)(null),[N,w]=(0,n.useState)(!0),[k,S]=(0,n.useState)(null),[E,C]=(0,n.useState)(!1),[I,D]=(0,n.useState)([]),[P,O]=(0,n.useState)([]),[A,T]=(0,n.useState)(!1),R=e=>{switch(e){case"COLLECTION":return"text-blue-600 bg-blue-100";case"CULLING":return"text-yellow-600 bg-yellow-100";case"REVIEW":return"text-orange-600 bg-orange-100";case"PRODUCTION":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};(0,n.useEffect)(()=>{(async()=>{try{const e=await fetch(`${Kr}/people/${x}`);if(!e.ok){if(404===e.status)throw new Error("Person not found");throw new Error("Failed to fetch person")}const t=await e.json();y(t)}catch(e){S(e.message)}finally{w(!1)}})(),(async()=>{try{const e=await fetch(`${Kr}/auth/current-user`);if(e.ok){const t=await e.json();j(t)}}catch(e){console.error("Error fetching current user:",e)}})()},[x]);return N?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):k?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",k]})}):b?(0,wr.jsxs)(Dr,{children:[(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,wr.jsx)(nt,{to:"/people",children:(0,wr.jsxs)(Cr,{variant:"outline",size:"sm",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-2"}),"Back to People"]})}),(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:[b.firstName," ",b.lastName]}),(0,wr.jsx)("div",{className:"flex items-center space-x-2 mt-1",children:b.type&&(0,wr.jsx)("span",{className:`inline-block text-sm px-3 py-1 rounded-full ${(e=>{switch(e){case"ATTORNEY":return"bg-blue-100 text-blue-800";case"PARALEGAL":return"bg-green-100 text-green-800";case"VENDOR":return"bg-purple-100 text-purple-800";case"PROJECT_MANAGER":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}})(b.type)}`,children:b.type.replace("_"," ")})})]})]}),(0,wr.jsxs)("div",{className:"flex space-x-2",children:[(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>g("/people",{state:{editPersonId:b.id}}),children:[(0,wr.jsx)(Jr,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,wr.jsxs)(Cr,{variant:"outline",onClick:async()=>{if(confirm("Are you sure you want to delete this person? This will remove them from all assignments."))try{if(!(await fetch(`${Kr}/people/${x}`,{method:"DELETE"})).ok)throw new Error("Failed to delete person");g("/people")}catch(e){S(e.message)}},className:"text-red-600 hover:text-red-700",children:[(0,wr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Personal Information"}),(0,wr.jsxs)("dl",{className:"grid grid-cols-1 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),(0,wr.jsxs)("dd",{className:"text-lg text-gray-900",children:[b.firstName," ",b.lastName]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Type"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:b.type?b.type.replace("_"," "):"No type specified"})]}),b.organization&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Organization"}),(0,wr.jsxs)("dd",{className:"text-lg text-gray-900 flex items-center",children:[(0,wr.jsx)(an,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,wr.jsx)(nt,{to:`/organizations/${b.organization.id}`,className:"text-blue-600 hover:text-blue-800",children:b.organization.name}),(0,wr.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",b.organization.type.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),")"]})]})]}),b.email&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,wr.jsxs)("dd",{className:"text-lg text-gray-900 flex items-center",children:[(0,wr.jsx)(mn,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,wr.jsx)("a",{href:`mailto:${b.email}`,className:"text-blue-600 hover:text-blue-800",children:b.email})]})]}),b.phone&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,wr.jsxs)("dd",{className:"text-lg text-gray-900 flex items-center",children:[(0,wr.jsx)(pn,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,wr.jsx)("a",{href:`tel:${b.phone}`,className:"text-blue-600 hover:text-blue-800",children:b.phone})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:new Date(b.createdAt).toLocaleDateString()})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:new Date(b.updatedAt).toLocaleDateString()})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Activity Summary"}),(0,wr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wr.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,wr.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(e=b.assignedAsAttorney)||void 0===e?void 0:e.length)||0}),(0,wr.jsx)("div",{className:"text-sm text-gray-600",children:"Clients as Attorney"})]}),(0,wr.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,wr.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===(t=b.assignedAsParalegal)||void 0===t?void 0:t.length)||0}),(0,wr.jsx)("div",{className:"text-sm text-gray-600",children:"Clients as Paralegal"})]}),(0,wr.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,wr.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===(r=b.assignedAsProjectManager)||void 0===r?void 0:r.length)||0}),(0,wr.jsx)("div",{className:"text-sm text-gray-600",children:"Clients as Project Manager"})]}),(0,wr.jsxs)("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[(0,wr.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:(null===(a=b.matters)||void 0===a?void 0:a.length)||0}),(0,wr.jsx)("div",{className:"text-sm text-gray-600",children:"Matter Assignments"})]})]})]})]}),(((null===(s=b.assignedAsAttorney)||void 0===s?void 0:s.length)||0)>0||((null===(l=b.assignedAsParalegal)||void 0===l?void 0:l.length)||0)>0||((null===(i=b.assignedAsProjectManager)||void 0===i?void 0:i.length)||0)>0)&&(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Client Assignments"}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[((null===(o=b.assignedAsAttorney)||void 0===o?void 0:o.length)||0)>0&&(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("h3",{className:"text-lg font-medium text-blue-600 mb-3 flex items-center",children:[(0,wr.jsx)(Br,{className:"w-5 h-5 mr-2"}),"Attorney for ",b.assignedAsAttorney.length," client(s)"]}),(0,wr.jsx)("div",{className:"space-y-3",children:b.assignedAsAttorney.map(e=>(0,wr.jsxs)("div",{className:"border border-blue-200 rounded-lg p-3",children:[(0,wr.jsx)(nt,{to:`/clients/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:e.clientName}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["Client #",e.clientNumber]}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:[e.matters.length," matter(s)"]})]},e.id))})]}),((null===(c=b.assignedAsParalegal)||void 0===c?void 0:c.length)||0)>0&&(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("h3",{className:"text-lg font-medium text-green-600 mb-3 flex items-center",children:[(0,wr.jsx)(Br,{className:"w-5 h-5 mr-2"}),"Paralegal for ",b.assignedAsParalegal.length," client(s)"]}),(0,wr.jsx)("div",{className:"space-y-3",children:b.assignedAsParalegal.map(e=>(0,wr.jsxs)("div",{className:"border border-green-200 rounded-lg p-3",children:[(0,wr.jsx)(nt,{to:`/clients/${e.id}`,className:"text-lg font-medium text-green-600 hover:text-green-800",children:e.clientName}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["Client #",e.clientNumber]}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:[e.matters.length," matter(s)"]})]},e.id))})]}),((null===(d=b.assignedAsProjectManager)||void 0===d?void 0:d.length)||0)>0&&(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("h3",{className:"text-lg font-medium text-purple-600 mb-3 flex items-center",children:[(0,wr.jsx)(Br,{className:"w-5 h-5 mr-2"}),"Project Manager for ",b.assignedAsProjectManager.length," client(s)"]}),(0,wr.jsx)("div",{className:"space-y-3",children:b.assignedAsProjectManager.map(e=>(0,wr.jsxs)("div",{className:"border border-purple-200 rounded-lg p-3",children:[(0,wr.jsx)(nt,{to:`/clients/${e.id}`,className:"text-lg font-medium text-purple-600 hover:text-purple-800",children:e.clientName}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["Client #",e.clientNumber]}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:[e.matters.length," matter(s)"]})]},e.id))})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Matter Assignments (",(null===(u=b.matters)||void 0===u?void 0:u.length)||0,")"]}),(0,wr.jsxs)(Cr,{onClick:async()=>{var e;C(!0),await(async()=>{try{const e=await fetch(`${Kr}/matters`);if(!e.ok)throw new Error("Failed to fetch matters");const t=await e.json();D(t)}catch(e){S(e.message)}})();const t=(null===(e=b.matters)||void 0===e?void 0:e.map(e=>e.matter.id))||[];O(t)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,wr.jsx)(Mr,{className:"w-4 h-4 mr-2"}),"Manage Matters"]})]}),0===((null===(m=b.matters)||void 0===m?void 0:m.length)||0)?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Mr,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No matter assignments"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Add this person to matters to track their assignments."})]}):(0,wr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.matters.map(e=>{return(0,wr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,wr.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,wr.jsx)("div",{className:"flex-1",children:(0,wr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,wr.jsx)(nt,{to:`/matters/${e.matter.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:e.matter.matterName}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R(e.matter.status)}`,children:(t=e.matter.status,t.charAt(0)+t.slice(1).toLowerCase())})]})}),(0,wr.jsx)(Mr,{className:"w-5 h-5 text-gray-400"})]}),(0,wr.jsxs)("div",{className:"space-y-1",children:[(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["Matter #",e.matter.matterNumber]}),e.role&&(0,wr.jsxs)("p",{className:"text-sm text-gray-600",children:["Role: ",e.role]}),(0,wr.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,wr.jsx)(an,{className:"w-4 h-4 text-gray-400"}),(0,wr.jsx)(nt,{to:`/clients/${e.matter.client.id}`,className:"text-sm text-gray-600 hover:text-gray-800",children:e.matter.client.clientName})]})]})]},e.matter.id);var t})})]}),0===((null===(p=b.assignedAsAttorney)||void 0===p?void 0:p.length)||0)&&0===((null===(h=b.assignedAsParalegal)||void 0===h?void 0:h.length)||0)&&0===((null===(f=b.matters)||void 0===f?void 0:f.length)||0)&&(0,wr.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Br,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No assignments"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"This person is not currently assigned to any clients or matters."})]})})]}),E&&(0,wr.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,wr.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-md shadow-lg rounded-md bg-white",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Manage Matter Assignments"}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>C(!1),children:(0,wr.jsx)(cn,{className:"w-4 h-4"})})]}),(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsx)("p",{className:"text-sm text-gray-600",children:"Select matters to assign to this person:"}),(0,wr.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-2",children:I.map(e=>(0,wr.jsxs)("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,wr.jsx)("input",{type:"checkbox",checked:P.includes(e.id),onChange:()=>{return t=e.id,void O(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.matterName}),(0,wr.jsxs)("div",{className:"text-xs text-gray-500",children:["#",e.matterNumber," - ",e.client.clientName]})]})]},e.id))}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,wr.jsx)(Cr,{variant:"outline",onClick:()=>C(!1),disabled:A,children:"Cancel"}),(0,wr.jsx)(Cr,{onClick:async()=>{T(!0);try{const e=await fetch(`${Kr}/people/${x}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:b.firstName,lastName:b.lastName,email:b.email,phone:b.phone,type:b.type,matterIds:P})});if(!e.ok)throw new Error("Failed to update matter assignments");const t=await e.json();y(t),C(!1)}catch(e){S(e.message)}finally{T(!1)}},disabled:A,className:"bg-blue-600 hover:bg-blue-700",children:A?"Saving...":"Save Changes"})]})]})]})})]}):(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Person not found"})})},fn=zr("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),xn=zr("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),gn=zr("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),bn=()=>{var e;const t=Z(),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(null),[f,x]=(0,n.useState)({name:"",type:"",email:"",phone:"",website:"",streetAddress:"",city:"",state:"",zipCode:"",country:"",notes:""});(0,n.useEffect)(()=>{var e;if(g(),b(),null!==(e=t.state)&&void 0!==e&&e.editOrganizationId){const e=t.state.editOrganizationId,n=()=>{const t=r.find(t=>t.id===e);t&&r.length>0?y(t):0===r.length&&setTimeout(n,100)};n()}},[null===(e=t.state)||void 0===e?void 0:e.editOrganizationId,r]);const g=async()=>{try{const e=await fetch(`${Kr}/organizations`);if(!e.ok)throw new Error("Failed to fetch organizations");const t=await e.json();a(t)}catch(e){d(e.message)}finally{o(!1)}},b=async()=>{try{const e=await fetch(`${Kr}/organizations/types`);if(!e.ok)throw new Error("Failed to fetch organization types");const t=await e.json();l(t)}catch(e){console.error("Error fetching organization types:",e)}},y=e=>{h(e),x({name:e.name||"",type:e.type||"",email:e.email||"",phone:e.phone||"",website:e.website||"",streetAddress:e.streetAddress||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||"",country:e.country||"",notes:e.notes||""}),m(!0)},v=()=>{x({name:"",type:"",email:"",phone:"",website:"",streetAddress:"",city:"",state:"",zipCode:"",country:"",notes:""})},j=e=>e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase());return i?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading organizations..."})})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Organizations"}),(0,wr.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage organizations and their contact information"})]}),(0,wr.jsxs)(Cr,{onClick:()=>{h(null),v(),m(!0)},className:"flex items-center gap-2",children:[(0,wr.jsx)(qr,{className:"h-4 w-4"}),"Add Organization"]})]}),c&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:c}),u&&(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,wr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:p?"Edit Organization":"Add New Organization"}),(0,wr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=p?`${Kr}/organizations/${p.id}`:"${API_BASE_URL}/organizations",t=p?"PUT":"POST",r=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to save organization")}await g(),m(!1),h(null),v()}catch(t){d(t.message)}},className:"space-y-4",children:[(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,wr.jsx)("input",{type:"text",value:f.name,onChange:e=>x({...f,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),(0,wr.jsxs)("select",{value:f.type,onChange:e=>x({...f,type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,wr.jsx)("option",{value:"",children:"Select Type"}),s.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,wr.jsx)("input",{type:"email",value:f.email,onChange:e=>x({...f,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,wr.jsx)("input",{type:"tel",value:f.phone,onChange:e=>x({...f,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),(0,wr.jsx)("input",{type:"url",value:f.website,onChange:e=>x({...f,website:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),(0,wr.jsx)("input",{type:"text",value:f.streetAddress,onChange:e=>x({...f,streetAddress:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,wr.jsx)("input",{type:"text",value:f.city,onChange:e=>x({...f,city:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,wr.jsx)("input",{type:"text",value:f.state,onChange:e=>x({...f,state:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),(0,wr.jsx)("input",{type:"text",value:f.zipCode,onChange:e=>x({...f,zipCode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,wr.jsx)("input",{type:"text",value:f.country,onChange:e=>x({...f,country:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,wr.jsx)("textarea",{value:f.notes,onChange:e=>x({...f,notes:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{className:"flex gap-2",children:[(0,wr.jsx)(Cr,{type:"submit",children:p?"Update Organization":"Create Organization"}),(0,wr.jsx)(Cr,{type:"button",variant:"outline",onClick:()=>{m(!1),h(null),v()},children:"Cancel"})]})]})]}),(0,wr.jsx)("div",{className:"grid gap-6",children:0===r.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(fn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,wr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No organizations yet"}),(0,wr.jsx)("p",{className:"text-gray-600",children:"Get started by adding your first organization."})]}):r.map(e=>{return(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,wr.jsx)(nt,{to:`/organizations/${e.id}`,className:"text-xl font-semibold text-blue-600 hover:text-blue-800",children:e.name}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t=e.type,{CURRENT_LAW_FIRM:"bg-blue-100 text-blue-800",CO_COUNSEL:"bg-green-100 text-green-800",OPPOSING_COUNSEL:"bg-red-100 text-red-800",VENDOR:"bg-yellow-100 text-yellow-800",THIRD_PARTY:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800"}`,children:j(e.type)})]}),e.people&&e.people.length>0&&(0,wr.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[e.people.length," ",1===e.people.length?"person":"people"]})]}),(0,wr.jsxs)("div",{className:"flex gap-2",children:[(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>y(e),className:"flex items-center gap-1",children:(0,wr.jsx)(Jr,{className:"h-4 w-4"})}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this organization?"))try{const t=await fetch(`${Kr}/organizations/${e}`,{method:"DELETE"});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete organization")}await g()}catch(t){d(t.message)}})(e.id),className:"flex items-center gap-1 text-red-600 hover:text-red-700",children:(0,wr.jsx)(Yr,{className:"h-4 w-4"})})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[e.email&&(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,wr.jsx)(mn,{className:"h-4 w-4"}),(0,wr.jsx)("a",{href:`mailto:${e.email}`,className:"hover:text-blue-600",children:e.email})]}),e.phone&&(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,wr.jsx)(pn,{className:"h-4 w-4"}),(0,wr.jsx)("a",{href:`tel:${e.phone}`,className:"hover:text-blue-600",children:e.phone})]}),e.website&&(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,wr.jsx)(xn,{className:"h-4 w-4"}),(0,wr.jsx)("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600",children:e.website})]}),(e.streetAddress||e.city||e.state)&&(0,wr.jsxs)("div",{className:"flex items-start gap-2 text-gray-600 md:col-span-2 lg:col-span-3",children:[(0,wr.jsx)(gn,{className:"h-4 w-4 mt-0.5"}),(0,wr.jsxs)("div",{children:[e.streetAddress&&(0,wr.jsx)("div",{children:e.streetAddress}),(0,wr.jsxs)("div",{children:[[e.city,e.state,e.zipCode].filter(Boolean).join(", "),e.country&&(0,wr.jsx)("div",{children:e.country})]})]})]})]}),e.notes&&(0,wr.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,wr.jsx)("p",{className:"text-sm text-gray-600",children:e.notes})})]},e.id);var t})})]})})},yn=()=>{var e,t,r;const{id:a}=ne(),s=re(),[l,i]=(0,n.useState)(null),[o,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(!1),[h,f]=(0,n.useState)([]),[x,g]=(0,n.useState)([]),[b,y]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{try{const e=await fetch(`${Kr}/organizations/${a}`);if(!e.ok){if(404===e.status)throw new Error("Organization not found");throw new Error("Failed to fetch organization")}const t=await e.json();i(t)}catch(e){u(e.message)}finally{c(!1)}})()},[a]);const v=e=>e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),j=e=>{switch(e){case"ATTORNEY":return"bg-blue-100 text-blue-800";case"PARALEGAL":return"bg-green-100 text-green-800";case"VENDOR":return"bg-purple-100 text-purple-800";case"PROJECT_MANAGER":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return o?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):d?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",d]})}):l?(0,wr.jsxs)(Dr,{children:[(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,wr.jsx)(nt,{to:"/organizations",children:(0,wr.jsxs)(Cr,{variant:"outline",size:"sm",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-2"}),"Back to Organizations"]})}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:l.name}),(0,wr.jsx)("div",{className:"flex items-center space-x-2 mt-1",children:(0,wr.jsx)("span",{className:`inline-block text-sm px-3 py-1 rounded-full ${N=l.type,{CURRENT_LAW_FIRM:"bg-blue-100 text-blue-800",CO_COUNSEL:"bg-green-100 text-green-800",OPPOSING_COUNSEL:"bg-red-100 text-red-800",VENDOR:"bg-yellow-100 text-yellow-800",THIRD_PARTY:"bg-gray-100 text-gray-800"}[N]||"bg-gray-100 text-gray-800"}`,children:v(l.type)})})]})]}),(0,wr.jsxs)("div",{className:"flex space-x-2",children:[(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>s("/organizations",{state:{editOrganizationId:l.id}}),children:[(0,wr.jsx)(Jr,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,wr.jsxs)(Cr,{variant:"outline",onClick:async()=>{if(confirm("Are you sure you want to delete this organization? This will unlink all associated people."))try{const e=await fetch(`${Kr}/organizations/${a}`,{method:"DELETE"});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to delete organization")}s("/organizations")}catch(e){u(e.message)}},className:"text-red-600 hover:text-red-700",children:[(0,wr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Organization Information"}),(0,wr.jsxs)("dl",{className:"grid grid-cols-1 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:l.name})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Type"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:v(l.type)})]}),l.email&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,wr.jsxs)("dd",{className:"text-lg text-gray-900 flex items-center",children:[(0,wr.jsx)(mn,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,wr.jsx)("a",{href:`mailto:${l.email}`,className:"text-blue-600 hover:text-blue-800",children:l.email})]})]}),l.phone&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,wr.jsxs)("dd",{className:"text-lg text-gray-900 flex items-center",children:[(0,wr.jsx)(pn,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,wr.jsx)("a",{href:`tel:${l.phone}`,className:"text-blue-600 hover:text-blue-800",children:l.phone})]})]}),l.website&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Website"}),(0,wr.jsxs)("dd",{className:"text-lg text-gray-900 flex items-center",children:[(0,wr.jsx)(xn,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,wr.jsx)("a",{href:l.website.startsWith("http")?l.website:`https://${l.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:l.website})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:new Date(l.createdAt).toLocaleDateString()})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,wr.jsx)("dd",{className:"text-lg text-gray-900",children:new Date(l.updatedAt).toLocaleDateString()})]})]})]}),(0,wr.jsxs)("div",{className:"space-y-6",children:[(l.streetAddress||l.city||l.state||l.zipCode||l.country)&&(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,wr.jsx)(gn,{className:"w-5 h-5 mr-2"}),"Address"]}),(0,wr.jsxs)("div",{className:"text-gray-900",children:[l.streetAddress&&(0,wr.jsx)("div",{className:"mb-1",children:l.streetAddress}),(0,wr.jsx)("div",{children:[l.city,l.state,l.zipCode].filter(Boolean).join(", ")}),l.country&&(0,wr.jsx)("div",{className:"mt-1",children:l.country})]})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Organization Statistics"}),(0,wr.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,wr.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,wr.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(e=l.people)||void 0===e?void 0:e.length)||0}),(0,wr.jsx)("div",{className:"text-sm text-gray-600",children:"Associated People"})]})})]})]})]}),l.notes&&(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Notes"}),(0,wr.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:l.notes})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900",children:["Associated People (",(null===(t=l.people)||void 0===t?void 0:t.length)||0,")"]}),(0,wr.jsxs)(Cr,{onClick:async()=>{var e;p(!0),await(async()=>{try{const e=await fetch(`${Kr}/people`);if(!e.ok)throw new Error("Failed to fetch people");const t=await e.json();f(t)}catch(e){u(e.message)}})();const t=(null===(e=l.people)||void 0===e?void 0:e.map(e=>e.id))||[];g(t)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,wr.jsx)(Br,{className:"w-4 h-4 mr-2"}),"Manage People"]})]}),0===((null===(r=l.people)||void 0===r?void 0:r.length)||0)?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Br,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,wr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No associated people"}),(0,wr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Link people to this organization to track relationships."})]}):(0,wr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.people.map(e=>(0,wr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,wr.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,wr.jsxs)(nt,{to:`/people/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:[e.firstName," ",e.lastName]}),(0,wr.jsx)(Br,{className:"w-5 h-5 text-gray-400"})]}),(0,wr.jsxs)("div",{className:"space-y-1",children:[e.type&&(0,wr.jsx)("span",{className:`inline-block text-xs px-2 py-1 rounded-full ${j(e.type)}`,children:e.type.replace("_"," ")}),e.email&&(0,wr.jsxs)("div",{className:"flex items-center space-x-1 mt-2",children:[(0,wr.jsx)(mn,{className:"w-3 h-3 text-gray-400"}),(0,wr.jsx)("a",{href:`mailto:${e.email}`,className:"text-xs text-gray-600 hover:text-gray-800",children:e.email})]}),e.phone&&(0,wr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,wr.jsx)(pn,{className:"w-3 h-3 text-gray-400"}),(0,wr.jsx)("a",{href:`tel:${e.phone}`,className:"text-xs text-gray-600 hover:text-gray-800",children:e.phone})]})]})]},e.id))})]})]}),m&&(0,wr.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,wr.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-md shadow-lg rounded-md bg-white",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wr.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Manage People Assignments"}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>p(!1),children:(0,wr.jsx)(cn,{className:"w-4 h-4"})})]}),(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsx)("p",{className:"text-sm text-gray-600",children:"Select people to associate with this organization:"}),(0,wr.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-2",children:h.map(e=>(0,wr.jsxs)("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,wr.jsx)("input",{type:"checkbox",checked:x.includes(e.id),onChange:()=>{return t=e.id,void g(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,wr.jsxs)("div",{className:"text-xs text-gray-500",children:[e.type&&`${e.type.replace("_"," ")} \u2022 `,e.email||"No email"]})]})]},e.id))}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,wr.jsx)(Cr,{variant:"outline",onClick:()=>p(!1),disabled:b,children:"Cancel"}),(0,wr.jsx)(Cr,{onClick:async()=>{y(!0);try{var e;const t=(null===(e=l.people)||void 0===e?void 0:e.map(e=>e.id))||[],r=x.filter(e=>!t.includes(e)),n=t.filter(e=>!x.includes(e));for(const e of r){const t=h.find(t=>t.id===e);t&&await fetch(`${Kr}/people/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,organizationId:parseInt(a)})})}for(const e of n){const t=h.find(t=>t.id===e);t&&await fetch(`${Kr}/people/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,organizationId:null})})}const s=await fetch(`${Kr}/organizations/${a}`);if(s.ok){const e=await s.json();i(e)}p(!1)}catch(t){u(t.message)}finally{y(!1)}},disabled:b,className:"bg-blue-600 hover:bg-blue-700",children:b?"Saving...":"Save Changes"})]})]})]})})]}):(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Organization not found"})});var N},vn=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(null),[f,x]=(0,n.useState)({description:"",totalCost:"",matterId:"",organizationId:""});(0,n.useEffect)(()=>{g(),b(),y()},[]);const g=async()=>{try{const e=await fetch("/api/estimates");if(!e.ok)throw new Error("Failed to fetch estimates");const r=await e.json();t(r)}catch(e){d(e.message)}finally{o(!1)}},b=async()=>{try{const e=await fetch("/api/matters");if(!e.ok)throw new Error("Failed to fetch matters");const t=await e.json();a(t)}catch(e){console.error("Error fetching matters:",e)}},y=async()=>{try{const e=await fetch("/api/organizations");if(!e.ok)throw new Error("Failed to fetch organizations");const t=(await e.json()).filter(e=>"VENDOR"===e.type);l(t)}catch(e){console.error("Error fetching vendors:",e)}},v=()=>{x({description:"",totalCost:"",matterId:"",organizationId:""})};return i?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading estimates..."})})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Estimates"}),(0,wr.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage vendor estimates for matters"})]}),(0,wr.jsxs)(Cr,{onClick:()=>{h(null),v(),m(!0)},className:"flex items-center gap-2",children:[(0,wr.jsx)(qr,{className:"h-4 w-4"}),"Add Estimate"]})]}),c&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:c}),u&&(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,wr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:p?"Edit Estimate":"Add New Estimate"}),(0,wr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=p?`/api/estimates/${p.id}`:"/api/estimates",t=p?"PUT":"POST",r=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to save estimate")}await g(),m(!1),h(null),v()}catch(t){d(t.message)}},className:"space-y-4",children:[(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Matter *"}),(0,wr.jsxs)("select",{value:f.matterId,onChange:e=>x({...f,matterId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,wr.jsx)("option",{value:"",children:"Select Matter"}),r.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.matterNumber," - ",e.matterName]},e.id))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor *"}),(0,wr.jsxs)("select",{value:f.organizationId,onChange:e=>x({...f,organizationId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,wr.jsx)("option",{value:"",children:"Select Vendor"}),s.map(e=>(0,wr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost *"}),(0,wr.jsxs)("div",{className:"relative",children:[(0,wr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wr.jsx)(tn,{className:"h-4 w-4 text-gray-400"})}),(0,wr.jsx)("input",{type:"number",step:"0.01",min:"0",value:f.totalCost,onChange:e=>x({...f,totalCost:e.target.value}),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",required:!0})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),(0,wr.jsx)("textarea",{value:f.description,onChange:e=>x({...f,description:e.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe the work to be performed and any relevant details...",required:!0})]}),(0,wr.jsxs)("div",{className:"flex gap-2",children:[(0,wr.jsx)(Cr,{type:"submit",children:p?"Update Estimate":"Create Estimate"}),(0,wr.jsx)(Cr,{type:"button",variant:"outline",onClick:()=>{m(!1),h(null),v()},children:"Cancel"})]})]})]}),(0,wr.jsx)("div",{className:"grid gap-6",children:0===e.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(tn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,wr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No estimates yet"}),(0,wr.jsx)("p",{className:"text-gray-600",children:"Get started by adding your first estimate."})]}):e.map(e=>{return(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,wr.jsx)(nt,{to:`/estimates/${e.id}`,className:"text-xl font-semibold text-gray-900 hover:text-gray-700",children:(t=e.totalCost,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t))}),(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,wr.jsx)(Mr,{className:"h-4 w-4"}),(0,wr.jsxs)(nt,{to:`/matters/${e.matter.id}`,className:"text-blue-600 hover:text-blue-800",children:[e.matter.matterNumber," - ",e.matter.matterName]})]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[(0,wr.jsx)(fn,{className:"h-4 w-4"}),(0,wr.jsx)(nt,{to:`/organizations/${e.organization.id}`,className:"text-blue-600 hover:text-blue-800",children:e.organization.name})]})]}),(0,wr.jsxs)("div",{className:"flex gap-2",children:[(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>(e=>{var t,r,n;h(e),x({description:e.description||"",totalCost:(null===(t=e.totalCost)||void 0===t?void 0:t.toString())||"",matterId:(null===(r=e.matterId)||void 0===r?void 0:r.toString())||"",organizationId:(null===(n=e.organizationId)||void 0===n?void 0:n.toString())||""}),m(!0)})(e),className:"flex items-center gap-1",children:(0,wr.jsx)(Jr,{className:"h-4 w-4"})}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this estimate?"))try{const t=await fetch(`/api/estimates/${e}`,{method:"DELETE"});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete estimate")}await g()}catch(t){d(t.message)}})(e.id),className:"flex items-center gap-1 text-red-600 hover:text-red-700",children:(0,wr.jsx)(Yr,{className:"h-4 w-4"})})]})]}),(0,wr.jsx)("div",{className:"mb-4",children:(0,wr.jsx)("p",{className:"text-gray-700",children:e.description})}),(0,wr.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),"Created: ",new Date(e.createdAt).toLocaleDateString()]}),e.updatedAt!==e.createdAt&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),"Updated: ",new Date(e.updatedAt).toLocaleDateString()]})]})]},e.id);var t})})]})})},jn=()=>{const{id:e}=ne(),t=re(),[r,a]=(0,n.useState)(null),[s,l]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{c()},[e]);const c=async()=>{try{const t=await fetch(`/api/estimates/${e}`);if(!t.ok){if(404===t.status)throw new Error("Estimate not found");throw new Error("Failed to fetch estimate")}const r=await t.json();a(r)}catch(t){o(t.message)}finally{l(!1)}},d=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return s?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading estimate..."})})}):i?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsx)("div",{className:"flex items-center gap-4",children:(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>t("/estimates"),className:"flex items-center gap-2",children:[(0,wr.jsx)(Zr,{className:"h-4 w-4"}),"Back to Estimates"]})}),(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:i})]})}):r?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>t("/estimates"),className:"flex items-center gap-2",children:[(0,wr.jsx)(Zr,{className:"h-4 w-4"}),"Back to Estimates"]}),(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:[d(r.totalCost)," Estimate"]}),(0,wr.jsxs)("p",{className:"text-gray-600",children:["From ",r.organization.name]})]})]}),(0,wr.jsxs)("div",{className:"flex gap-2",children:[(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>t(`/estimates/${e}/edit`),className:"flex items-center gap-2",children:[(0,wr.jsx)(Jr,{className:"h-4 w-4"}),"Edit"]}),(0,wr.jsxs)(Cr,{variant:"outline",onClick:async()=>{if(confirm("Are you sure you want to delete this estimate? This action cannot be undone."))try{const r=await fetch(`/api/estimates/${e}`,{method:"DELETE"});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to delete estimate")}t("/estimates")}catch(r){o(r.message)}},className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[(0,wr.jsx)(Yr,{className:"h-4 w-4"}),"Delete"]})]})]}),i&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:i}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Estimate Information"}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Cost"}),(0,wr.jsx)("div",{className:"text-2xl font-bold text-green-600",children:d(r.totalCost)})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Organization"}),(0,wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wr.jsx)(fn,{className:"h-4 w-4 text-gray-500"}),(0,wr.jsx)(nt,{to:`/organizations/${r.organization.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:r.organization.name})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Related Matter"}),(0,wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wr.jsx)(Mr,{className:"h-4 w-4 text-gray-500"}),(0,wr.jsxs)(nt,{to:`/matters/${r.matter.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:[r.matter.matterNumber," - ",r.matter.matterName]})]})]})]}),(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),new Date(r.createdAt).toLocaleDateString()]})]}),r.updatedAt!==r.createdAt&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Updated"}),(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),new Date(r.updatedAt).toLocaleDateString()]})]})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Description"}),(0,wr.jsx)("div",{className:"prose max-w-none",children:(0,wr.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.description})})]}),r.vendorAgreements&&r.vendorAgreements.length>0&&(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Related Vendor Agreements (",r.vendorAgreements.length,")"]}),(0,wr.jsx)("div",{className:"space-y-4",children:r.vendorAgreements.map(e=>(0,wr.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,wr.jsx)("div",{className:"flex items-start justify-between",children:(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,wr.jsx)(Br,{className:"h-4 w-4 text-gray-500"}),(0,wr.jsxs)("span",{className:"text-sm text-gray-600",children:["Signed by: ",(0,wr.jsx)("span",{className:"font-medium",children:e.signedBy.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())})]})]}),(0,wr.jsx)("p",{className:"text-gray-700 text-sm line-clamp-3",children:e.agreementText}),(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-2",children:[(0,wr.jsx)(ln,{className:"h-3 w-3"}),"Created: ",new Date(e.createdAt).toLocaleDateString()]})]})})},e.id))})]})]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-12",children:(0,wr.jsx)("div",{className:"text-lg text-gray-600",children:"Estimate not found"})})})},Nn=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(!0),[p,h]=(0,n.useState)(null),[f,x]=(0,n.useState)(!1),[g,b]=(0,n.useState)(null),[y,v]=(0,n.useState)({agreementText:"",signedBy:"",matterId:"",organizationId:"",estimateId:""});(0,n.useEffect)(()=>{j(),N(),w(),k(),S()},[]);const j=async()=>{try{const e=await fetch("/api/vendor-agreements");if(!e.ok)throw new Error("Failed to fetch vendor agreements");const r=await e.json();t(r)}catch(e){h(e.message)}finally{m(!1)}},N=async()=>{try{const e=await fetch("/api/matters");if(!e.ok)throw new Error("Failed to fetch matters");const t=await e.json();a(t)}catch(e){console.error("Error fetching matters:",e)}},w=async()=>{try{const e=await fetch("/api/organizations");if(!e.ok)throw new Error("Failed to fetch organizations");const t=(await e.json()).filter(e=>"VENDOR"===e.type);l(t)}catch(e){console.error("Error fetching vendors:",e)}},k=async()=>{try{const e=await fetch("/api/estimates");if(!e.ok)throw new Error("Failed to fetch estimates");const t=await e.json();o(t)}catch(e){console.error("Error fetching estimates:",e)}},S=async()=>{try{const e=await fetch("/api/vendor-agreements/signed-by-options");if(!e.ok)throw new Error("Failed to fetch signed by options");const t=await e.json();d(t)}catch(e){console.error("Error fetching signed by options:",e)}},E=()=>{v({agreementText:"",signedBy:"",matterId:"",organizationId:"",estimateId:""})},C=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return u?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading vendor agreements..."})})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Vendor Agreements"}),(0,wr.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage vendor agreements for matters"})]}),(0,wr.jsxs)(Cr,{onClick:()=>{b(null),E(),x(!0)},className:"flex items-center gap-2",children:[(0,wr.jsx)(qr,{className:"h-4 w-4"}),"Add Agreement"]})]}),p&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:p}),f&&(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,wr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:g?"Edit Vendor Agreement":"Add New Vendor Agreement"}),(0,wr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=g?`/api/vendor-agreements/${g.id}`:"/api/vendor-agreements",t=g?"PUT":"POST",r={...y,estimateId:y.estimateId||null},n=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to save vendor agreement")}await j(),x(!1),b(null),E()}catch(t){h(t.message)}},className:"space-y-4",children:[(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Matter *"}),(0,wr.jsxs)("select",{value:y.matterId,onChange:e=>v({...y,matterId:e.target.value,estimateId:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,wr.jsx)("option",{value:"",children:"Select Matter"}),r.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.matterNumber," - ",e.matterName]},e.id))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor *"}),(0,wr.jsxs)("select",{value:y.organizationId,onChange:e=>v({...y,organizationId:e.target.value,estimateId:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,wr.jsx)("option",{value:"",children:"Select Vendor"}),s.map(e=>(0,wr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Signed By *"}),(0,wr.jsxs)("select",{value:y.signedBy,onChange:e=>v({...y,signedBy:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,wr.jsx)("option",{value:"",children:"Select Signatory"}),c.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Related Estimate (Optional)"}),(0,wr.jsxs)("select",{value:y.estimateId,onChange:e=>v({...y,estimateId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!y.matterId||!y.organizationId,children:[(0,wr.jsx)("option",{value:"",children:"No related estimate"}),(y.matterId&&y.organizationId?i.filter(e=>e.matterId===parseInt(y.matterId)&&e.organizationId===parseInt(y.organizationId)):[]).map(e=>(0,wr.jsxs)("option",{value:e.id,children:[C(e.totalCost)," - ",e.description.substring(0,50),"..."]},e.id))]}),(!y.matterId||!y.organizationId)&&(0,wr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Select matter and vendor first to see related estimates"})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agreement Text *"}),(0,wr.jsx)("textarea",{value:y.agreementText,onChange:e=>v({...y,agreementText:e.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter the full agreement text, terms, conditions, and any relevant details...",required:!0})]}),(0,wr.jsxs)("div",{className:"flex gap-2",children:[(0,wr.jsx)(Cr,{type:"submit",children:g?"Update Agreement":"Create Agreement"}),(0,wr.jsx)(Cr,{type:"button",variant:"outline",onClick:()=>{x(!1),b(null),E()},children:"Cancel"})]})]})]}),(0,wr.jsx)("div",{className:"grid gap-6",children:0===e.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Mr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,wr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No vendor agreements yet"}),(0,wr.jsx)("p",{className:"text-gray-600",children:"Get started by adding your first vendor agreement."})]}):e.map(e=>{return(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,wr.jsx)(Mr,{className:"h-4 w-4"}),(0,wr.jsxs)(nt,{to:`/matters/${e.matter.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:[e.matter.matterNumber," - ",e.matter.matterName]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,wr.jsx)(fn,{className:"h-4 w-4"}),(0,wr.jsx)(nt,{to:`/organizations/${e.organization.id}`,className:"text-blue-600 hover:text-blue-800",children:e.organization.name})]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,wr.jsx)(Br,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Signed by: ",(0,wr.jsx)("span",{className:"font-medium",children:(t=e.signedBy,t.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()))})]})]}),e.estimate&&(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,wr.jsx)(tn,{className:"h-4 w-4"}),(0,wr.jsx)("span",{children:"Related estimate: "}),(0,wr.jsx)(nt,{to:`/estimates/${e.estimate.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:C(e.estimate.totalCost)})]})]})]}),(0,wr.jsxs)("div",{className:"flex gap-2",children:[(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>(e=>{var t,r,n;b(e),v({agreementText:e.agreementText||"",signedBy:e.signedBy||"",matterId:(null===(t=e.matterId)||void 0===t?void 0:t.toString())||"",organizationId:(null===(r=e.organizationId)||void 0===r?void 0:r.toString())||"",estimateId:(null===(n=e.estimateId)||void 0===n?void 0:n.toString())||""}),x(!0)})(e),className:"flex items-center gap-1",children:(0,wr.jsx)(Jr,{className:"h-4 w-4"})}),(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this vendor agreement?"))try{const t=await fetch(`/api/vendor-agreements/${e}`,{method:"DELETE"});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete vendor agreement")}await j()}catch(t){h(t.message)}})(e.id),className:"flex items-center gap-1 text-red-600 hover:text-red-700",children:(0,wr.jsx)(Yr,{className:"h-4 w-4"})})]})]}),(0,wr.jsxs)(nt,{to:`/vendor-agreements/${e.id}`,className:"block mb-4 p-4 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:[(0,wr.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.agreementText}),(0,wr.jsx)("div",{className:"mt-2 text-xs text-blue-600 font-medium",children:"Click to view full details \u2192"})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),"Created: ",new Date(e.createdAt).toLocaleDateString()]}),e.updatedAt!==e.createdAt&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),"Updated: ",new Date(e.updatedAt).toLocaleDateString()]})]})]},e.id);var t})})]})})},wn=()=>{const{id:e}=ne(),t=re(),[r,a]=(0,n.useState)(null),[s,l]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{c()},[e]);const c=async()=>{try{const t=await fetch(`/api/vendor-agreements/${e}`);if(!t.ok){if(404===t.status)throw new Error("Vendor agreement not found");throw new Error("Failed to fetch vendor agreement")}const r=await t.json();a(r)}catch(t){o(t.message)}finally{l(!1)}};return s?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading vendor agreement..."})})}):i?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsx)("div",{className:"flex items-center gap-4",children:(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>t("/vendor-agreements"),className:"flex items-center gap-2",children:[(0,wr.jsx)(Zr,{className:"h-4 w-4"}),"Back to Agreements"]})}),(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:i})]})}):r?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>t("/vendor-agreements"),className:"flex items-center gap-2",children:[(0,wr.jsx)(Zr,{className:"h-4 w-4"}),"Back to Agreements"]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Vendor Agreement"}),(0,wr.jsxs)("p",{className:"text-gray-600",children:["With ",r.organization.name]})]})]}),(0,wr.jsxs)("div",{className:"flex gap-2",children:[(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>t(`/vendor-agreements/${e}/edit`),className:"flex items-center gap-2",children:[(0,wr.jsx)(Jr,{className:"h-4 w-4"}),"Edit"]}),(0,wr.jsxs)(Cr,{variant:"outline",onClick:async()=>{if(confirm("Are you sure you want to delete this vendor agreement? This action cannot be undone."))try{const r=await fetch(`/api/vendor-agreements/${e}`,{method:"DELETE"});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to delete vendor agreement")}t("/vendor-agreements")}catch(r){o(r.message)}},className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[(0,wr.jsx)(Yr,{className:"h-4 w-4"}),"Delete"]})]})]}),i&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:i}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Agreement Information"}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Organization"}),(0,wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wr.jsx)(fn,{className:"h-4 w-4 text-gray-500"}),(0,wr.jsx)(nt,{to:`/organizations/${r.organization.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:r.organization.name})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Related Matter"}),(0,wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wr.jsx)(Mr,{className:"h-4 w-4 text-gray-500"}),(0,wr.jsxs)(nt,{to:`/matters/${r.matter.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:[r.matter.matterNumber," - ",r.matter.matterName]})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Signed By"}),(0,wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wr.jsx)(Br,{className:"h-4 w-4 text-gray-500"}),(0,wr.jsx)("span",{className:"font-medium",children:(u=r.signedBy,u.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()))})]})]}),r.estimate&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Related Estimate"}),(0,wr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wr.jsx)(tn,{className:"h-4 w-4 text-gray-500"}),(0,wr.jsx)(nt,{to:`/estimates/${r.estimate.id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:(d=r.estimate.totalCost,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d))})]})]})]}),(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Created"}),(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),new Date(r.createdAt).toLocaleDateString()]})]}),r.updatedAt!==r.createdAt&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Updated"}),(0,wr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,wr.jsx)(ln,{className:"h-4 w-4"}),new Date(r.updatedAt).toLocaleDateString()]})]})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Agreement Text"}),(0,wr.jsx)("div",{className:"prose max-w-none",children:(0,wr.jsx)("div",{className:"bg-gray-50 p-4 rounded-md",children:(0,wr.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.agreementText})})})]})]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-12",children:(0,wr.jsx)("div",{className:"text-lg text-gray-600",children:"Vendor agreement not found"})})});var d,u},kn=zr("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Sn=zr("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),En=zr("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Cn=zr("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),In=zr("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Dn=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0),[s,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=await fetch(`${Kr}/invoices`);if(!e.ok)throw new Error("Failed to fetch invoices");const r=await e.json();t(r)}catch(e){l("Error loading invoices"),console.error("Error:",e)}finally{a(!1)}},o=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),c=e=>{switch(e){case"RECEIVED":return"bg-blue-100 text-blue-800";case"SUBMITTED":return"bg-yellow-100 text-yellow-800";case"QUESTION":return"bg-red-100 text-red-800";case"PAID":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},d=e=>{switch(e){case"RECEIVED":default:return(0,wr.jsx)(Mr,{className:"w-4 h-4"});case"SUBMITTED":return(0,wr.jsx)(kn,{className:"w-4 h-4"});case"QUESTION":return(0,wr.jsx)(Sn,{className:"w-4 h-4"});case"PAID":return(0,wr.jsx)(En,{className:"w-4 h-4"})}},u=e=>{switch(e){case"RECEIVED":return"Received";case"SUBMITTED":return"Submitted";case"QUESTION":return"Question";case"PAID":return"Paid";default:return e}};return r?(0,wr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading invoices..."})}):s?(0,wr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,wr.jsx)("div",{className:"text-lg text-red-600",children:s})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices"}),(0,wr.jsxs)(nt,{to:"/invoices/new",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Invoice"]})]}),0===e.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(tn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,wr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No invoices found"}),(0,wr.jsx)("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first invoice."}),(0,wr.jsxs)(nt,{to:"/invoices/new",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Invoice"]})]}):(0,wr.jsx)("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:(0,wr.jsx)("div",{className:"overflow-x-auto",children:(0,wr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,wr.jsx)("thead",{className:"bg-gray-50",children:(0,wr.jsxs)("tr",{children:[(0,wr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice Details"}),(0,wr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matter"}),(0,wr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),(0,wr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,wr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,wr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Approved"}),(0,wr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,wr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>{return(0,wr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,wr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)(ln,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["Invoice #",r.id]}),(0,wr.jsx)("div",{className:"text-sm text-gray-500",children:(n=r.invoiceDate,new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]})]})}),(0,wr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wr.jsxs)("div",{children:[(0,wr.jsx)(nt,{to:`/matters/${r.matter.id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:r.matter.matterName}),(0,wr.jsx)("div",{className:"text-sm text-gray-500",children:r.matter.client.clientName})]})}),(0,wr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wr.jsx)(nt,{to:`/organizations/${r.organization.id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:r.organization.name})}),(0,wr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,wr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:o(r.invoiceAmount)}),r.estimate&&(0,wr.jsxs)("div",{className:"text-sm text-gray-500",children:["Est: ",o(r.estimate.totalCost)]})]}),(0,wr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wr.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c(r.status)}`,children:[d(r.status),(0,wr.jsx)("span",{className:"ml-1",children:u(r.status)})]})}),(0,wr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wr.jsxs)("div",{className:"flex items-center",children:[r.approved?(0,wr.jsx)(En,{className:"w-5 h-5 text-green-500"}):(0,wr.jsx)(Cn,{className:"w-5 h-5 text-red-500"}),(0,wr.jsx)("span",{className:"ml-2 text-sm "+(r.approved?"text-green-800":"text-red-800"),children:r.approved?"Approved":"Pending"})]})}),(0,wr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,wr.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,wr.jsx)(nt,{to:`/invoices/${r.id}`,className:"text-blue-600 hover:text-blue-900",children:"View"}),(0,wr.jsx)(nt,{to:`/invoices/${r.id}/edit`,className:"text-indigo-600 hover:text-indigo-900",children:(0,wr.jsx)(In,{className:"w-4 h-4"})}),(0,wr.jsx)("button",{onClick:()=>(async r=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{if(!(await fetch(`${Kr}/invoices/${r}`,{method:"DELETE"})).ok)throw new Error("Failed to delete invoice");t(e.filter(e=>e.id!==r))}catch(n){console.error("Error deleting invoice:",n),alert("Failed to delete invoice")}})(r.id),className:"text-red-600 hover:text-red-900",children:(0,wr.jsx)(Yr,{className:"w-4 h-4"})})]})})]},r.id);var n})})]})})})]})})},Pn=zr("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),On=()=>{const{id:e}=ne(),t=re(),[r,a]=(0,n.useState)(null),[s,l]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{c()},[e]);const c=async()=>{try{const t=await fetch(`${Kr}/invoices/${e}`);if(!t.ok){if(404===t.status)throw new Error("Invoice not found");throw new Error("Failed to fetch invoice")}const r=await t.json();a(r)}catch(t){o(t.message),console.error("Error:",t)}finally{l(!1)}},d=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),u=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return s?(0,wr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading invoice..."})}):i?(0,wr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,wr.jsxs)("div",{className:"text-center",children:[(0,wr.jsx)("div",{className:"text-lg text-red-600 mb-4",children:i}),(0,wr.jsx)("button",{onClick:()=>t("/invoices"),className:"text-blue-600 hover:text-blue-800",children:"Back to Invoices"})]})}):r?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,wr.jsxs)("div",{className:"mb-6",children:[(0,wr.jsxs)("button",{onClick:()=>t("/invoices"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-2"}),"Back to Invoices"]}),(0,wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Invoice #",r.id]}),(0,wr.jsxs)("p",{className:"text-gray-500 mt-1",children:["Created on ",u(r.createdAt)]})]}),(0,wr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,wr.jsxs)(nt,{to:`/invoices/${r.id}/edit`,className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,wr.jsx)(In,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,wr.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this invoice?"))try{if(!(await fetch(`${Kr}/invoices/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete invoice");t("/invoices")}catch(r){console.error("Error deleting invoice:",r),alert("Failed to delete invoice")}},className:"inline-flex items-center px-3 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:[(0,wr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,wr.jsx)("div",{className:"lg:col-span-2",children:(0,wr.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[(0,wr.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Invoice Details"}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Invoice Date"}),(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)(ln,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,wr.jsx)("span",{className:"text-sm text-gray-900",children:u(r.invoiceDate)})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Invoice Amount"}),(0,wr.jsxs)("div",{className:"flex items-center",children:[(0,wr.jsx)(tn,{className:"w-4 h-4 text-gray-400 mr-2"}),(0,wr.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:d(r.invoiceAmount)})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Status"}),(0,wr.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(e=>{switch(e){case"RECEIVED":return"bg-blue-100 text-blue-800";case"SUBMITTED":return"bg-yellow-100 text-yellow-800";case"QUESTION":return"bg-red-100 text-red-800";case"PAID":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(r.status)}`,children:(e=>{switch(e){case"RECEIVED":return"Received";case"SUBMITTED":return"Submitted";case"QUESTION":return"Question";case"PAID":return"Paid";default:return e}})(r.status)})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-2",children:"Approval Status"}),(0,wr.jsx)("div",{className:"flex items-center",children:r.approved?(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(En,{className:"w-5 h-5 text-green-500 mr-2"}),(0,wr.jsx)("span",{className:"text-sm text-green-800 font-medium",children:"Approved"})]}):(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsx)(Cn,{className:"w-5 h-5 text-red-500 mr-2"}),(0,wr.jsx)("span",{className:"text-sm text-red-800 font-medium",children:"Pending Approval"})]})})]})]})]})}),(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[(0,wr.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,wr.jsx)(Pn,{className:"w-5 h-5 mr-2"}),"Matter"]}),(0,wr.jsxs)("div",{className:"space-y-3",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)(nt,{to:`/matters/${r.matter.id}`,className:"text-blue-600 hover:text-blue-900 font-medium",children:r.matter.matterName}),(0,wr.jsxs)("p",{className:"text-sm text-gray-500",children:["#",r.matter.matterNumber]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Client"}),(0,wr.jsx)(nt,{to:`/clients/${r.matter.client.id}`,className:"text-blue-600 hover:text-blue-900",children:r.matter.client.clientName})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[(0,wr.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,wr.jsx)(fn,{className:"w-5 h-5 mr-2"}),"Vendor"]}),(0,wr.jsxs)("div",{className:"space-y-3",children:[(0,wr.jsx)("div",{children:(0,wr.jsx)(nt,{to:`/organizations/${r.organization.id}`,className:"text-blue-600 hover:text-blue-900 font-medium",children:r.organization.name})}),r.organization.email&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),(0,wr.jsx)("a",{href:`mailto:${r.organization.email}`,className:"text-blue-600 hover:text-blue-900",children:r.organization.email})]}),r.organization.phone&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Phone"}),(0,wr.jsx)("a",{href:`tel:${r.organization.phone}`,className:"text-blue-600 hover:text-blue-900",children:r.organization.phone})]})]})]}),r.estimate&&(0,wr.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[(0,wr.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,wr.jsx)(Fr,{className:"w-5 h-5 mr-2"}),"Related Estimate"]}),(0,wr.jsxs)("div",{className:"space-y-3",children:[(0,wr.jsx)("div",{children:(0,wr.jsx)(nt,{to:`/estimates/${r.estimate.id}`,className:"text-blue-600 hover:text-blue-900 font-medium",children:"View Estimate Details"})}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Estimated Cost"}),(0,wr.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:d(r.estimate.totalCost)})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Difference"}),(0,wr.jsxs)("span",{className:"font-semibold "+(r.invoiceAmount>r.estimate.totalCost?"text-red-600":"text-green-600"),children:[r.invoiceAmount>r.estimate.totalCost?"+":"",d(r.invoiceAmount-r.estimate.totalCost)]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Description"}),(0,wr.jsx)("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:r.estimate.description})]})]})]}),r.vendorAgreement&&(0,wr.jsxs)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:[(0,wr.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,wr.jsx)(rn,{className:"w-5 h-5 mr-2"}),"Related Vendor Agreement"]}),(0,wr.jsxs)("div",{className:"space-y-3",children:[(0,wr.jsx)("div",{children:(0,wr.jsx)(nt,{to:`/vendor-agreements/${r.vendorAgreement.id}`,className:"text-blue-600 hover:text-blue-900 font-medium",children:"View Agreement Details"})}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Signed By"}),(0,wr.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:r.vendorAgreement.signedBy})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Agreement Text"}),(0,wr.jsxs)("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:[r.vendorAgreement.agreementText.substring(0,200),r.vendorAgreement.agreementText.length>200?"...":""]})]})]})]})]})]})]})}):(0,wr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,wr.jsx)("div",{className:"text-lg",children:"Invoice not found"})})},An=zr("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Tn=()=>{const e=re(),[t,r]=(0,n.useState)(!1),[a,s]=(0,n.useState)([]),[l,i]=(0,n.useState)([]),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[m,p]=(0,n.useState)([]),[h,f]=(0,n.useState)({invoiceDate:(new Date).toISOString().split("T")[0],invoiceAmount:"",approved:!1,status:"RECEIVED",matterId:"",organizationId:"",estimateId:"",vendorAgreementId:""});(0,n.useEffect)(()=>{x()},[]),(0,n.useEffect)(()=>{h.matterId&&h.organizationId?(g(),b()):(c([]),u([]),f(e=>({...e,estimateId:"",vendorAgreementId:""})))},[h.matterId,h.organizationId]);const x=async()=>{try{const[e,t,r]=await Promise.all([fetch(`${Kr}/matters`),fetch(`${Kr}/organizations`),fetch(`${Kr}/invoices/status-options`)]);if(!e.ok||!t.ok||!r.ok)throw new Error("Failed to fetch initial data");const[n,a,l]=await Promise.all([e.json(),t.json(),r.json()]);s(n),i(a.filter(e=>"VENDOR"===e.type)),p(l)}catch(e){console.error("Error fetching initial data:",e),alert("Failed to load form data")}},g=async()=>{try{const e=await fetch(`${Kr}/estimates`);if(!e.ok)throw new Error("Failed to fetch estimates");const t=(await e.json()).filter(e=>e.matterId===parseInt(h.matterId)&&e.organizationId===parseInt(h.organizationId));c(t)}catch(e){console.error("Error fetching estimates:",e)}},b=async()=>{try{const e=await fetch(`${Kr}/vendor-agreements`);if(!e.ok)throw new Error("Failed to fetch vendor agreements");const t=(await e.json()).filter(e=>e.matterId===parseInt(h.matterId)&&e.organizationId===parseInt(h.organizationId));u(t)}catch(e){console.error("Error fetching vendor agreements:",e)}},y=e=>{const{name:t,value:r,type:n,checked:a}=e.target;f(e=>({...e,[t]:"checkbox"===n?a:r}))},v=e=>{switch(e){case"RECEIVED":return"Received";case"SUBMITTED":return"Submitted";case"QUESTION":return"Question";case"PAID":return"Paid";default:return e}};return(0,wr.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,wr.jsxs)("div",{className:"mb-6",children:[(0,wr.jsxs)("button",{onClick:()=>e("/invoices"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-2"}),"Back to Invoices"]}),(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Invoice"})]}),(0,wr.jsx)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:(0,wr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0);try{const t=await fetch("${API_BASE_URL}/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,matterId:parseInt(h.matterId),organizationId:parseInt(h.organizationId),estimateId:h.estimateId?parseInt(h.estimateId):null,vendorAgreementId:h.vendorAgreementId?parseInt(h.vendorAgreementId):null,invoiceAmount:parseFloat(h.invoiceAmount)})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to create invoice")}e("/invoices")}catch(n){console.error("Error creating invoice:",n),alert(n.message||"Failed to create invoice")}finally{r(!1)}},className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Date *"}),(0,wr.jsx)("input",{type:"date",name:"invoiceDate",value:h.invoiceDate,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Amount *"}),(0,wr.jsxs)("div",{className:"relative",children:[(0,wr.jsx)(tn,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),(0,wr.jsx)("input",{type:"number",step:"0.01",name:"invoiceAmount",value:h.invoiceAmount,onChange:y,placeholder:"0.00",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Matter *"}),(0,wr.jsxs)("select",{name:"matterId",value:h.matterId,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select a matter"}),a.map(e=>{var t;return(0,wr.jsxs)("option",{value:e.id,children:[e.matterName," (",null===(t=e.client)||void 0===t?void 0:t.clientName,")"]},e.id)})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vendor *"}),(0,wr.jsxs)("select",{name:"organizationId",value:h.organizationId,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select a vendor"}),l.map(e=>(0,wr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related Estimate (Optional)"}),(0,wr.jsxs)("select",{name:"estimateId",value:h.estimateId,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:!h.matterId||!h.organizationId,children:[(0,wr.jsx)("option",{value:"",children:"No related estimate"}),o.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.description.substring(0,50),"... ($",e.totalCost,")"]},e.id))]}),(!h.matterId||!h.organizationId)&&(0,wr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Select matter and vendor first to see available estimates"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related Vendor Agreement (Optional)"}),(0,wr.jsxs)("select",{name:"vendorAgreementId",value:h.vendorAgreementId,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:!h.matterId||!h.organizationId,children:[(0,wr.jsx)("option",{value:"",children:"No related agreement"}),d.map(e=>(0,wr.jsxs)("option",{value:e.id,children:["Agreement #",e.id," - ",e.signedBy]},e.id))]}),(!h.matterId||!h.organizationId)&&(0,wr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Select matter and vendor first to see available agreements"})]})]}),(0,wr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,wr.jsx)("select",{name:"status",value:h.status,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:m.map(e=>(0,wr.jsx)("option",{value:e,children:v(e)},e))})]})}),(0,wr.jsx)("div",{children:(0,wr.jsxs)("label",{className:"flex items-center",children:[(0,wr.jsx)("input",{type:"checkbox",name:"approved",checked:h.approved,onChange:y,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,wr.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Invoice Approved"})]})}),(0,wr.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,wr.jsx)("button",{type:"button",onClick:()=>e("/invoices"),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,wr.jsxs)("button",{type:"submit",disabled:t,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 disabled:opacity-50",children:[(0,wr.jsx)(An,{className:"w-4 h-4 mr-2"}),t?"Creating...":"Create Invoice"]})]})]})})]})},Rn=()=>{const{id:e}=ne(),t=re(),[r,a]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!0),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[p,h]=(0,n.useState)([]),[f,x]=(0,n.useState)([]),[g,b]=(0,n.useState)({invoiceDate:"",invoiceAmount:"",approved:!1,status:"RECEIVED",matterId:"",organizationId:"",estimateId:"",vendorAgreementId:""});(0,n.useEffect)(()=>{y()},[e]),(0,n.useEffect)(()=>{g.matterId&&g.organizationId&&!s?(v(),j()):s||(m([]),h([]),b(e=>({...e,estimateId:"",vendorAgreementId:""})))},[g.matterId,g.organizationId,s]);const y=async()=>{try{const[t,r,n,a]=await Promise.all([fetch(`${Kr}/invoices/${e}`),fetch(`${Kr}/matters`),fetch(`${Kr}/organizations`),fetch(`${Kr}/invoices/status-options`)]);if(!t.ok||!r.ok||!n.ok||!a.ok)throw new Error("Failed to fetch initial data");const[s,i,c,u]=await Promise.all([t.json(),r.json(),n.json(),a.json()]);o(i),d(c.filter(e=>"VENDOR"===e.type)),x(u),b({invoiceDate:new Date(s.invoiceDate).toISOString().split("T")[0],invoiceAmount:s.invoiceAmount.toString(),approved:s.approved,status:s.status,matterId:s.matterId.toString(),organizationId:s.organizationId.toString(),estimateId:s.estimateId?s.estimateId.toString():"",vendorAgreementId:s.vendorAgreementId?s.vendorAgreementId.toString():""}),l(!1)}catch(r){console.error("Error fetching initial data:",r),alert("Failed to load invoice data"),t("/invoices")}},v=async()=>{try{const e=await fetch(`${Kr}/estimates`);if(!e.ok)throw new Error("Failed to fetch estimates");const t=(await e.json()).filter(e=>e.matterId===parseInt(g.matterId)&&e.organizationId===parseInt(g.organizationId));m(t)}catch(e){console.error("Error fetching estimates:",e)}},j=async()=>{try{const e=await fetch(`${Kr}/vendor-agreements`);if(!e.ok)throw new Error("Failed to fetch vendor agreements");const t=(await e.json()).filter(e=>e.matterId===parseInt(g.matterId)&&e.organizationId===parseInt(g.organizationId));h(t)}catch(e){console.error("Error fetching vendor agreements:",e)}},N=e=>{const{name:t,value:r,type:n,checked:a}=e.target;b(e=>({...e,[t]:"checkbox"===n?a:r}))},w=e=>{switch(e){case"RECEIVED":return"Received";case"SUBMITTED":return"Submitted";case"QUESTION":return"Question";case"PAID":return"Paid";default:return e}};return s?(0,wr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading invoice..."})}):(0,wr.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,wr.jsxs)("div",{className:"mb-6",children:[(0,wr.jsxs)("button",{onClick:()=>t(`/invoices/${e}`),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-2"}),"Back to Invoice"]}),(0,wr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Edit Invoice #",e]})]}),(0,wr.jsx)("div",{className:"bg-white shadow-sm rounded-lg p-6",children:(0,wr.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),a(!0);try{const r=await fetch(`${Kr}/invoices/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...g,matterId:parseInt(g.matterId),organizationId:parseInt(g.organizationId),estimateId:g.estimateId?parseInt(g.estimateId):null,vendorAgreementId:g.vendorAgreementId?parseInt(g.vendorAgreementId):null,invoiceAmount:parseFloat(g.invoiceAmount)})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to update invoice")}t(`/invoices/${e}`)}catch(n){console.error("Error updating invoice:",n),alert(n.message||"Failed to update invoice")}finally{a(!1)}},className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Date *"}),(0,wr.jsx)("input",{type:"date",name:"invoiceDate",value:g.invoiceDate,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Amount *"}),(0,wr.jsxs)("div",{className:"relative",children:[(0,wr.jsx)(tn,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),(0,wr.jsx)("input",{type:"number",step:"0.01",name:"invoiceAmount",value:g.invoiceAmount,onChange:N,placeholder:"0.00",required:!0,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Matter *"}),(0,wr.jsxs)("select",{name:"matterId",value:g.matterId,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select a matter"}),i.map(e=>{var t;return(0,wr.jsxs)("option",{value:e.id,children:[e.matterName," (",null===(t=e.client)||void 0===t?void 0:t.clientName,")"]},e.id)})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vendor *"}),(0,wr.jsxs)("select",{name:"organizationId",value:g.organizationId,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select a vendor"}),c.map(e=>(0,wr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related Estimate (Optional)"}),(0,wr.jsxs)("select",{name:"estimateId",value:g.estimateId,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:!g.matterId||!g.organizationId,children:[(0,wr.jsx)("option",{value:"",children:"No related estimate"}),u.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.description.substring(0,50),"... ($",e.totalCost,")"]},e.id))]}),(!g.matterId||!g.organizationId)&&(0,wr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Select matter and vendor first to see available estimates"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Related Vendor Agreement (Optional)"}),(0,wr.jsxs)("select",{name:"vendorAgreementId",value:g.vendorAgreementId,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",disabled:!g.matterId||!g.organizationId,children:[(0,wr.jsx)("option",{value:"",children:"No related agreement"}),p.map(e=>(0,wr.jsxs)("option",{value:e.id,children:["Agreement #",e.id," - ",e.signedBy]},e.id))]}),(!g.matterId||!g.organizationId)&&(0,wr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Select matter and vendor first to see available agreements"})]})]}),(0,wr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,wr.jsx)("select",{name:"status",value:g.status,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500",children:f.map(e=>(0,wr.jsx)("option",{value:e,children:w(e)},e))})]})}),(0,wr.jsx)("div",{children:(0,wr.jsxs)("label",{className:"flex items-center",children:[(0,wr.jsx)("input",{type:"checkbox",name:"approved",checked:g.approved,onChange:N,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,wr.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Invoice Approved"})]})}),(0,wr.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[(0,wr.jsx)("button",{type:"button",onClick:()=>t(`/invoices/${e}`),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,wr.jsxs)("button",{type:"submit",disabled:r,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 disabled:opacity-50",children:[(0,wr.jsx)(An,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save Changes"]})]})]})})]})},zn=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0),[s,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=await fetch(`${Kr}/custodians`);if(!e.ok)throw new Error("Failed to fetch custodians");const r=await e.json();t(r)}catch(e){l(e.message)}finally{a(!1)}};return r?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):s?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",s]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Custodians"}),(0,wr.jsxs)(nt,{to:"/custodians/new",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Custodian"]})]}),0===e.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(Lr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,wr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No custodians found"}),(0,wr.jsx)("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first custodian."}),(0,wr.jsxs)(nt,{to:"/custodians/new",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Custodian"]})]}):(0,wr.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,wr.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map(e=>(0,wr.jsx)("li",{children:(0,wr.jsxs)("div",{className:"px-4 py-4 sm:px-6 flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,wr.jsx)("div",{className:"flex-shrink-0",children:(0,wr.jsx)(Br,{className:"w-8 h-8 text-gray-400"})}),(0,wr.jsxs)("div",{className:"ml-4 min-w-0 flex-1",children:[(0,wr.jsx)("div",{className:"flex items-center",children:(0,wr.jsx)(nt,{to:`/custodians/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-900 truncate",children:e.name})}),(0,wr.jsxs)("div",{className:"mt-1 flex flex-col sm:flex-row sm:flex-wrap sm:mt-0 sm:space-x-6",children:[e.organization&&(0,wr.jsx)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:(0,wr.jsx)(nt,{to:`/organizations/${e.organization.id}`,className:"text-blue-600 hover:text-blue-900",children:e.organization.name})}),e.department&&(0,wr.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:["Department: ",e.department]}),e.title&&(0,wr.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:["Title: ",e.title]})]}),(0,wr.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[(0,wr.jsx)(Mr,{className:"w-4 h-4 mr-1"}),e.collections.length," collection(s)"]})]})]}),(0,wr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,wr.jsx)(nt,{to:`/custodians/${e.id}/edit`,className:"text-gray-400 hover:text-gray-600",children:(0,wr.jsx)(In,{className:"w-4 h-4"})}),(0,wr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this custodian?"))try{const t=await fetch(`${Kr}/custodians/${e}`,{method:"DELETE"});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete custodian")}i()}catch(t){alert(t.message)}})(e.id),className:"text-red-400 hover:text-red-600",children:(0,wr.jsx)(Yr,{className:"w-4 h-4"})})]})]})},e.id))})})]})})},Ln=()=>{var e;const{id:t}=ne(),r=re(),[a,s]=(0,n.useState)(null),[l,i]=(0,n.useState)(!0),[o,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{d()},[t]);const d=async()=>{try{const e=await fetch(`${Kr}/custodians/${t}`);if(!e.ok)throw new Error("Failed to fetch custodian");const r=await e.json();s(r)}catch(e){c(e.message)}finally{i(!1)}},u=e=>e?new Date(e).toLocaleDateString():"Not set",m=e=>{switch(e){case"DISCUSSING":return"Discussing";case"SCHEDULED":return"Scheduled";case"IN_PROGRESS":return"In Progress";case"COMPLETED":return"Completed";default:return e}},p=e=>{switch(e){case"EMAIL":return"Email";case"MOBILE":return"Mobile";case"COMPUTER":return"Computer";case"OTHER":return"Other";default:return e}},h=e=>{switch(e){case"DISCUSSING":return"bg-yellow-100 text-yellow-800";case"SCHEDULED":return"bg-blue-100 text-blue-800";case"IN_PROGRESS":return"bg-orange-100 text-orange-800";case"COMPLETED":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return l?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading custodian..."})}):o?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",o]})}):a?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,wr.jsxs)("div",{className:"mb-6",children:[(0,wr.jsxs)(nt,{to:"/custodians",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-1"}),"Back to Custodians"]}),(0,wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:a.name}),(0,wr.jsx)("p",{className:"text-lg text-gray-600 mt-1",children:"Custodian Details"})]}),(0,wr.jsxs)("div",{className:"flex space-x-3",children:[(0,wr.jsxs)(nt,{to:`/custodians/${a.id}/edit`,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,wr.jsx)(Jr,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,wr.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this custodian? This will also delete all associated collections."))try{const e=await fetch(`${Kr}/custodians/${t}`,{method:"DELETE"});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to delete custodian")}r("/custodians")}catch(e){alert(e.message)}},className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[(0,wr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,wr.jsxs)("div",{className:"lg:col-span-1",children:[(0,wr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,wr.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:[(0,wr.jsx)(Br,{className:"w-5 h-5 inline mr-2"}),"Custodian Information"]}),(0,wr.jsxs)("dl",{className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Name"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:a.name})]}),a.organization&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Organization"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:(0,wr.jsxs)(nt,{to:`/organizations/${a.organization.id}`,className:"text-blue-600 hover:text-blue-900",children:[(0,wr.jsx)(fn,{className:"w-4 h-4 inline mr-1"}),a.organization.name]})})]}),a.matter&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Matter"}),(0,wr.jsxs)("dd",{className:"text-sm text-gray-900",children:[(0,wr.jsx)(nt,{to:`/matters/${a.matter.id}`,className:"text-blue-600 hover:text-blue-900",children:a.matter.matterName}),a.matter.client&&(0,wr.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Client: ",a.matter.client.clientName]})]})]}),a.department&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Department"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:a.department})]}),a.title&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Title"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:a.title})]})]})]}),(a.email||a.streetAddress||a.city||a.state||a.zipCode)&&(0,wr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:[(0,wr.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:[(0,wr.jsx)(mn,{className:"w-5 h-5 inline mr-2"}),"Contact Information"]}),(0,wr.jsxs)("dl",{className:"space-y-4",children:[a.email&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:(0,wr.jsx)("a",{href:`mailto:${a.email}`,className:"text-blue-600 hover:text-blue-900",children:a.email})})]}),(a.streetAddress||a.city||a.state||a.zipCode)&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,wr.jsxs)("dd",{className:"text-sm text-gray-900",children:[a.streetAddress&&(0,wr.jsx)("div",{children:a.streetAddress}),(a.city||a.state||a.zipCode)&&(0,wr.jsx)("div",{children:[a.city,a.state,a.zipCode].filter(Boolean).join(", ")})]})]})]})]})]}),(0,wr.jsx)("div",{className:"lg:col-span-2",children:(0,wr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,wr.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:[(0,wr.jsx)(_r,{className:"w-5 h-5 inline mr-2"}),"Collections (",(null===(e=a.collections)||void 0===e?void 0:e.length)||0,")"]}),(0,wr.jsx)(nt,{to:"/collections/new",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700",children:"Add Collection"})]}),a.collections&&a.collections.length>0?(0,wr.jsx)("div",{className:"space-y-4",children:a.collections.map(e=>{const t=e.collection;return(0,wr.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,wr.jsxs)("h3",{className:"text-sm font-medium text-gray-900",children:[p(t.type)," Collection"]}),(0,wr.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h(t.status)}`,children:m(t.status)})]}),(0,wr.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,wr.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,wr.jsx)("strong",{children:"Matter:"})," ",(0,wr.jsx)(nt,{to:`/matters/${t.matter.id}`,className:"text-blue-600 hover:text-blue-900",children:t.matter.matterName})," - ",(0,wr.jsx)("span",{children:t.matter.client.clientName})]}),t.organization&&(0,wr.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,wr.jsx)("strong",{children:"Vendor:"})," ",(0,wr.jsx)(nt,{to:`/organizations/${t.organization.id}`,className:"text-blue-600 hover:text-blue-900",children:t.organization.name})]}),(0,wr.jsxs)("div",{className:"flex space-x-4 text-sm text-gray-600",children:[t.scheduledDate&&(0,wr.jsxs)("span",{children:[(0,wr.jsx)(ln,{className:"w-3 h-3 inline mr-1"}),"Scheduled: ",u(t.scheduledDate)]}),t.completedDate&&(0,wr.jsxs)("span",{children:[(0,wr.jsx)(En,{className:"w-3 h-3 inline mr-1"}),"Completed: ",u(t.completedDate)]})]}),t.notes&&(0,wr.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,wr.jsx)("strong",{children:"Notes:"})," ",t.notes]})]})]}),(0,wr.jsx)("div",{className:"flex space-x-2",children:(0,wr.jsx)(nt,{to:`/collections/${t.id}/edit`,className:"text-gray-400 hover:text-gray-600",children:(0,wr.jsx)(Jr,{className:"w-4 h-4"})})})]})},t.id)})}):(0,wr.jsxs)("div",{className:"text-center py-8",children:[(0,wr.jsx)(_r,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,wr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No collections"}),(0,wr.jsx)("p",{className:"text-gray-500 mb-4",children:"This custodian has no collections yet."}),(0,wr.jsx)(nt,{to:"/collections/new",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Create First Collection"})]})]})})]})]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Custodian not found"})})},Mn=()=>{const[e,t]=(0,n.useState)({name:"",department:"",title:"",organizationId:"",matterId:"",email:"",streetAddress:"",city:"",state:"",zipCode:""}),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)({}),p=re();(0,n.useEffect)(()=>{h()},[]);const h=async()=>{try{const[e,t]=await Promise.all([fetch(`${Kr}/organizations`),fetch(`${Kr}/matters`)]);if(!e.ok||!t.ok)throw new Error("Failed to fetch required data");const[r,n]=await Promise.all([e.json(),t.json()]);a(r),l(n)}catch(e){m({fetch:e.message})}finally{d(!1)}},f=e=>{const{name:r,value:n}=e.target;t(e=>({...e,[r]:n})),u[r]&&m(e=>({...e,[r]:""}))};return c?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):u.fetch?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",u.fetch]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,wr.jsxs)("div",{className:"mb-6",children:[(0,wr.jsxs)("button",{onClick:()=>p("/custodians"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-1"}),"Back to Custodians"]}),(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Custodian"})]}),(0,wr.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,wr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.name.trim()||(t.name="Name is required"),e.organizationId||(t.organizationId="Organization is required"),e.matterId||(t.matterId="Matter is required"),m(t),0===Object.keys(t).length})()){o(!0);try{const t=await fetch("${API_BASE_URL}/custodians",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to create custodian")}p("/custodians")}catch(r){m({submit:r.message})}finally{o(!1)}}},className:"space-y-6",children:[u.submit&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:u.submit}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,wr.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:f,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.name?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),placeholder:"Enter custodian's full name"}),u.name&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.name})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"organizationId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization *"}),(0,wr.jsxs)("select",{id:"organizationId",name:"organizationId",value:e.organizationId,onChange:f,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.organizationId?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),children:[(0,wr.jsx)("option",{value:"",children:"Select organization..."}),r.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.name," (",e.type,")"]},e.id))]}),u.organizationId&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.organizationId})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"matterId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Matter *"}),(0,wr.jsxs)("select",{id:"matterId",name:"matterId",value:e.matterId,onChange:f,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.matterId?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),children:[(0,wr.jsx)("option",{value:"",children:"Select matter..."}),s.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.matterNumber," - ",e.title," (",e.client.clientName,")"]},e.id))]}),u.matterId&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.matterId})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,wr.jsx)("input",{type:"text",id:"department",name:"department",value:e.department,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter department"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,wr.jsx)("input",{type:"text",id:"title",name:"title",value:e.title,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter job title"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,wr.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email address"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"streetAddress",className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),(0,wr.jsx)("input",{type:"text",id:"streetAddress",name:"streetAddress",value:e.streetAddress,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter street address"})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,wr.jsx)("input",{type:"text",id:"city",name:"city",value:e.city,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter city"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,wr.jsx)("input",{type:"text",id:"state",name:"state",value:e.state,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter state"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),(0,wr.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:e.zipCode,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter ZIP code"})]})]}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,wr.jsx)("button",{type:"button",onClick:()=>p("/custodians"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:i,children:"Cancel"}),(0,wr.jsxs)("button",{type:"submit",disabled:i,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[i?(0,wr.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,wr.jsx)(An,{className:"w-4 h-4 mr-2"}),"Create Custodian"]})]})]})})]})})},$n=()=>{const[e,t]=(0,n.useState)({name:"",department:"",title:"",organizationId:"",matterId:"",email:"",streetAddress:"",city:"",state:"",zipCode:""}),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)({}),p=re(),{id:h}=ne();(0,n.useEffect)(()=>{f()},[h]);const f=async()=>{try{var e,r;const[n,s,i]=await Promise.all([fetch(`${Kr}/custodians/${h}`),fetch(`${Kr}/organizations`),fetch(`${Kr}/matters`)]);if(!n.ok||!s.ok||!i.ok)throw new Error("Failed to fetch data");const[o,c,d]=await Promise.all([n.json(),s.json(),i.json()]);a(c),l(d),t({name:o.name||"",department:o.department||"",title:o.title||"",organizationId:(null===(e=o.organizationId)||void 0===e?void 0:e.toString())||"",matterId:(null===(r=o.matterId)||void 0===r?void 0:r.toString())||"",email:o.email||"",streetAddress:o.streetAddress||"",city:o.city||"",state:o.state||"",zipCode:o.zipCode||""})}catch(n){m({fetch:n.message})}finally{d(!1)}},x=e=>{const{name:r,value:n}=e.target;t(e=>({...e,[r]:n})),u[r]&&m(e=>({...e,[r]:""}))};return c?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading custodian..."})}):u.fetch?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",u.fetch]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,wr.jsxs)("div",{className:"mb-6",children:[(0,wr.jsxs)("button",{onClick:()=>p("/custodians"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-1"}),"Back to Custodians"]}),(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Custodian"})]}),(0,wr.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,wr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.name.trim()||(t.name="Name is required"),e.organizationId||(t.organizationId="Organization is required"),e.matterId||(t.matterId="Matter is required"),m(t),0===Object.keys(t).length})()){o(!0);try{const t=await fetch(`${Kr}/custodians/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to update custodian")}p("/custodians")}catch(r){m({submit:r.message})}finally{o(!1)}}},className:"space-y-6",children:[u.submit&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:u.submit}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,wr.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:x,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.name?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),placeholder:"Enter custodian's full name"}),u.name&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.name})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"organizationId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization *"}),(0,wr.jsxs)("select",{id:"organizationId",name:"organizationId",value:e.organizationId,onChange:x,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.organizationId?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),children:[(0,wr.jsx)("option",{value:"",children:"Select organization..."}),r.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.name," (",e.type,")"]},e.id))]}),u.organizationId&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.organizationId})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"matterId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Matter *"}),(0,wr.jsxs)("select",{id:"matterId",name:"matterId",value:e.matterId,onChange:x,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(u.matterId?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),children:[(0,wr.jsx)("option",{value:"",children:"Select matter..."}),s.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.matterNumber," - ",e.title," (",e.client.clientName,")"]},e.id))]}),u.matterId&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:u.matterId})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,wr.jsx)("input",{type:"text",id:"department",name:"department",value:e.department,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter department"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,wr.jsx)("input",{type:"text",id:"title",name:"title",value:e.title,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter job title"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,wr.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email address"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"streetAddress",className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),(0,wr.jsx)("input",{type:"text",id:"streetAddress",name:"streetAddress",value:e.streetAddress,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter street address"})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,wr.jsx)("input",{type:"text",id:"city",name:"city",value:e.city,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter city"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,wr.jsx)("input",{type:"text",id:"state",name:"state",value:e.state,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter state"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),(0,wr.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:e.zipCode,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter ZIP code"})]})]}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,wr.jsx)("button",{type:"button",onClick:()=>p("/custodians"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:i,children:"Cancel"}),(0,wr.jsxs)("button",{type:"submit",disabled:i,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[i?(0,wr.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,wr.jsx)(An,{className:"w-4 h-4 mr-2"}),"Update Custodian"]})]})]})})]})})},_n=zr("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Fn=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0),[s,l]=(0,n.useState)(null);(0,n.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=await fetch(`${Kr}/collections`);if(!e.ok)throw new Error("Failed to fetch collections");const r=await e.json();t(r)}catch(e){l(e.message)}finally{a(!1)}},o=e=>e?new Date(e).toLocaleDateString():"Not set",c=e=>{switch(e){case"DISCUSSING":return"Discussing";case"SCHEDULED":return"Scheduled";case"IN_PROGRESS":return"In Progress";case"COMPLETED":return"Completed";default:return e}},d=e=>{switch(e){case"EMAIL":return"Email";case"MOBILE":return"Mobile";case"COMPUTER":return"Computer";case"OTHER":return"Other";default:return e}},u=e=>{switch(e){case"DISCUSSING":return"bg-yellow-100 text-yellow-800";case"SCHEDULED":return"bg-blue-100 text-blue-800";case"IN_PROGRESS":return"bg-orange-100 text-orange-800";case"COMPLETED":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},m=e=>{switch(e){case"DISCUSSING":return(0,wr.jsx)(_n,{className:"w-4 h-4"});case"SCHEDULED":return(0,wr.jsx)(ln,{className:"w-4 h-4"});case"IN_PROGRESS":return(0,wr.jsx)(kn,{className:"w-4 h-4"});case"COMPLETED":return(0,wr.jsx)(En,{className:"w-4 h-4"});default:return(0,wr.jsx)(Sn,{className:"w-4 h-4"})}};return r?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):s?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",s]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Collections"}),(0,wr.jsxs)(nt,{to:"/collections/new",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Collection"]})]}),0===e.length?(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)(_r,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,wr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No collections found"}),(0,wr.jsx)("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first collection."}),(0,wr.jsxs)(nt,{to:"/collections/new",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,wr.jsx)(qr,{className:"w-4 h-4 mr-2"}),"Create Collection"]})]}):(0,wr.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,wr.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map(e=>(0,wr.jsx)("li",{children:(0,wr.jsxs)("div",{className:"px-4 py-4 sm:px-6 flex items-center justify-between",children:[(0,wr.jsxs)("div",{className:"flex items-center min-w-0 flex-1",children:[(0,wr.jsx)("div",{className:"flex-shrink-0",children:(0,wr.jsx)(_r,{className:"w-8 h-8 text-gray-400"})}),(0,wr.jsxs)("div",{className:"ml-4 min-w-0 flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,wr.jsxs)(nt,{to:`/collections/${e.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-900",children:[d(e.type)," Collection"]}),(0,wr.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(e.status)}`,children:[m(e.status),(0,wr.jsx)("span",{className:"ml-1",children:c(e.status)})]})]}),(0,wr.jsxs)("div",{className:"mt-1 flex flex-col sm:flex-row sm:flex-wrap sm:space-x-6",children:[(0,wr.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[(0,wr.jsx)(nt,{to:`/matters/${e.matter.id}`,className:"text-blue-600 hover:text-blue-900",children:e.matter.matterName}),(0,wr.jsx)("span",{className:"mx-1",children:"\u2022"}),(0,wr.jsx)("span",{children:e.matter.client.clientName})]}),(0,wr.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[(0,wr.jsx)(Br,{className:"w-4 h-4 mr-1"}),e.custodians&&e.custodians.length>0?(0,wr.jsx)("span",{children:e.custodians.map((t,r)=>(0,wr.jsxs)("span",{children:[(0,wr.jsx)(nt,{to:`/custodians/${t.custodian.id}`,className:"text-blue-600 hover:text-blue-900",children:t.custodian.name}),r<e.custodians.length-1&&", "]},t.custodian.id))}):(0,wr.jsx)("span",{className:"text-gray-400",children:"No custodians"})]}),e.organization&&(0,wr.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[(0,wr.jsx)(fn,{className:"w-4 h-4 mr-1"}),(0,wr.jsx)(nt,{to:`/organizations/${e.organization.id}`,className:"text-blue-600 hover:text-blue-900",children:e.organization.name})]})]}),(0,wr.jsxs)("div",{className:"mt-2 flex flex-col sm:flex-row sm:flex-wrap sm:space-x-6",children:[e.scheduledDate&&(0,wr.jsxs)("div",{className:"mt-1 flex items-center text-sm text-gray-500 sm:mt-0",children:[(0,wr.jsx)(ln,{className:"w-4 h-4 mr-1"}),"Scheduled: ",o(e.scheduledDate)]}),e.completedDate&&(0,wr.jsxs)("div",{className:"mt-1 flex items-center text-sm text-gray-500 sm:mt-0",children:[(0,wr.jsx)(En,{className:"w-4 h-4 mr-1"}),"Completed: ",o(e.completedDate)]})]})]})]}),(0,wr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,wr.jsx)(nt,{to:`/collections/${e.id}/edit`,className:"text-gray-400 hover:text-gray-600",children:(0,wr.jsx)(In,{className:"w-4 h-4"})}),(0,wr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this collection?"))try{const t=await fetch(`${Kr}/collections/${e}`,{method:"DELETE"});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to delete collection")}i()}catch(t){alert(t.message)}})(e.id),className:"text-red-400 hover:text-red-600",children:(0,wr.jsx)(Yr,{className:"w-4 h-4"})})]})]})},e.id))})})]})})},Bn=()=>{const{id:e}=ne(),t=re(),[r,a]=(0,n.useState)(null),[s,l]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{c()},[e]);const c=async()=>{try{const t=await fetch(`${Kr}/collections/${e}`);if(!t.ok)throw new Error("Failed to fetch collection");const r=await t.json();a(r)}catch(t){o(t.message)}finally{l(!1)}},d=e=>e?new Date(e).toLocaleDateString():"Not set",u=e=>{switch(e){case"DISCUSSING":return"Discussing";case"SCHEDULED":return"Scheduled";case"IN_PROGRESS":return"In Progress";case"COMPLETED":return"Completed";default:return e}},m=e=>{switch(e){case"EMAIL":return"Email";case"MOBILE":return"Mobile";case"COMPUTER":return"Computer";case"OTHER":return"Other";default:return e}},p=e=>{switch(e){case"DISCUSSING":return"bg-yellow-100 text-yellow-800";case"SCHEDULED":return"bg-blue-100 text-blue-800";case"IN_PROGRESS":return"bg-orange-100 text-orange-800";case"COMPLETED":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=e=>{switch(e){case"DISCUSSING":return(0,wr.jsx)(_n,{className:"w-4 h-4"});case"SCHEDULED":return(0,wr.jsx)(ln,{className:"w-4 h-4"});case"IN_PROGRESS":return(0,wr.jsx)(kn,{className:"w-4 h-4"});case"COMPLETED":return(0,wr.jsx)(En,{className:"w-4 h-4"});default:return(0,wr.jsx)(Sn,{className:"w-4 h-4"})}};return s?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading collection..."})}):i?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",i]})}):r?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,wr.jsxs)("div",{className:"mb-6",children:[(0,wr.jsxs)(nt,{to:"/collections",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-1"}),"Back to Collections"]}),(0,wr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,wr.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:[m(r.type)," Collection"]}),(0,wr.jsxs)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${p(r.status)}`,children:[h(r.status),(0,wr.jsx)("span",{className:"ml-1",children:u(r.status)})]})]}),(0,wr.jsx)("p",{className:"text-lg text-gray-600 mt-1",children:"Collection Details"})]}),(0,wr.jsxs)("div",{className:"flex space-x-3",children:[(0,wr.jsxs)(nt,{to:`/collections/${r.id}/edit`,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,wr.jsx)(Jr,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,wr.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this collection?"))try{const r=await fetch(`${Kr}/collections/${e}`,{method:"DELETE"});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to delete collection")}t("/collections")}catch(r){alert(r.message)}},className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[(0,wr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,wr.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:[(0,wr.jsx)(Mr,{className:"w-5 h-5 inline mr-2"}),"Collection Information"]}),(0,wr.jsxs)("dl",{className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Type"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:m(r.type)})]}),r.platform&&"EMAIL"===r.type&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Platform"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:(e=>{switch(e){case"OUTLOOK":return"Outlook";case"GMAIL":return"Gmail";case"OTHER":return"Other";default:return e}})(r.platform)})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:(0,wr.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p(r.status)}`,children:[h(r.status),(0,wr.jsx)("span",{className:"ml-1",children:u(r.status)})]})})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Matter"}),(0,wr.jsxs)("dd",{className:"text-sm text-gray-900",children:[(0,wr.jsx)(nt,{to:`/matters/${r.matter.id}`,className:"text-blue-600 hover:text-blue-900",children:r.matter.matterName}),(0,wr.jsxs)("span",{className:"text-gray-500",children:[" - ",r.matter.client.name]})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("dt",{className:"text-sm font-medium text-gray-500",children:["Custodian",r.custodians&&r.custodians.length>1?"s":""]}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:r.custodians&&r.custodians.length>0?(0,wr.jsx)("div",{className:"space-y-1",children:r.custodians.map((e,t)=>(0,wr.jsxs)("div",{children:[(0,wr.jsxs)(nt,{to:`/custodians/${e.custodian.id}`,className:"text-blue-600 hover:text-blue-900",children:[(0,wr.jsx)(Br,{className:"w-4 h-4 inline mr-1"}),e.custodian.name]}),e.custodian.organization&&(0,wr.jsxs)("span",{className:"text-gray-500",children:[" ","(",e.custodian.organization.name,")"]})]},e.custodian.id))}):(0,wr.jsx)("span",{className:"text-gray-400",children:"No custodians assigned"})})]}),r.organization&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Vendor Organization"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:(0,wr.jsxs)(nt,{to:`/organizations/${r.organization.id}`,className:"text-blue-600 hover:text-blue-900",children:[(0,wr.jsx)(fn,{className:"w-4 h-4 inline mr-1"}),r.organization.name]})})]}),r.scheduledDate&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Scheduled Date"}),(0,wr.jsxs)("dd",{className:"text-sm text-gray-900",children:[(0,wr.jsx)(ln,{className:"w-4 h-4 inline mr-1"}),d(r.scheduledDate)]})]}),r.completedDate&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Completed Date"}),(0,wr.jsxs)("dd",{className:"text-sm text-gray-900",children:[(0,wr.jsx)(En,{className:"w-4 h-4 inline mr-1"}),d(r.completedDate)]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:d(r.createdAt)})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,wr.jsx)("dd",{className:"text-sm text-gray-900",children:d(r.updatedAt)})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,wr.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:[(0,wr.jsx)(Mr,{className:"w-5 h-5 inline mr-2"}),"Notes"]}),r.notes?(0,wr.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,wr.jsx)("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:r.notes})}):(0,wr.jsxs)("div",{className:"text-center py-8",children:[(0,wr.jsx)(Mr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,wr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notes"}),(0,wr.jsx)("p",{className:"text-gray-500 mb-4",children:"No notes have been added to this collection yet."}),(0,wr.jsxs)(nt,{to:`/collections/${r.id}/edit`,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,wr.jsx)(Jr,{className:"w-4 h-4 mr-2"}),"Add Notes"]})]})]})]})]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Collection not found"})})},Un=()=>{const[e,t]=(0,n.useState)({type:"",platform:"",status:"DISCUSSING",matterId:"",custodianIds:[],organizationId:"",scheduledDate:"",completedDate:"",notes:""}),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[p,h]=(0,n.useState)([]),[f,x]=(0,n.useState)(!1),[g,b]=(0,n.useState)(!0),[y,v]=(0,n.useState)({}),j=re();(0,n.useEffect)(()=>{N()},[]),(0,n.useEffect)(()=>{e.matterId?w(e.matterId):l([])},[e.matterId]);const N=async()=>{try{const[e,t,r,n,s]=await Promise.all([fetch(`${Kr}/matters`),fetch(`${Kr}/organizations`),fetch(`${Kr}/collections/status-options`),fetch(`${Kr}/collections/type-options`),fetch(`${Kr}/collections/platform-options`)]);if(!e.ok||!t.ok||!r.ok||!n.ok||!s.ok)throw new Error("Failed to fetch required data");const[l,i,c,u,p]=await Promise.all([e.json(),t.json(),r.json(),n.json(),s.json()]);a(l),o(i),d(c),m(u),h(p)}catch(e){v({fetch:e.message})}finally{b(!1)}},w=async e=>{try{const t=await fetch(`${Kr}/custodians?matterId=${e}`);if(!t.ok)throw new Error("Failed to fetch custodians");const r=await t.json();l(r)}catch(t){v(e=>({...e,custodians:t.message}))}},k=e=>{const{name:r,value:n}=e.target;t(e=>{const t={...e,[r]:n};return"type"===r&&"EMAIL"!==n&&(t.platform=""),"matterId"===r&&(t.custodianIds=[]),t}),y[r]&&v(e=>({...e,[r]:""}))},S=e=>{const{value:r,checked:n}=e.target;t(e=>{const t=n?[...e.custodianIds,r]:e.custodianIds.filter(e=>e!==r);return{...e,custodianIds:t}}),y.custodianIds&&v(e=>({...e,custodianIds:""}))};return g?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading..."})}):y.fetch?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",y.fetch]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,wr.jsxs)("div",{className:"mb-6",children:[(0,wr.jsxs)("button",{onClick:()=>j("/collections"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-1"}),"Back to Collections"]}),(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create New Collection"})]}),(0,wr.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,wr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.type||(t.type="Collection type is required"),e.matterId||(t.matterId="Matter is required"),e.custodianIds&&0!==e.custodianIds.length||(t.custodianIds="At least one custodian is required"),e.scheduledDate&&e.completedDate&&new Date(e.scheduledDate)>new Date(e.completedDate)&&(t.completedDate="Completed date cannot be before scheduled date"),v(t),0===Object.keys(t).length})()){x(!0);try{const t={...e,matterId:parseInt(e.matterId),custodianIds:e.custodianIds.map(e=>parseInt(e)),organizationId:e.organizationId?parseInt(e.organizationId):null,scheduledDate:e.scheduledDate||null,completedDate:e.completedDate||null},r=await fetch("${API_BASE_URL}/collections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to create collection")}j("/collections")}catch(r){v({submit:r.message})}finally{x(!1)}}},className:"space-y-6",children:[y.submit&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:y.submit}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Collection Type *"}),(0,wr.jsxs)("select",{id:"type",name:"type",value:e.type,onChange:k,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(y.type?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),children:[(0,wr.jsx)("option",{value:"",children:"Select type..."}),u.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))]}),y.type&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.type})]}),"EMAIL"===e.type&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"platform",className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform"}),(0,wr.jsxs)("select",{id:"platform",name:"platform",value:e.platform,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select platform..."}),p.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,wr.jsx)("select",{id:"status",name:"status",value:e.status,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:c.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"matterId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Matter *"}),(0,wr.jsxs)("select",{id:"matterId",name:"matterId",value:e.matterId,onChange:k,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(y.matterId?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),children:[(0,wr.jsx)("option",{value:"",children:"Select matter..."}),r.map(e=>{var t;return(0,wr.jsxs)("option",{value:e.id,children:[e.matterName," - ",null===(t=e.client)||void 0===t?void 0:t.clientName]},e.id)})]}),y.matterId&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.matterId})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custodians *"}),(0,wr.jsx)("div",{className:"border rounded-md p-3 max-h-40 overflow-y-auto "+(y.custodianIds?"border-red-300":"border-gray-300"),children:0===s.length?(0,wr.jsx)("p",{className:"text-gray-500 text-sm",children:"No custodians available"}):(0,wr.jsx)("div",{className:"space-y-2",children:s.map(t=>{var r;return(0,wr.jsxs)("label",{className:"flex items-center",children:[(0,wr.jsx)("input",{type:"checkbox",value:t.id,checked:e.custodianIds.includes(t.id.toString()),onChange:S,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,wr.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:[t.name," - ",(null===(r=t.organization)||void 0===r?void 0:r.name)||"No Organization"]})]},t.id)})})}),y.custodianIds&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.custodianIds})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"organizationId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Organization (Optional)"}),(0,wr.jsxs)("select",{id:"organizationId",name:"organizationId",value:e.organizationId,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select organization..."}),i.filter(e=>"VENDOR"===e.type).map(e=>(0,wr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"scheduledDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Date"}),(0,wr.jsx)("input",{type:"date",id:"scheduledDate",name:"scheduledDate",value:e.scheduledDate,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"completedDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Completed Date"}),(0,wr.jsx)("input",{type:"date",id:"completedDate",name:"completedDate",value:e.completedDate,onChange:k,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(y.completedDate?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500")}),y.completedDate&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.completedDate})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,wr.jsx)("textarea",{id:"notes",name:"notes",value:e.notes,onChange:k,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter any additional notes about this collection..."})]}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,wr.jsx)("button",{type:"button",onClick:()=>j("/collections"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:f,children:"Cancel"}),(0,wr.jsxs)("button",{type:"submit",disabled:f,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[f?(0,wr.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,wr.jsx)(An,{className:"w-4 h-4 mr-2"}),"Create Collection"]})]})]})})]})})},Gn=()=>{const[e,t]=(0,n.useState)({type:"",platform:"",status:"",matterId:"",custodianIds:[],organizationId:"",scheduledDate:"",completedDate:"",notes:""}),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[p,h]=(0,n.useState)([]),[f,x]=(0,n.useState)(!1),[g,b]=(0,n.useState)(!0),[y,v]=(0,n.useState)({}),j=re(),{id:N}=ne();(0,n.useEffect)(()=>{w()},[N]),(0,n.useEffect)(()=>{e.matterId&&!g&&k(e.matterId)},[e.matterId,g]);const w=async()=>{try{var e,r,n;const[s,l,i,c,u,p]=await Promise.all([fetch(`${Kr}/collections/${N}`),fetch(`${Kr}/matters`),fetch(`${Kr}/organizations`),fetch(`${Kr}/collections/status-options`),fetch(`${Kr}/collections/type-options`),fetch(`${Kr}/collections/platform-options`)]);if(!s.ok||!l.ok||!i.ok||!c.ok||!u.ok||!p.ok)throw new Error("Failed to fetch required data");const[f,x,g,b,y,v]=await Promise.all([s.json(),l.json(),i.json(),c.json(),u.json(),p.json()]);a(x),o(g),d(b),m(y),h(v);const j=e=>e?new Date(e).toISOString().split("T")[0]:"",w=(null===(e=f.matterId)||void 0===e?void 0:e.toString())||"";t({type:f.type||"",platform:f.platform||"",status:f.status||"",matterId:w,custodianIds:(null===(r=f.custodians)||void 0===r?void 0:r.map(e=>e.custodian.id.toString()))||[],organizationId:(null===(n=f.organizationId)||void 0===n?void 0:n.toString())||"",scheduledDate:j(f.scheduledDate),completedDate:j(f.completedDate),notes:f.notes||""}),w&&await k(w)}catch(s){v({fetch:s.message})}finally{b(!1)}},k=async e=>{try{const t=await fetch(`${Kr}/custodians?matterId=${e}`);if(!t.ok)throw new Error("Failed to fetch custodians");const r=await t.json();l(r)}catch(t){v(e=>({...e,custodians:t.message}))}},S=e=>{const{name:r,value:n}=e.target;t(e=>{const t={...e,[r]:n};return"type"===r&&"EMAIL"!==n&&(t.platform=""),"matterId"===r&&(t.custodianIds=[]),t}),y[r]&&v(e=>({...e,[r]:""}))},E=e=>{const{value:r,checked:n}=e.target;t(e=>{const t=n?[...e.custodianIds,r]:e.custodianIds.filter(e=>e!==r);return{...e,custodianIds:t}}),y.custodianIds&&v(e=>({...e,custodianIds:""}))};return g?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"text-center py-8",children:"Loading collection..."})}):y.fetch?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"text-center py-8 text-red-600",children:["Error: ",y.fetch]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6 max-w-2xl mx-auto",children:[(0,wr.jsxs)("div",{className:"mb-6",children:[(0,wr.jsxs)("button",{onClick:()=>j("/collections"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,wr.jsx)(Zr,{className:"w-4 h-4 mr-1"}),"Back to Collections"]}),(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Collection"})]}),(0,wr.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,wr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.type||(t.type="Collection type is required"),e.matterId||(t.matterId="Matter is required"),e.custodianIds&&0!==e.custodianIds.length||(t.custodianIds="At least one custodian is required"),e.scheduledDate&&e.completedDate&&new Date(e.scheduledDate)>new Date(e.completedDate)&&(t.completedDate="Completed date cannot be before scheduled date"),v(t),0===Object.keys(t).length})()){x(!0);try{const t={...e,matterId:parseInt(e.matterId),custodianIds:e.custodianIds.map(e=>parseInt(e)),organizationId:e.organizationId?parseInt(e.organizationId):null,scheduledDate:e.scheduledDate||null,completedDate:e.completedDate||null},r=await fetch(`${Kr}/collections/${N}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to update collection")}j("/collections")}catch(r){v({submit:r.message})}finally{x(!1)}}},className:"space-y-6",children:[y.submit&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:y.submit}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Collection Type *"}),(0,wr.jsxs)("select",{id:"type",name:"type",value:e.type,onChange:S,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(y.type?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),children:[(0,wr.jsx)("option",{value:"",children:"Select type..."}),u.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))]}),y.type&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.type})]}),"EMAIL"===e.type&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"platform",className:"block text-sm font-medium text-gray-700 mb-1",children:"Platform"}),(0,wr.jsxs)("select",{id:"platform",name:"platform",value:e.platform,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select platform..."}),p.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,wr.jsx)("select",{id:"status",name:"status",value:e.status,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:c.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"matterId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Matter *"}),(0,wr.jsxs)("select",{id:"matterId",name:"matterId",value:e.matterId,onChange:S,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(y.matterId?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500"),children:[(0,wr.jsx)("option",{value:"",children:"Select matter..."}),r.map(e=>{var t;return(0,wr.jsxs)("option",{value:e.id,children:[e.matterName," - ",null===(t=e.client)||void 0===t?void 0:t.clientName]},e.id)})]}),y.matterId&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.matterId})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custodians *"}),(0,wr.jsx)("div",{className:"border rounded-md p-3 max-h-40 overflow-y-auto "+(y.custodianIds?"border-red-300":"border-gray-300"),children:0===s.length?(0,wr.jsx)("p",{className:"text-gray-500 text-sm",children:"No custodians available"}):(0,wr.jsx)("div",{className:"space-y-2",children:s.map(t=>{var r;return(0,wr.jsxs)("label",{className:"flex items-center",children:[(0,wr.jsx)("input",{type:"checkbox",value:t.id,checked:e.custodianIds.includes(t.id.toString()),onChange:E,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,wr.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:[t.name," - ",(null===(r=t.organization)||void 0===r?void 0:r.name)||"No Organization"]})]},t.id)})})}),y.custodianIds&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.custodianIds})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"organizationId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Organization (Optional)"}),(0,wr.jsxs)("select",{id:"organizationId",name:"organizationId",value:e.organizationId,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select organization..."}),i.filter(e=>"VENDOR"===e.type).map(e=>(0,wr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"scheduledDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Date"}),(0,wr.jsx)("input",{type:"date",id:"scheduledDate",name:"scheduledDate",value:e.scheduledDate,onChange:S,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"completedDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Completed Date"}),(0,wr.jsx)("input",{type:"date",id:"completedDate",name:"completedDate",value:e.completedDate,onChange:S,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 "+(y.completedDate?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-blue-500")}),y.completedDate&&(0,wr.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.completedDate})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,wr.jsx)("textarea",{id:"notes",name:"notes",value:e.notes,onChange:S,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter any additional notes about this collection..."})]}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,wr.jsx)("button",{type:"button",onClick:()=>j("/collections"),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:f,children:"Cancel"}),(0,wr.jsxs)("button",{type:"submit",disabled:f,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[f?(0,wr.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,wr.jsx)(An,{className:"w-4 h-4 mr-2"}),"Update Collection"]})]})]})})]})})},Wn=()=>{const[e,t]=(0,n.useState)({url:"",type:"",matterId:"",organizationId:""}),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!0),[p,h]=(0,n.useState)({}),f=re();(0,n.useEffect)(()=>{x()},[]);const x=async()=>{try{const[e,t,r]=await Promise.all([fetch(`${Kr}/matters`),fetch(`${Kr}/organizations`),fetch(`${Kr}/workspaces/type-options`)]);if(!e.ok||!t.ok||!r.ok)throw new Error("Failed to fetch required data");const[n,s,i]=await Promise.all([e.json(),t.json(),r.json()]);a(n),l(s),o(i)}catch(e){console.error("Error fetching initial data:",e),h({submit:"Failed to load required data. Please refresh the page."})}finally{m(!1)}},g=e=>{const{name:r,value:n}=e.target;t(e=>({...e,[r]:n})),p[r]&&h(e=>({...e,[r]:""}))};return u?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading..."})})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,wr.jsxs)("button",{onClick:()=>f(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[(0,wr.jsx)(Zr,{className:"h-4 w-4"}),"Back"]}),(0,wr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Workspace"})]}),(0,wr.jsx)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:(0,wr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.url.trim()?e.url.includes("http")||(t.url="Please enter a valid URL"):t.url="URL is required",e.type||(t.type="Type is required"),e.matterId||(t.matterId="Matter is required"),e.organizationId||(t.organizationId="Organization is required"),h(t),0===Object.keys(t).length})()){d(!0),h({});try{const t=await fetch("${API_BASE_URL}/workspaces",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,matterId:parseInt(e.matterId),organizationId:parseInt(e.organizationId)})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to create workspace")}const r=await t.json();f(`/matters/${r.matterId}`)}catch(r){console.error("Error creating workspace:",r),h({submit:r.message})}finally{d(!1)}}},className:"p-6 space-y-6",children:[p.submit&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:p.submit}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{className:"md:col-span-2",children:[(0,wr.jsx)("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Relativity Workspace URL *"}),(0,wr.jsx)("input",{type:"url",id:"url",name:"url",value:e.url,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(p.url?"border-red-500":""),placeholder:"https://example.relativity.com/workspace"}),p.url&&(0,wr.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.url})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),(0,wr.jsxs)("select",{id:"type",name:"type",value:e.type,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(p.type?"border-red-500":""),children:[(0,wr.jsx)("option",{value:"",children:"Select type..."}),i.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))]}),p.type&&(0,wr.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.type})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"organizationId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Hosted By *"}),(0,wr.jsxs)("select",{id:"organizationId",name:"organizationId",value:e.organizationId,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(p.organizationId?"border-red-500":""),children:[(0,wr.jsx)("option",{value:"",children:"Select organization..."}),s.map(e=>(0,wr.jsx)("option",{value:e.id,children:e.name},e.id))]}),p.organizationId&&(0,wr.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.organizationId})]}),(0,wr.jsxs)("div",{className:"md:col-span-2",children:[(0,wr.jsx)("label",{htmlFor:"matterId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Matter *"}),(0,wr.jsxs)("select",{id:"matterId",name:"matterId",value:e.matterId,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(p.matterId?"border-red-500":""),children:[(0,wr.jsx)("option",{value:"",children:"Select matter..."}),r.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.matterNumber," - ",e.matterName," (",e.client.clientName,")"]},e.id))]}),p.matterId&&(0,wr.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.matterId})]})]}),(0,wr.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,wr.jsx)("button",{type:"button",onClick:()=>f(-1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),(0,wr.jsxs)("button",{type:"submit",disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,wr.jsx)(An,{className:"h-4 w-4"}),c?"Creating...":"Create Workspace"]})]})]})})]})})},Hn=()=>{const{id:e}=ne(),[t,r]=(0,n.useState)({url:"",type:"",matterId:"",organizationId:""}),[a,s]=(0,n.useState)([]),[l,i]=(0,n.useState)([]),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(!0),[h,f]=(0,n.useState)({}),x=re();(0,n.useEffect)(()=>{g()},[e]);const g=async()=>{try{const[t,n,a,l]=await Promise.all([fetch(`${Kr}/workspaces/${e}`),fetch(`${Kr}/matters`),fetch(`${Kr}/organizations`),fetch(`${Kr}/workspaces/type-options`)]);if(!t.ok||!n.ok||!a.ok||!l.ok)throw new Error("Failed to fetch required data");const[o,d,u,m]=await Promise.all([t.json(),n.json(),a.json(),l.json()]);r({url:o.url,type:o.type,matterId:o.matterId.toString(),organizationId:o.organizationId.toString()}),s(d),i(u),c(m)}catch(t){console.error("Error fetching initial data:",t),f({submit:"Failed to load workspace data. Please refresh the page."})}finally{p(!1)}},b=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n})),h[t]&&f(e=>({...e,[t]:""}))};return m?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading..."})})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,wr.jsxs)("button",{onClick:()=>x(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[(0,wr.jsx)(Zr,{className:"h-4 w-4"}),"Back"]}),(0,wr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Workspace"})]}),(0,wr.jsx)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:(0,wr.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),(()=>{const e={};return t.url.trim()?t.url.includes("http")||(e.url="Please enter a valid URL"):e.url="URL is required",t.type||(e.type="Type is required"),t.matterId||(e.matterId="Matter is required"),t.organizationId||(e.organizationId="Organization is required"),f(e),0===Object.keys(e).length})()){u(!0),f({});try{const r=await fetch(`${Kr}/workspaces/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,matterId:parseInt(t.matterId),organizationId:parseInt(t.organizationId)})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to update workspace")}const n=await r.json();x(`/matters/${n.matterId}`)}catch(n){console.error("Error updating workspace:",n),f({submit:n.message})}finally{u(!1)}}},className:"p-6 space-y-6",children:[h.submit&&(0,wr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:h.submit}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{className:"md:col-span-2",children:[(0,wr.jsx)("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Relativity Workspace URL *"}),(0,wr.jsx)("input",{type:"url",id:"url",name:"url",value:t.url,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(h.url?"border-red-500":""),placeholder:"https://example.relativity.com/workspace"}),h.url&&(0,wr.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.url})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),(0,wr.jsxs)("select",{id:"type",name:"type",value:t.type,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(h.type?"border-red-500":""),children:[(0,wr.jsx)("option",{value:"",children:"Select type..."}),o.map(e=>(0,wr.jsx)("option",{value:e.value,children:e.label},e.value))]}),h.type&&(0,wr.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.type})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{htmlFor:"organizationId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Hosted By *"}),(0,wr.jsxs)("select",{id:"organizationId",name:"organizationId",value:t.organizationId,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(h.organizationId?"border-red-500":""),children:[(0,wr.jsx)("option",{value:"",children:"Select organization..."}),l.map(e=>(0,wr.jsx)("option",{value:e.id,children:e.name},e.id))]}),h.organizationId&&(0,wr.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.organizationId})]}),(0,wr.jsxs)("div",{className:"md:col-span-2",children:[(0,wr.jsx)("label",{htmlFor:"matterId",className:"block text-sm font-medium text-gray-700 mb-2",children:"Matter *"}),(0,wr.jsxs)("select",{id:"matterId",name:"matterId",value:t.matterId,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(h.matterId?"border-red-500":""),children:[(0,wr.jsx)("option",{value:"",children:"Select matter..."}),a.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.matterNumber," - ",e.matterName," (",e.client.clientName,")"]},e.id))]}),h.matterId&&(0,wr.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.matterId})]})]}),(0,wr.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,wr.jsx)("button",{type:"button",onClick:()=>x(-1),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),(0,wr.jsxs)("button",{type:"submit",disabled:d,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,wr.jsx)(An,{className:"h-4 w-4"}),d?"Updating...":"Update Workspace"]})]})]})})]})})},Vn=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(null),[f,x]=(0,n.useState)({title:"",description:"",status:"TODO",priority:"MEDIUM",dueDate:"",matterId:"",ownerId:"",assigneeIds:[]});(0,n.useEffect)(()=>{g(),b(),y(),v()},[]);const g=async()=>{try{const e=await fetch("/api/auth/current-user"),t=await e.json();o(t)}catch(e){console.error("Error fetching current user:",e)}},b=async()=>{try{const e=await fetch("/api/auth/current-user/tasks"),r=await e.json();t(r)}catch(e){console.error("Error fetching tasks:",e)}finally{d(!1)}},y=async()=>{try{const e=await fetch("/api/people"),t=await e.json();a(t)}catch(e){console.error("Error fetching people:",e)}},v=async()=>{try{const e=await fetch("/api/matters"),t=await e.json();l(t)}catch(e){console.error("Error fetching matters:",e)}},j=e=>{const{name:t,value:r}=e.target;x(e=>({...e,[t]:r}))},N=e=>{h(e),x({title:e.title,description:e.description||"",status:e.status,priority:e.priority,dueDate:e.dueDate?e.dueDate.split("T")[0]:"",matterId:e.matterId||"",ownerId:e.ownerId.toString(),assigneeIds:e.assignees.map(e=>e.id.toString())}),m(!0)},w=async e=>{if(window.confirm("Are you sure you want to delete this task?"))try{(await fetch(`/api/tasks/${e}`,{method:"DELETE"})).ok?b():console.error("Failed to delete task")}catch(t){console.error("Error deleting task:",t)}},k=()=>{x({title:"",description:"",status:"TODO",priority:"MEDIUM",dueDate:"",matterId:"",ownerId:i&&i.person?i.person.id.toString():"",assigneeIds:[]}),h(null)},S=e=>{switch(e){case"URGENT":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},E=e=>{switch(e){case"TODO":default:return"text-gray-600 bg-gray-100";case"IN_PROGRESS":return"text-blue-600 bg-blue-100";case"COMPLETED":return"text-green-600 bg-green-100";case"ON_HOLD":return"text-yellow-600 bg-yellow-100"}},C=e=>{const t=[],r=[],n=[],a=[];return e.forEach(e=>{D(e.dueDate)?t.push(e):(e=>{if(!e)return!1;const t=new Date,r=new Date(e);return t.setHours(0,0,0,0),r.setHours(0,0,0,0),t.getTime()===r.getTime()})(e.dueDate)?r.push(e):(e=>{if(!e)return!1;const t=new Date;t.setDate(t.getDate()+1),t.setHours(0,0,0,0);const r=new Date(e);return r.setHours(0,0,0,0),t.getTime()===r.getTime()})(e.dueDate)?n.push(e):a.push(e)}),{overdue:t,today:r,tomorrow:n,later:a}},I=e=>{if(!e)return"No due date";return new Date(e).toLocaleDateString()},D=e=>{if(!e)return!1;const t=new Date,r=new Date(e);return t.setHours(0,0,0,0),r.setHours(0,0,0,0),r<t};return c?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading tasks..."})})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"container mx-auto p-6",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold",children:"My Tasks"}),i&&i.person&&(0,wr.jsxs)("p",{className:"text-gray-600 mt-1",children:["Tasks for ",i.person.firstName," ",i.person.lastName]})]}),(0,wr.jsxs)(Cr,{onClick:()=>{k(),m(!0)},className:"flex items-center gap-2",children:[(0,wr.jsx)(qr,{className:"h-4 w-4"}),"New Task"]})]}),(0,wr.jsx)("div",{className:"space-y-8",children:(()=>{const{overdue:t,today:r,tomorrow:n,later:a}=C(e);return 0===e.length?(0,wr.jsx)("div",{className:"text-center py-8 text-gray-500",children:i&&i.person?"No tasks assigned to you yet. Create your first task to get started.":"No tasks found. Create your first task to get started."}):(0,wr.jsxs)(wr.Fragment,{children:[(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("h2",{className:"text-xl font-semibold text-red-800 mb-4 flex items-center",children:[(0,wr.jsx)("span",{className:"w-3 h-3 bg-red-700 rounded-full mr-2"}),"Tasks Past Due (",t.length,")"]}),0===t.length?(0,wr.jsx)("div",{className:"text-gray-500 text-center py-4 border border-gray-200 rounded-lg",children:"No overdue tasks"}):(0,wr.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,wr.jsx)("div",{className:"bg-red-50 rounded-lg shadow-md p-6 border-l-4 border-l-red-700 border border-red-100",children:(0,wr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,wr.jsx)(nt,{to:`/tasks/${e.id}`,className:"text-xl font-semibold text-blue-600 hover:text-blue-800",children:e.title}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(e.priority)}`,children:e.priority}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(e.status)}`,children:e.status.replace("_"," ")}),(0,wr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-600 text-white",children:"OVERDUE"})]}),e.description&&(0,wr.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),(0,wr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Br,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Owner: ",e.owner.firstName," ",e.owner.lastName]})]}),e.assignees.length>0&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Br,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Assigned: ",e.assignees.map(e=>`${e.firstName} ${e.lastName}`).join(", ")]})]}),e.matter&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Mr,{className:"h-4 w-4"}),(0,wr.jsxs)(nt,{to:`/matters/${e.matter.id}`,className:"text-blue-600 hover:text-blue-800",children:[e.matter.matterNumber," - ",e.matter.matterName]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-1 text-red-600",children:[(0,wr.jsx)(on,{className:"h-4 w-4"}),(0,wr.jsx)("span",{children:I(e.dueDate)}),(0,wr.jsx)("span",{className:"font-medium",children:"(Overdue)"})]})]})]}),(0,wr.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>N(e),children:"Edit"}),(0,wr.jsx)(Cr,{variant:"destructive",size:"sm",onClick:()=>w(e.id),children:"Delete"})]})]})},e.id))})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("h2",{className:"text-xl font-semibold text-red-700 mb-4 flex items-center",children:[(0,wr.jsx)("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),"Tasks Due Today (",r.length,")"]}),0===r.length?(0,wr.jsx)("div",{className:"text-gray-500 text-center py-4 border border-gray-200 rounded-lg",children:"No tasks due today"}):(0,wr.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,wr.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500",children:(0,wr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,wr.jsx)(nt,{to:`/tasks/${e.id}`,className:"text-xl font-semibold text-blue-600 hover:text-blue-800",children:e.title}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(e.priority)}`,children:e.priority}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(e.status)}`,children:e.status.replace("_"," ")})]}),e.description&&(0,wr.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),(0,wr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Br,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Owner: ",e.owner.firstName," ",e.owner.lastName]})]}),e.assignees.length>0&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Br,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Assigned: ",e.assignees.map(e=>`${e.firstName} ${e.lastName}`).join(", ")]})]}),e.matter&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Mr,{className:"h-4 w-4"}),(0,wr.jsxs)(nt,{to:`/matters/${e.matter.id}`,className:"text-blue-600 hover:text-blue-800",children:[e.matter.matterNumber," - ",e.matter.matterName]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-1 "+(D(e.dueDate)?"text-red-600":""),children:[D(e.dueDate)?(0,wr.jsx)(on,{className:"h-4 w-4"}):(0,wr.jsx)(ln,{className:"h-4 w-4"}),(0,wr.jsx)("span",{children:I(e.dueDate)}),D(e.dueDate)&&(0,wr.jsx)("span",{className:"font-medium",children:"(Overdue)"})]})]})]}),(0,wr.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>N(e),children:"Edit"}),(0,wr.jsx)(Cr,{variant:"destructive",size:"sm",onClick:()=>w(e.id),children:"Delete"})]})]})},e.id))})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("h2",{className:"text-xl font-semibold text-orange-700 mb-4 flex items-center",children:[(0,wr.jsx)("span",{className:"w-3 h-3 bg-orange-500 rounded-full mr-2"}),"Tasks Due Tomorrow (",n.length,")"]}),0===n.length?(0,wr.jsx)("div",{className:"text-gray-500 text-center py-4 border border-gray-200 rounded-lg",children:"No tasks due tomorrow"}):(0,wr.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,wr.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500",children:(0,wr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,wr.jsx)(nt,{to:`/tasks/${e.id}`,className:"text-xl font-semibold text-blue-600 hover:text-blue-800",children:e.title}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(e.priority)}`,children:e.priority}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(e.status)}`,children:e.status.replace("_"," ")})]}),e.description&&(0,wr.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),(0,wr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Br,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Owner: ",e.owner.firstName," ",e.owner.lastName]})]}),e.assignees.length>0&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Br,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Assigned: ",e.assignees.map(e=>`${e.firstName} ${e.lastName}`).join(", ")]})]}),e.matter&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Mr,{className:"h-4 w-4"}),(0,wr.jsxs)(nt,{to:`/matters/${e.matter.id}`,className:"text-blue-600 hover:text-blue-800",children:[e.matter.matterNumber," - ",e.matter.matterName]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-1 "+(D(e.dueDate)?"text-red-600":""),children:[D(e.dueDate)?(0,wr.jsx)(on,{className:"h-4 w-4"}):(0,wr.jsx)(ln,{className:"h-4 w-4"}),(0,wr.jsx)("span",{children:I(e.dueDate)}),D(e.dueDate)&&(0,wr.jsx)("span",{className:"font-medium",children:"(Overdue)"})]})]})]}),(0,wr.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>N(e),children:"Edit"}),(0,wr.jsx)(Cr,{variant:"destructive",size:"sm",onClick:()=>w(e.id),children:"Delete"})]})]})},e.id))})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsxs)("h2",{className:"text-xl font-semibold text-gray-700 mb-4 flex items-center",children:[(0,wr.jsx)("span",{className:"w-3 h-3 bg-gray-500 rounded-full mr-2"}),"Tasks Due Later (",a.length,")"]}),0===a.length?(0,wr.jsx)("div",{className:"text-gray-500 text-center py-4 border border-gray-200 rounded-lg",children:"No future tasks"}):(0,wr.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,wr.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-gray-400",children:(0,wr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,wr.jsx)(nt,{to:`/tasks/${e.id}`,className:"text-xl font-semibold text-blue-600 hover:text-blue-800",children:e.title}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(e.priority)}`,children:e.priority}),(0,wr.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E(e.status)}`,children:e.status.replace("_"," ")})]}),e.description&&(0,wr.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),(0,wr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Br,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Owner: ",e.owner.firstName," ",e.owner.lastName]})]}),e.assignees.length>0&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Br,{className:"h-4 w-4"}),(0,wr.jsxs)("span",{children:["Assigned: ",e.assignees.map(e=>`${e.firstName} ${e.lastName}`).join(", ")]})]}),e.matter&&(0,wr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wr.jsx)(Mr,{className:"h-4 w-4"}),(0,wr.jsxs)(nt,{to:`/matters/${e.matter.id}`,className:"text-blue-600 hover:text-blue-800",children:[e.matter.matterNumber," - ",e.matter.matterName]})]}),(0,wr.jsxs)("div",{className:"flex items-center gap-1 "+(D(e.dueDate)?"text-red-600":""),children:[D(e.dueDate)?(0,wr.jsx)(on,{className:"h-4 w-4"}):(0,wr.jsx)(ln,{className:"h-4 w-4"}),(0,wr.jsx)("span",{children:I(e.dueDate)}),D(e.dueDate)&&(0,wr.jsx)("span",{className:"font-medium",children:"(Overdue)"})]})]})]}),(0,wr.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,wr.jsx)(Cr,{variant:"outline",size:"sm",onClick:()=>N(e),children:"Edit"}),(0,wr.jsx)(Cr,{variant:"destructive",size:"sm",onClick:()=>w(e.id),children:"Delete"})]})]})},e.id))})]})]})})()}),u&&(0,wr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,wr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold mb-4",children:p?"Edit Task":"Create My Task"}),(0,wr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=p?`/api/tasks/${p.id}`:"/api/tasks",t=p?"PUT":"POST",r=p?parseInt(f.ownerId):i&&i.person?i.person.id:parseInt(f.ownerId);(await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,matterId:f.matterId||null,ownerId:r,assigneeIds:f.assigneeIds.map(e=>parseInt(e))})})).ok?(b(),m(!1),k()):console.error("Failed to save task")}catch(t){console.error("Error saving task:",t)}},className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title *"}),(0,wr.jsx)("input",{type:"text",name:"title",value:f.title,onChange:j,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description"}),(0,wr.jsx)("textarea",{name:"description",value:f.description,onChange:j,rows:3,className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,wr.jsxs)("select",{name:"status",value:f.status,onChange:j,className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,wr.jsx)("option",{value:"TODO",children:"To Do"}),(0,wr.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,wr.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,wr.jsx)("option",{value:"ON_HOLD",children:"On Hold"})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),(0,wr.jsxs)("select",{name:"priority",value:f.priority,onChange:j,className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,wr.jsx)("option",{value:"LOW",children:"Low"}),(0,wr.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,wr.jsx)("option",{value:"HIGH",children:"High"}),(0,wr.jsx)("option",{value:"URGENT",children:"Urgent"})]})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Due Date"}),(0,wr.jsx)("input",{type:"date",name:"dueDate",value:f.dueDate,onChange:j,className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Matter (Optional)"}),(0,wr.jsxs)("select",{name:"matterId",value:f.matterId,onChange:j,className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,wr.jsx)("option",{value:"",children:"Select a matter (optional)"}),s.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.matterNumber," - ",e.matterName," (",e.client.clientName,")"]},e.id))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Task Owner *"}),!p&&i&&i.person?(0,wr.jsxs)("div",{className:"w-full p-2 border border-gray-300 rounded-md bg-gray-50",children:[i.person.firstName," ",i.person.lastName," (",i.person.type||"No type",") - Auto-assigned"]}):(0,wr.jsxs)("select",{name:"ownerId",value:f.ownerId,onChange:j,className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[(0,wr.jsx)("option",{value:"",children:"Select an owner"}),r.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName," (",e.type||"No type",")"]},e.id))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Assign To (Optional)"}),(0,wr.jsx)("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-md p-2",children:r.map(e=>(0,wr.jsxs)("label",{className:"flex items-center gap-2 p-1",children:[(0,wr.jsx)("input",{type:"checkbox",checked:f.assigneeIds.includes(e.id.toString()),onChange:()=>{return t=e.id.toString(),void x(e=>({...e,assigneeIds:e.assigneeIds.includes(t)?e.assigneeIds.filter(e=>e!==t):[...e.assigneeIds,t]}));var t}}),(0,wr.jsxs)("span",{children:[e.firstName," ",e.lastName," (",e.type||"No type",")"]})]},e.id))})]}),(0,wr.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,wr.jsx)(Cr,{type:"button",variant:"outline",onClick:()=>{m(!1),k()},children:"Cancel"}),(0,wr.jsx)(Cr,{type:"submit",children:p?"Update Task":"Create My Task"})]})]})]})})]})})},qn=()=>{const{id:e}=ne(),t=re(),[r,a]=(0,n.useState)(null),[s,l]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)({title:"",description:"",status:"TODO",priority:"MEDIUM",dueDate:"",matterId:"",ownerId:"",assigneeIds:[]});(0,n.useEffect)(()=>{f(),x(),g()},[e]);const f=async()=>{try{const t=await fetch(`${Kr}/tasks/${e}`);if(t.ok){const e=await t.json();a(e)}else console.error("Failed to fetch task")}catch(t){console.error("Error fetching task:",t)}finally{d(!1)}},x=async()=>{try{const e=await fetch(`${Kr}/people`),t=await e.json();l(t)}catch(e){console.error("Error fetching people:",e)}},g=async()=>{try{const e=await fetch(`${Kr}/matters`),t=await e.json();o(t)}catch(e){console.error("Error fetching matters:",e)}},b=e=>{const{name:t,value:r}=e.target;h(e=>({...e,[t]:r}))},y=e=>{if(!e)return!1;const t=new Date,r=new Date(e);return t.setHours(0,0,0,0),r.setHours(0,0,0,0),r<t};return c?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,wr.jsx)("div",{className:"text-lg",children:"Loading task..."})})}):r?(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"container mx-auto p-6",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,wr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,wr.jsx)(nt,{to:"/tasks",children:(0,wr.jsxs)(Cr,{variant:"outline",size:"sm",children:[(0,wr.jsx)(Zr,{className:"h-4 w-4 mr-2"}),"Back to Tasks"]})}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:r.title}),(0,wr.jsxs)("p",{className:"text-gray-500",children:["Task #",r.id]})]})]}),(0,wr.jsxs)("div",{className:"flex gap-2",children:[(0,wr.jsxs)(Cr,{variant:"outline",onClick:()=>{h({title:r.title,description:r.description||"",status:r.status,priority:r.priority,dueDate:r.dueDate?r.dueDate.split("T")[0]:"",matterId:r.matterId||"",ownerId:r.ownerId.toString(),assigneeIds:r.assignees.map(e=>e.id.toString())}),m(!0)},children:[(0,wr.jsx)(Jr,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,wr.jsxs)(Cr,{variant:"destructive",onClick:async()=>{if(window.confirm("Are you sure you want to delete this task?"))try{(await fetch(`${Kr}/tasks/${e}`,{method:"DELETE"})).ok?t("/tasks"):console.error("Failed to delete task")}catch(r){console.error("Error deleting task:",r)}},children:[(0,wr.jsx)(Yr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),(0,wr.jsxs)("div",{className:"flex gap-3 mb-6",children:[(0,wr.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${(e=>{switch(e){case"TODO":default:return"text-gray-700 bg-gray-100 border-gray-200";case"IN_PROGRESS":return"text-blue-700 bg-blue-100 border-blue-200";case"COMPLETED":return"text-green-700 bg-green-100 border-green-200";case"ON_HOLD":return"text-yellow-700 bg-yellow-100 border-yellow-200"}})(r.status)}`,children:r.status.replace("_"," ")}),(0,wr.jsxs)("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${(e=>{switch(e){case"URGENT":return"text-red-600 bg-red-100 border-red-200";case"HIGH":return"text-orange-600 bg-orange-100 border-orange-200";case"MEDIUM":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"LOW":return"text-green-600 bg-green-100 border-green-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}})(r.priority)}`,children:[r.priority," Priority"]})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,wr.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[r.description&&(0,wr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border",children:[(0,wr.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Description"}),(0,wr.jsx)("p",{className:"text-gray-700 leading-relaxed",children:r.description})]}),r.matter&&(0,wr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border",children:[(0,wr.jsxs)("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,wr.jsx)(Mr,{className:"h-5 w-5"}),"Related Matter"]}),(0,wr.jsxs)("div",{className:"space-y-2",children:[(0,wr.jsx)("div",{children:(0,wr.jsxs)(nt,{to:`/matters/${r.matter.id}`,className:"text-lg font-medium text-blue-600 hover:text-blue-800",children:[r.matter.matterNumber," - ",r.matter.matterName]})}),(0,wr.jsxs)("div",{className:"text-gray-600",children:["Client: ",(0,wr.jsx)(nt,{to:`/clients/${r.matter.client.id}`,className:"text-blue-600 hover:text-blue-800",children:r.matter.client.clientName})]})]})]}),(0,wr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border",children:[(0,wr.jsxs)("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,wr.jsx)(Lr,{className:"h-5 w-5"}),"Team"]}),(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Task Owner"}),(0,wr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wr.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,wr.jsx)(Br,{className:"h-4 w-4 text-blue-600"})}),(0,wr.jsxs)("div",{children:[(0,wr.jsxs)(nt,{to:`/people/${r.owner.id}`,className:"font-medium text-blue-600 hover:text-blue-800",children:[r.owner.firstName," ",r.owner.lastName]}),(0,wr.jsx)("p",{className:"text-sm text-gray-500",children:r.owner.type?r.owner.type.replace("_"," "):"No type specified"}),r.owner.email&&(0,wr.jsx)("p",{className:"text-sm text-gray-500",children:r.owner.email})]})]})]}),r.assignees.length>0&&(0,wr.jsxs)("div",{children:[(0,wr.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Assigned To"}),(0,wr.jsx)("div",{className:"space-y-2",children:r.assignees.map(e=>(0,wr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wr.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:(0,wr.jsx)(Br,{className:"h-4 w-4 text-gray-600"})}),(0,wr.jsxs)("div",{children:[(0,wr.jsxs)(nt,{to:`/people/${e.id}`,className:"font-medium text-blue-600 hover:text-blue-800",children:[e.firstName," ",e.lastName]}),(0,wr.jsx)("p",{className:"text-sm text-gray-500",children:e.type?e.type.replace("_"," "):"No type specified"}),e.email&&(0,wr.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})]},e.id))})]})]})]})]}),(0,wr.jsxs)("div",{className:"space-y-6",children:[(0,wr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border",children:[(0,wr.jsxs)("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,wr.jsx)(ln,{className:"h-5 w-5"}),"Due Date"]}),(0,wr.jsxs)("div",{className:"text-sm "+(y(r.dueDate)?"text-red-600":"text-gray-700"),children:[y(r.dueDate)&&(0,wr.jsxs)("div",{className:"flex items-center gap-1 text-red-600 mb-1",children:[(0,wr.jsx)(on,{className:"h-4 w-4"}),(0,wr.jsx)("span",{className:"font-medium",children:"Overdue"})]}),(0,wr.jsx)("p",{className:"font-medium",children:(e=>{if(!e)return"No due date";return new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})(r.dueDate)})]})]}),(0,wr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border",children:[(0,wr.jsxs)("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[(0,wr.jsx)(kn,{className:"h-5 w-5"}),"Timeline"]}),(0,wr.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("span",{className:"font-medium text-gray-900",children:"Created:"}),(0,wr.jsx)("p",{className:"text-gray-600",children:new Date(r.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("span",{className:"font-medium text-gray-900",children:"Last Updated:"}),(0,wr.jsx)("p",{className:"text-gray-600",children:new Date(r.updatedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})})]})]})]})]})]}),u&&(0,wr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,wr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,wr.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit Task"}),(0,wr.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=await fetch(`${Kr}/tasks/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p,matterId:p.matterId||null,ownerId:parseInt(p.ownerId),assigneeIds:p.assigneeIds.map(e=>parseInt(e))})});t.ok?(f(),m(!1)):console.error("Failed to update task")}catch(r){console.error("Error updating task:",r)}},className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title *"}),(0,wr.jsx)("input",{type:"text",name:"title",value:p.title,onChange:b,className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description"}),(0,wr.jsx)("textarea",{name:"description",value:p.description,onChange:b,rows:3,className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,wr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,wr.jsxs)("select",{name:"status",value:p.status,onChange:b,className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,wr.jsx)("option",{value:"TODO",children:"To Do"}),(0,wr.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,wr.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,wr.jsx)("option",{value:"ON_HOLD",children:"On Hold"})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),(0,wr.jsxs)("select",{name:"priority",value:p.priority,onChange:b,className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,wr.jsx)("option",{value:"LOW",children:"Low"}),(0,wr.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,wr.jsx)("option",{value:"HIGH",children:"High"}),(0,wr.jsx)("option",{value:"URGENT",children:"Urgent"})]})]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Due Date"}),(0,wr.jsx)("input",{type:"date",name:"dueDate",value:p.dueDate,onChange:b,className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Matter (Optional)"}),(0,wr.jsxs)("select",{name:"matterId",value:p.matterId,onChange:b,className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,wr.jsx)("option",{value:"",children:"Select a matter (optional)"}),i.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.matterNumber," - ",e.matterName," (",e.client.clientName,")"]},e.id))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Task Owner *"}),(0,wr.jsxs)("select",{name:"ownerId",value:p.ownerId,onChange:b,className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[(0,wr.jsx)("option",{value:"",children:"Select an owner"}),s.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName," (",e.type,")"]},e.id))]})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Assign To (Optional)"}),(0,wr.jsx)("div",{className:"max-h-32 overflow-y-auto border border-gray-300 rounded-md p-2",children:s.map(e=>(0,wr.jsxs)("label",{className:"flex items-center gap-2 p-1",children:[(0,wr.jsx)("input",{type:"checkbox",checked:p.assigneeIds.includes(e.id.toString()),onChange:()=>{return t=e.id.toString(),void h(e=>({...e,assigneeIds:e.assigneeIds.includes(t)?e.assigneeIds.filter(e=>e!==t):[...e.assigneeIds,t]}));var t}}),(0,wr.jsxs)("span",{children:[e.firstName," ",e.lastName," (",e.type,")"]})]},e.id))})]}),(0,wr.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,wr.jsx)(Cr,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,wr.jsx)(Cr,{type:"submit",children:"Update Task"})]})]})]})})]})}):(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"container mx-auto p-6",children:(0,wr.jsxs)("div",{className:"text-center",children:[(0,wr.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Task Not Found"}),(0,wr.jsx)("p",{className:"text-gray-600 mb-4",children:"The task you're looking for doesn't exist."}),(0,wr.jsx)(nt,{to:"/tasks",children:(0,wr.jsx)(Cr,{children:"Back to Tasks"})})]})})})},Qn=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0),[s,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)({email:"",firstName:"",lastName:"",personId:""}),[u,m]=(0,n.useState)([]);(0,n.useEffect)(()=>{p(),h()},[]);const p=async()=>{try{const e=await fetch("/api/users"),r=await e.json();t(r)}catch(e){console.error("Error fetching users:",e)}finally{a(!1)}},h=async()=>{try{const e=await fetch("/api/people"),t=await e.json();m(t)}catch(e){console.error("Error fetching people:",e)}},f=()=>{l(!1),o(null),d({email:"",firstName:"",lastName:"",personId:""})};return r?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"p-6",children:(0,wr.jsx)("div",{children:"Loading users..."})})}):(0,wr.jsx)(Dr,{children:(0,wr.jsxs)("div",{className:"p-6",children:[(0,wr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,wr.jsx)("h1",{className:"text-2xl font-bold",children:"Users"}),(0,wr.jsx)(Cr,{onClick:()=>{o(null),d({email:"",firstName:"",lastName:"",personId:""}),l(!0)},children:"Add New User"})]}),(0,wr.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:(0,wr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,wr.jsx)("thead",{className:"bg-gray-50",children:(0,wr.jsxs)("tr",{children:[(0,wr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,wr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,wr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Linked Person"}),(0,wr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,wr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,wr.jsxs)("tr",{children:[(0,wr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wr.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.firstName," ",e.lastName]})}),(0,wr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wr.jsx)("div",{className:"text-sm text-gray-900",children:e.email})}),(0,wr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wr.jsx)("div",{className:"text-sm text-gray-900",children:e.person?`${e.person.firstName} ${e.person.lastName}`:"Not linked"})}),(0,wr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,wr.jsx)("button",{onClick:()=>(e=>{o(e),d({email:e.email||"",firstName:e.firstName||"",lastName:e.lastName||"",personId:e.personId?e.personId.toString():""}),l(!0)})(e),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit"}),(0,wr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await fetch(`/api/users/${e}`,{method:"DELETE"})).ok?p():alert("Error deleting user")}catch(t){console.error("Error deleting user:",t),alert("Error deleting user")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})}),s&&(0,wr.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,wr.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,wr.jsxs)("div",{className:"mt-3",children:[(0,wr.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:i?"Edit User":"Create New User"}),(0,wr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=i?`/api/users/${i.id}`:"/api/users",t=i?"PUT":"POST",r=()=>c.email?c.email.split("@")[0].toLowerCase():`${c.firstName}${c.lastName}`.toLowerCase().replace(/\s+/g,""),n=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify({...c,username:r(),personId:c.personId?parseInt(c.personId):null})});if(n.ok)p(),f();else{const e=await n.json();alert("Error: "+(e.error||"Failed to save user"))}}catch(t){console.error("Error saving user:",t),alert("Error saving user")}},className:"space-y-4",children:[(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,wr.jsx)("input",{type:"email",required:!0,value:c.email,onChange:e=>d({...c,email:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,wr.jsx)("input",{type:"text",required:!0,value:c.firstName,onChange:e=>d({...c,firstName:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,wr.jsx)("input",{type:"text",required:!0,value:c.lastName,onChange:e=>d({...c,lastName:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,wr.jsxs)("div",{children:[(0,wr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Linked Person (Optional)"}),(0,wr.jsxs)("select",{value:c.personId,onChange:e=>d({...c,personId:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,wr.jsx)("option",{value:"",children:"Select a person..."}),u.map(e=>(0,wr.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]})]}),(0,wr.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,wr.jsx)(Cr,{type:"button",variant:"outline",onClick:f,children:"Cancel"}),(0,wr.jsx)(Cr,{type:"submit",children:i?"Update":"Create"})]})]})]})})})]})})};var Jn=r(950);function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Kn(e){var t=function(e,t){if("object"!=Yn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yn(t)?t:t+""}function Xn(e,t,r){return(t=Kn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach(function(t){Xn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ta(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ra="function"===typeof Symbol&&Symbol.observable||"@@observable",na=function(){return Math.random().toString(36).substring(7).split("").join(".")},aa={INIT:"@@redux/INIT"+na(),REPLACE:"@@redux/REPLACE"+na(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+na()}};function sa(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function la(e,t,r){var n;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(ta(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(ta(1));return r(la)(e,t)}if("function"!==typeof e)throw new Error(ta(2));var a=e,s=t,l=[],i=l,o=!1;function c(){i===l&&(i=l.slice())}function d(){if(o)throw new Error(ta(3));return s}function u(e){if("function"!==typeof e)throw new Error(ta(4));if(o)throw new Error(ta(5));var t=!0;return c(),i.push(e),function(){if(t){if(o)throw new Error(ta(6));t=!1,c();var r=i.indexOf(e);i.splice(r,1),l=null}}}function m(e){if(!sa(e))throw new Error(ta(7));if("undefined"===typeof e.type)throw new Error(ta(8));if(o)throw new Error(ta(9));try{o=!0,s=a(s,e)}finally{o=!1}for(var t=l=i,r=0;r<t.length;r++){(0,t[r])()}return e}return m({type:aa.INIT}),(n={dispatch:m,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(ta(10));a=e,m({type:aa.REPLACE})}})[ra]=function(){var e,t=u;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ta(11));function r(){e.next&&e.next(d())}return r(),{unsubscribe:t(r)}}})[ra]=function(){return this},e},n}function ia(e,t){return function(){return t(e.apply(this,arguments))}}function oa(e,t){if("function"===typeof e)return ia(e,t);if("object"!==typeof e||null===e)throw new Error(ta(16));var r={};for(var n in e){var a=e[n];"function"===typeof a&&(r[n]=ia(a,t))}return r}function ca(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var da=r(461),ua=r(443);let ma=function(e){e()};const pa=()=>ma,ha=Symbol.for("react-redux-context"),fa="undefined"!==typeof globalThis?globalThis:{};function xa(){var e;if(!n.createContext)return{};const t=null!=(e=fa[ha])?e:fa[ha]=new Map;let r=t.get(n.createContext);return r||(r=n.createContext(null),t.set(n.createContext,r)),r}const ga=xa();let ba=null;function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(null,arguments)}function va(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}var ja=r(219),Na=r.n(ja),wa=r(86);const ka=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Sa(e,t,r,n,a){let s,l,i,o,c,{areStatesEqual:d,areOwnPropsEqual:u,areStatePropsEqual:m}=a,p=!1;function h(a,p){const h=!u(p,l),f=!d(a,s,p,l);return s=a,l=p,h&&f?(i=e(s,l),t.dependsOnOwnProps&&(o=t(n,l)),c=r(i,o,l),c):h?(e.dependsOnOwnProps&&(i=e(s,l)),t.dependsOnOwnProps&&(o=t(n,l)),c=r(i,o,l),c):f?function(){const t=e(s,l),n=!m(t,i);return i=t,n&&(c=r(i,o,l)),c}():c}return function(a,d){return p?h(a,d):(s=a,l=d,i=e(s,l),o=t(n,l),c=r(i,o,l),p=!0,c)}}function Ea(e){return function(t){const r=e(t);function n(){return r}return n.dependsOnOwnProps=!1,n}}function Ca(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Ia(e,t){return function(t,r){let{displayName:n}=r;const a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,r){a.mapToProps=e,a.dependsOnOwnProps=Ca(e);let n=a(t,r);return"function"===typeof n&&(a.mapToProps=n,a.dependsOnOwnProps=Ca(n),n=a(t,r)),n},a}}function Da(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function Pa(e,t,r){return ya({},r,e,t)}const Oa={notify(){},get:()=>[]};function Aa(e,t){let r,n=Oa,a=0,s=!1;function l(){c.onStateChange&&c.onStateChange()}function i(){a++,r||(r=t?t.addNestedSub(l):e.subscribe(l),n=function(){const e=pa();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let e=t;for(;e;)e.callback(),e=e.next})},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let n=!0,a=r={callback:e,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){n&&null!==t&&(n=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}function o(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=Oa)}const c={addNestedSub:function(e){i();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),o())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:l,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,i())},tryUnsubscribe:function(){s&&(s=!1,o())},getListeners:()=>n};return c}const Ta=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?n.useLayoutEffect:n.useEffect;function Ra(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function za(e,t){if(Ra(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!Ra(e[r[a]],t[r[a]]))return!1;return!0}const La=["reactReduxForwardedRef"];let Ma=()=>{throw new Error("uSES not initialized!")};const $a=[null,null];function _a(e,t,r,n,a,s){e.current=n,r.current=!1,a.current&&(a.current=null,s())}function Fa(e,t){return e===t}const Ba=function(e,t,r){let{pure:a,areStatesEqual:s=Fa,areOwnPropsEqual:l=za,areStatePropsEqual:i=za,areMergedPropsEqual:o=za,forwardRef:c=!1,context:d=ga}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const u=d,m=function(e){return e?"function"===typeof e?Ia(e):Da(e,"mapStateToProps"):Ea(()=>({}))}(e),p=function(e){return e&&"object"===typeof e?Ea(t=>function(e,t){const r={};for(const n in e){const a=e[n];"function"===typeof a&&(r[n]=function(){return t(a(...arguments))})}return r}(e,t)):e?"function"===typeof e?Ia(e):Da(e,"mapDispatchToProps"):Ea(e=>({dispatch:e}))}(t),h=function(e){return e?"function"===typeof e?function(e){return function(t,r){let n,{displayName:a,areMergedPropsEqual:s}=r,l=!1;return function(t,r,a){const i=e(t,r,a);return l?s(i,n)||(n=i):(l=!0,n=i),n}}}(e):Da(e,"mergeProps"):()=>Pa}(r),f=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",r=`Connect(${t})`,a={shouldHandleStateChanges:f,displayName:r,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:m,initMapDispatchToProps:p,initMergeProps:h,areStatesEqual:s,areStatePropsEqual:i,areOwnPropsEqual:l,areMergedPropsEqual:o};function d(t){const[r,s,l]=n.useMemo(()=>{const{reactReduxForwardedRef:e}=t,r=va(t,La);return[t.context,e,r]},[t]),i=n.useMemo(()=>r&&r.Consumer&&(0,wa.isContextConsumer)(n.createElement(r.Consumer,null))?r:u,[r,u]),o=n.useContext(i),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),d=Boolean(o)&&Boolean(o.store);const m=c?t.store:o.store,p=d?o.getServerState:m.getState,h=n.useMemo(()=>function(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:a}=t,s=va(t,ka);return Sa(r(e,s),n(e,s),a(e,s),e,s)}(m.dispatch,a),[m]),[x,g]=n.useMemo(()=>{if(!f)return $a;const e=Aa(m,c?void 0:o.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[m,c,o]),b=n.useMemo(()=>c?o:ya({},o,{subscription:x}),[c,o,x]),y=n.useRef(),v=n.useRef(l),j=n.useRef(),N=n.useRef(!1),w=(n.useRef(!1),n.useRef(!1)),k=n.useRef();Ta(()=>(w.current=!0,()=>{w.current=!1}),[]);const S=n.useMemo(()=>()=>j.current&&l===v.current?j.current:h(m.getState(),l),[m,l]),E=n.useMemo(()=>e=>x?function(e,t,r,n,a,s,l,i,o,c,d){if(!e)return()=>{};let u=!1,m=null;const p=()=>{if(u||!i.current)return;const e=t.getState();let r,p;try{r=n(e,a.current)}catch(ld){p=ld,m=ld}p||(m=null),r===s.current?l.current||c():(s.current=r,o.current=r,l.current=!0,d())};return r.onStateChange=p,r.trySubscribe(),p(),()=>{if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,m)throw m}}(f,m,x,h,v,y,N,w,j,g,e):()=>{},[x]);var C,I,D;let P;C=_a,I=[v,y,N,l,j,g],Ta(()=>C(...I),D);try{P=Ma(E,S,p?()=>h(p(),l):S)}catch(A){throw k.current&&(A.message+=`\nThe error may be correlated with this previous error:\n${k.current.stack}\n\n`),A}Ta(()=>{k.current=void 0,j.current=void 0,y.current=P});const O=n.useMemo(()=>n.createElement(e,ya({},P,{ref:s})),[s,e,P]);return n.useMemo(()=>f?n.createElement(i.Provider,{value:b},O):O,[i,O,b])}const x=n.memo(d);if(x.WrappedComponent=e,x.displayName=d.displayName=r,c){const t=n.forwardRef(function(e,t){return n.createElement(x,ya({},e,{reactReduxForwardedRef:t}))});return t.displayName=r,t.WrappedComponent=e,Na()(t,e)}return Na()(x,e)}};const Ua=function(e){let{store:t,context:r,children:a,serverState:s,stabilityCheck:l="once",noopCheck:i="once"}=e;const o=n.useMemo(()=>{const e=Aa(t);return{store:t,subscription:e,getServerState:s?()=>s:void 0,stabilityCheck:l,noopCheck:i}},[t,s,l,i]),c=n.useMemo(()=>t.getState(),[t]);Ta(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,c]);const d=r||ga;return n.createElement(d.Provider,{value:o},a)};var Ga,Wa;function Ha(e,t){var r=(0,n.useState)(function(){return{inputs:t,result:e()}})[0],a=(0,n.useRef)(!0),s=(0,n.useRef)(r),l=a.current||Boolean(t&&s.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,s.current.inputs))?s.current:{inputs:t,result:e()};return(0,n.useEffect)(function(){a.current=!1,s.current=l},[l]),l.result}Ga=ua.useSyncExternalStoreWithSelector,ba=Ga,(e=>{Ma=e})(da.useSyncExternalStore),Wa=Jn.unstable_batchedUpdates,ma=Wa;var Va=Ha,qa=function(e,t){return Ha(function(){return e},t)},Qa="Invariant failed";var Ja=function(e){var t=e.top,r=e.right,n=e.bottom,a=e.left;return{top:t,right:r,bottom:n,left:a,width:r-a,height:n-t,x:a,y:t,center:{x:(r+a)/2,y:(n+t)/2}}},Ya=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Ka=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Xa={top:0,right:0,bottom:0,left:0},Za=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?Xa:r,a=e.border,s=void 0===a?Xa:a,l=e.padding,i=void 0===l?Xa:l,o=Ja(Ya(t,n)),c=Ja(Ka(t,s)),d=Ja(Ka(c,i));return{marginBox:o,borderBox:Ja(t),paddingBox:c,contentBox:d,margin:n,border:s,padding:i}},es=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&function(e){if(!e)throw new Error(Qa)}(!1),r},ts=function(e,t){var r,n,a=e.borderBox,s=e.border,l=e.margin,i=e.padding,o=(n=t,{top:(r=a).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return Za({borderBox:o,border:s,margin:l,padding:i})},rs=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),ts(e,t)},ns=function(e,t){var r={top:es(t.marginTop),right:es(t.marginRight),bottom:es(t.marginBottom),left:es(t.marginLeft)},n={top:es(t.paddingTop),right:es(t.paddingRight),bottom:es(t.paddingBottom),left:es(t.paddingLeft)},a={top:es(t.borderTopWidth),right:es(t.borderRightWidth),bottom:es(t.borderBottomWidth),left:es(t.borderLeftWidth)};return Za({borderBox:e,margin:r,padding:n,border:a})},as=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return ns(t,r)},ss=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function ls(e,t){return e===t||!(!ss(e)||!ss(t))}function is(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!ls(e[r],t[r]))return!1;return!0}function os(e,t){void 0===t&&(t=is);var r=null;function n(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var s=e.apply(this,n);return r={lastResult:s,lastArgs:n,lastThis:this},s}return n.clear=function(){r=null},n}const cs=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];t=a,r||(r=requestAnimationFrame(function(){r=null,e.apply(void 0,t)}))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n};function ds(e,t){}ds.bind(null,"warn"),ds.bind(null,"error");function us(){}function ms(e,t,r){const n=t.map(t=>{const n=function(e,t){return{...e,...t}}(r,t.options);return e.addEventListener(t.eventName,t.fn,n),function(){e.removeEventListener(t.eventName,t.fn,n)}});return function(){n.forEach(e=>{e()})}}const ps="Invariant failed";class hs extends Error{}function fs(e,t){if(!e)throw new hs(ps)}hs.prototype.toString=function(){return this.message};class xs extends n.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=us,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof hs&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=ms(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof hs))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const gs=e=>e+1,bs=(e,t)=>{const r=e.droppableId===t.droppableId,n=gs(e.index),a=gs(t.index);return r?`\n      You have moved the item from position ${n}\n      to position ${a}\n    `:`\n    You have moved the item from position ${n}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${a}\n  `},ys=(e,t,r)=>t.droppableId===r.droppableId?`\n      The item ${e}\n      has been combined with ${r.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${r.draggableId}\n      in list ${r.droppableId}\n    `,vs=e=>`\n  The item has returned to its starting position\n  of ${gs(e.index)}\n`,js={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${gs(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return bs(e.source,t);const r=e.combine;return r?ys(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${vs(e.source)}\n    `;const t=e.destination,r=e.combine;return t?`\n      You have dropped the item.\n      ${bs(e.source,t)}\n    `:r?`\n      You have dropped the item.\n      ${ys(e.draggableId,e.source,r)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${vs(e.source)}\n  `}};var Ns=js;const ws={x:0,y:0},ks=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ss=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Es=(e,t)=>e.x===t.x&&e.y===t.y,Cs=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),Is=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"x"===e?{x:t,y:r}:{x:r,y:t}},Ds=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Ps=(e,t)=>Math.min(...t.map(t=>Ds(e,t))),Os=e=>t=>({x:e(t.x),y:e(t.y)});const As=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Ts=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Rs=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const r=Ja({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r})(t.pageMarginBox,e):Ja(e);var zs=e=>{let{page:t,withPlaceholder:r,axis:n,frame:a}=e;const s=((e,t)=>t?As(e,t.scroll.diff.displacement):e)(t.marginBox,a),l=((e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e)(s,n,r);return{page:t,withPlaceholder:r,active:Rs(l,a)}},Ls=(e,t)=>{e.frame||fs(!1);const r=e.frame,n=Ss(t,r.scroll.initial),a=Cs(n),s={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}},l=zs({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:l}};const Ms=os(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),$s=os(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),_s=os(e=>Object.values(e)),Fs=os(e=>Object.values(e));var Bs=os((e,t)=>{const r=Fs(t).filter(t=>e===t.descriptor.droppableId).sort((e,t)=>e.descriptor.index-t.descriptor.index);return r});function Us(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Gs(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Ws=os((e,t)=>t.filter(t=>t.descriptor.id!==e.descriptor.id)),Hs=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Vs={point:ws,value:0},qs={invisible:{},visible:{},all:[]};var Qs={displaced:qs,displacedBy:Vs,at:null},Js=(e,t)=>r=>e<=r&&r<=t,Ys=e=>{const t=Js(e.top,e.bottom),r=Js(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const a=t(n.top)||t(n.bottom),s=r(n.left)||r(n.right);if(a&&s)return!0;const l=n.top<e.top&&n.bottom>e.bottom,i=n.left<e.left&&n.right>e.right;if(l&&i)return!0;return l&&s||i&&a}},Ks=e=>{const t=Js(e.top,e.bottom),r=Js(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)};const Xs={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Zs={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const el=e=>{let{target:t,destination:r,viewport:n,withDroppableDisplacement:a,isVisibleThroughFrameFn:s}=e;const l=a?((e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:ws;return As(e,r)})(t,r):t;return((e,t,r)=>!!t.subject.active&&r(t.subject.active)(e))(l,r,s)&&((e,t,r)=>r(t)(e))(l,n,s)},tl=e=>el({...e,isVisibleThroughFrameFn:Ks});function rl(e){let{afterDragging:t,destination:r,displacedBy:n,viewport:a,forceShouldAnimate:s,last:l}=e;return t.reduce(function(e,t){const i=function(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ja(Ya(r,n))}(t,n),o=t.descriptor.id;e.all.push(o);var c;if(!(c={target:i,destination:r,viewport:a,withDroppableDisplacement:!0},el({...c,isVisibleThroughFrameFn:Ys})))return e.invisible[t.descriptor.id]=!0,e;const d=((e,t,r)=>{if("boolean"===typeof r)return r;if(!t)return!0;const{invisible:n,visible:a}=t;if(n[e])return!1;const s=a[e];return!s||s.shouldAnimate})(o,l,s),u={draggableId:o,shouldAnimate:d};return e.visible[o]=u,e},{all:[],visible:{},invisible:{}})}function nl(e){let{insideDestination:t,inHomeList:r,displacedBy:n,destination:a}=e;const s=function(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(t,{inHomeList:r});return{displaced:qs,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:s}}}}function al(e){let{draggable:t,insideDestination:r,destination:n,viewport:a,displacedBy:s,last:l,index:i,forceShouldAnimate:o}=e;const c=Hs(t,n);if(null==i)return nl({insideDestination:r,inHomeList:c,displacedBy:s,destination:n});const d=r.find(e=>e.descriptor.index===i);if(!d)return nl({insideDestination:r,inHomeList:c,displacedBy:s,destination:n});const u=Ws(t,r),m=r.indexOf(d);return{displaced:rl({afterDragging:u.slice(m),destination:n,displacedBy:s,last:l,viewport:a.frame,forceShouldAnimate:o}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function sl(e,t){return Boolean(t.effected[e])}var ll=e=>{let{isMovingForward:t,isInHomeList:r,draggable:n,draggables:a,destination:s,insideDestination:l,previousImpact:i,viewport:o,afterCritical:c}=e;const d=i.at;if(d||fs(!1),"REORDER"===d.type){const e=(e=>{let{isMovingForward:t,isInHomeList:r,insideDestination:n,location:a}=e;if(!n.length)return null;const s=a.index,l=t?s+1:s-1,i=n[0].descriptor.index,o=n[n.length-1].descriptor.index;return l<i||l>(r?o:o+1)?null:l})({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:l});return null==e?null:al({draggable:n,insideDestination:l,destination:s,viewport:o,last:i.displaced,displacedBy:i.displacedBy,index:e})}const u=(e=>{let{isMovingForward:t,destination:r,draggables:n,combine:a,afterCritical:s}=e;if(!r.isCombineEnabled)return null;const l=a.draggableId,i=n[l].descriptor.index;return sl(l,s)?t?i:i-1:t?i+1:i})({isMovingForward:t,destination:s,displaced:i.displaced,draggables:a,combine:d.combine,afterCritical:c});return null==u?null:al({draggable:n,insideDestination:l,destination:s,viewport:o,last:i.displaced,displacedBy:i.displacedBy,index:u})},il=e=>{let{afterCritical:t,impact:r,draggables:n}=e;const a=Gs(r);a||fs(!1);const s=a.draggableId,l=n[s].page.borderBox.center,i=(e=>{let{displaced:t,afterCritical:r,combineWith:n,displacedBy:a}=e;const s=Boolean(t.visible[n]||t.invisible[n]);return sl(n,r)?s?ws:Cs(a.point):s?a.point:ws})({displaced:r.displaced,afterCritical:t,combineWith:s,displacedBy:r.displacedBy});return ks(l,i)};const ol=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,cl=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,dl=e=>{let{axis:t,moveRelativeTo:r,isMoving:n}=e;return Is(t.line,r.marginBox[t.end]+ol(t,n),cl(t,r.marginBox,n))},ul=e=>{let{axis:t,moveRelativeTo:r,isMoving:n}=e;return Is(t.line,r.marginBox[t.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(t,n),cl(t,r.marginBox,n))};var ml=e=>{let{impact:t,draggable:r,draggables:n,droppable:a,afterCritical:s}=e;const l=Bs(a.descriptor.id,n),i=r.page,o=a.axis;if(!l.length)return(e=>{let{axis:t,moveInto:r,isMoving:n}=e;return Is(t.line,r.contentBox[t.start]+ol(t,n),cl(t,r.contentBox,n))})({axis:o,moveInto:a.page,isMoving:i});const{displaced:c,displacedBy:d}=t,u=c.all[0];if(u){const e=n[u];if(sl(u,s))return ul({axis:o,moveRelativeTo:e.page,isMoving:i});const t=ts(e.page,d.point);return ul({axis:o,moveRelativeTo:t,isMoving:i})}const m=l[l.length-1];if(m.descriptor.id===r.descriptor.id)return i.borderBox.center;if(sl(m.descriptor.id,s)){const e=ts(m.page,Cs(s.displacedBy.point));return dl({axis:o,moveRelativeTo:e,isMoving:i})}return dl({axis:o,moveRelativeTo:m.page,isMoving:i})},pl=(e,t)=>{const r=e.frame;return r?ks(t,r.scroll.diff.displacement):t};var hl=e=>{const t=(e=>{let{impact:t,draggable:r,droppable:n,draggables:a,afterCritical:s}=e;const l=r.page.borderBox.center,i=t.at;return n&&i?"REORDER"===i.type?ml({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:s}):il({impact:t,draggables:a,afterCritical:s}):l})(e),r=e.droppable;return r?pl(r,t):t},fl=(e,t)=>{const r=Ss(t,e.scroll.initial),n=Cs(r);return{frame:Ja({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function xl(e,t){return e.map(e=>t[e])}var gl=e=>{let{pageBorderBoxCenter:t,draggable:r,viewport:n}=e;const a=((e,t)=>ks(e.scroll.diff.displacement,t))(n,t),s=Ss(a,r.page.borderBox.center);return ks(r.client.borderBox.center,s)},bl=e=>{let{draggable:t,destination:r,newPageBorderBoxCenter:n,viewport:a,withDroppableDisplacement:s,onlyOnMainAxis:l=!1}=e;const i=Ss(n,t.page.borderBox.center),o={target:As(t.page.borderBox,i),destination:r,withDroppableDisplacement:s,viewport:a};return l?(e=>{return el({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const r=Js(e.top,e.bottom),n=Js(e.left,e.right);return e=>t===Xs?r(e.top)&&r(e.bottom):n(e.left)&&n(e.right)})});var t})(o):tl(o)},yl=e=>{let{isMovingForward:t,draggable:r,destination:n,draggables:a,previousImpact:s,viewport:l,previousPageBorderBoxCenter:i,previousClientSelection:o,afterCritical:c}=e;if(!n.isEnabled)return null;const d=Bs(n.descriptor.id,a),u=Hs(r,n),m=(e=>{let{isMovingForward:t,draggable:r,destination:n,insideDestination:a,previousImpact:s}=e;if(!n.isCombineEnabled)return null;if(!Us(s))return null;function l(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return{...s,at:t}}const i=s.displaced.all,o=i.length?i[0]:null;if(t)return o?l(o):null;const c=Ws(r,a);if(!o)return c.length?l(c[c.length-1].descriptor.id):null;const d=c.findIndex(e=>e.descriptor.id===o);-1===d&&fs(!1);const u=d-1;return u<0?null:l(c[u].descriptor.id)})({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:s})||ll({isMovingForward:t,isInHomeList:u,draggable:r,draggables:a,destination:n,insideDestination:d,previousImpact:s,viewport:l,afterCritical:c});if(!m)return null;const p=hl({impact:m,draggable:r,droppable:n,draggables:a,afterCritical:c});if(bl({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:gl({pageBorderBoxCenter:p,draggable:r,viewport:l}),impact:m,scrollJumpRequest:null}}const h=Ss(p,i),f=(e=>{let{impact:t,viewport:r,destination:n,draggables:a,maxScrollChange:s}=e;const l=fl(r,ks(r.scroll.current,s)),i=n.frame?Ls(n,ks(n.frame.scroll.current,s)):n,o=t.displaced,c=rl({afterDragging:xl(o.all,a),destination:n,displacedBy:t.displacedBy,viewport:l.frame,last:o,forceShouldAnimate:!1}),d=rl({afterDragging:xl(o.all,a),destination:i,displacedBy:t.displacedBy,viewport:r.frame,last:o,forceShouldAnimate:!1}),u={},m={},p=[o,c,d];return o.all.forEach(e=>{const t=function(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}(e,p);t?m[e]=t:u[e]=!0}),{...t,displaced:{all:o.all,invisible:u,visible:m}}})({impact:m,viewport:l,destination:n,draggables:a,maxScrollChange:h});return{clientSelection:o,impact:f,scrollJumpRequest:h}};const vl=e=>{const t=e.subject.active;return t||fs(!1),t};const jl=(e,t)=>{const r=e.page.borderBox.center;return sl(e.descriptor.id,t)?Ss(r,t.displacedBy.point):r},Nl=(e,t)=>{const r=e.page.borderBox;return sl(e.descriptor.id,t)?As(r,Cs(t.displacedBy.point)):r};var wl=os(function(e,t){const r=t[e.line];return{value:r,point:Is(e.line,r)}});const kl=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Sl=(e,t,r)=>{const n=e.frame;Hs(t,e)&&fs(!1),e.subject.withPlaceholder&&fs(!1);const a=wl(e.axis,t.displaceBy).point,s=((e,t,r)=>{const n=e.axis;if("virtual"===e.descriptor.mode)return Is(n.line,t[n.line]);const a=e.subject.page.contentBox[n.size],s=Bs(e.descriptor.id,r).reduce((e,t)=>e+t.client.marginBox[n.size],0)+t[n.line]-a;return s<=0?null:Is(n.line,s)})(e,a,r),l={placeholderSize:a,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const t=zs({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:e.frame});return{...e,subject:t}}const i=s?ks(n.scroll.max,s):n.scroll.max,o=kl(n,i),c=zs({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:o});return{...e,subject:c,frame:o}};var El=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:r,draggable:n,isOver:a,draggables:s,droppables:l,viewport:i,afterCritical:o}=e;const c=(e=>{let{isMovingForward:t,pageBorderBoxCenter:r,source:n,droppables:a,viewport:s}=e;const l=n.subject.active;if(!l)return null;const i=n.axis,o=Js(l[i.start],l[i.end]),c=_s(a).filter(e=>e!==n).filter(e=>e.isEnabled).filter(e=>Boolean(e.subject.active)).filter(e=>Ys(s.frame)(vl(e))).filter(e=>{const r=vl(e);return t?l[i.crossAxisEnd]<r[i.crossAxisEnd]:r[i.crossAxisStart]<l[i.crossAxisStart]}).filter(e=>{const t=vl(e),r=Js(t[i.start],t[i.end]);return o(t[i.start])||o(t[i.end])||r(l[i.start])||r(l[i.end])}).sort((e,r)=>{const n=vl(e)[i.crossAxisStart],a=vl(r)[i.crossAxisStart];return t?n-a:a-n}).filter((e,t,r)=>vl(e)[i.crossAxisStart]===vl(r[0])[i.crossAxisStart]);if(!c.length)return null;if(1===c.length)return c[0];const d=c.filter(e=>Js(vl(e)[i.start],vl(e)[i.end])(r[i.line]));return 1===d.length?d[0]:d.length>1?d.sort((e,t)=>vl(e)[i.start]-vl(t)[i.start])[0]:c.sort((e,t)=>{const n=Ps(r,Ts(vl(e))),a=Ps(r,Ts(vl(t)));return n!==a?n-a:vl(e)[i.start]-vl(t)[i.start]})[0]})({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:l,viewport:i});if(!c)return null;const d=Bs(c.descriptor.id,s),u=(e=>{let{pageBorderBoxCenter:t,viewport:r,destination:n,insideDestination:a,afterCritical:s}=e;const l=a.filter(e=>tl({target:Nl(e,s),destination:n,viewport:r.frame,withDroppableDisplacement:!0})).sort((e,r)=>{const a=Ds(t,pl(n,jl(e,s))),l=Ds(t,pl(n,jl(r,s)));return a<l?-1:l<a?1:e.descriptor.index-r.descriptor.index});return l[0]||null})({pageBorderBoxCenter:r,viewport:i,destination:c,insideDestination:d,afterCritical:o}),m=(e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:r,insideDestination:n,draggable:a,draggables:s,destination:l,viewport:i,afterCritical:o}=e;if(!r){if(n.length)return null;const e={displaced:qs,displacedBy:Vs,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:0}}},t=hl({impact:e,draggable:a,droppable:l,draggables:s,afterCritical:o}),r=Hs(a,l)?l:Sl(l,a,s);return bl({draggable:a,destination:r,newPageBorderBoxCenter:t,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const c=Boolean(t[l.axis.line]<=r.page.borderBox.center[l.axis.line]),d=(()=>{const e=r.descriptor.index;return r.descriptor.id===a.descriptor.id||c?e:e+1})(),u=wl(l.axis,a.displaceBy);return al({draggable:a,insideDestination:n,destination:l,viewport:i,displacedBy:u,last:qs,index:d})})({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:s,moveRelativeTo:u,insideDestination:d,viewport:i,afterCritical:o});if(!m)return null;const p=hl({impact:m,draggable:n,droppable:c,draggables:s,afterCritical:o});return{clientSelection:gl({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:m,scrollJumpRequest:null}},Cl=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var Il=e=>{let{state:t,type:r}=e;const n=((e,t)=>{const r=Cl(e);return r?t[r]:null})(t.impact,t.dimensions.droppables),a=Boolean(n),s=t.dimensions.droppables[t.critical.droppable.id],l=n||s,i=l.axis.direction,o="vertical"===i&&("MOVE_UP"===r||"MOVE_DOWN"===r)||"horizontal"===i&&("MOVE_LEFT"===r||"MOVE_RIGHT"===r);if(o&&!a)return null;const c="MOVE_DOWN"===r||"MOVE_RIGHT"===r,d=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,{draggables:m,droppables:p}=t.dimensions;return o?yl({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:l,draggables:m,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):El({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:l,draggables:m,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Dl(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Pl(e){const t=Js(e.top,e.bottom),r=Js(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}function Ol(e){let{pageBorderBox:t,draggable:r,droppables:n}=e;const a=_s(n).filter(e=>{if(!e.isEnabled)return!1;const r=e.subject.active;if(!r)return!1;if(a=r,!((n=t).left<a.right&&n.right>a.left&&n.top<a.bottom&&n.bottom>a.top))return!1;var n,a;if(Pl(r)(t.center))return!0;const s=e.axis,l=r.center[s.crossAxisLine],i=t[s.crossAxisStart],o=t[s.crossAxisEnd],c=Js(r[s.crossAxisStart],r[s.crossAxisEnd]),d=c(i),u=c(o);return!d&&!u||(d?i<l:o>l)});return a.length?1===a.length?a[0].descriptor.id:function(e){let{pageBorderBox:t,draggable:r,candidates:n}=e;const a=r.page.borderBox.center,s=n.map(e=>{const r=e.axis,n=Is(e.axis.line,t.center[r.line],e.page.borderBox.center[r.crossAxisLine]);return{id:e.descriptor.id,distance:Ds(a,n)}}).sort((e,t)=>t.distance-e.distance);return s[0]?s[0].id:null}({pageBorderBox:t,draggable:r,candidates:a}):null}const Al=(e,t)=>Ja(As(e,t));function Tl(e){let{displaced:t,id:r}=e;return Boolean(t.visible[r]||t.invisible[r])}var Rl=e=>{let{pageOffset:t,draggable:r,draggables:n,droppables:a,previousImpact:s,viewport:l,afterCritical:i}=e;const o=Al(r.page.borderBox,t),c=Ol({pageBorderBox:o,draggable:r,droppables:a});if(!c)return Qs;const d=a[c],u=Bs(d.descriptor.id,n),m=((e,t)=>{const r=e.frame;return r?Al(t,r.scroll.diff.value):t})(d,o);return(e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:r,previousImpact:n,destination:a,insideDestination:s,afterCritical:l}=e;if(!a.isCombineEnabled)return null;const i=a.axis,o=wl(a.axis,t.displaceBy),c=o.value,d=r[i.start],u=r[i.end],m=Ws(t,s).find(e=>{const t=e.descriptor.id,r=e.page.borderBox,a=r[i.size]/4,s=sl(t,l),o=Tl({displaced:n.displaced,id:t});return s?o?u>r[i.start]+a&&u<r[i.end]-a:d>r[i.start]-c+a&&d<r[i.end]-c-a:o?u>r[i.start]+c+a&&u<r[i.end]+c-a:d>r[i.start]+a&&d<r[i.end]-a});return m?{displacedBy:o,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:a.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:m,draggable:r,previousImpact:s,destination:d,insideDestination:u,afterCritical:i})||(e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:r,destination:n,insideDestination:a,last:s,viewport:l,afterCritical:i}=e;const o=n.axis,c=wl(n.axis,r.displaceBy),d=c.value,u=t[o.start],m=t[o.end],p=function(e){let{draggable:t,closest:r,inHomeList:n}=e;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}({draggable:r,closest:Ws(r,a).find(e=>{const t=e.descriptor.id,r=e.page.borderBox.center[o.line],n=sl(t,i),a=Tl({displaced:s,id:t});return n?a?m<=r:u<r-d:a?m<=r+d:u<r})||null,inHomeList:Hs(r,n)});return al({draggable:r,insideDestination:a,destination:n,viewport:l,last:s,displacedBy:c,index:p})})({pageBorderBoxWithDroppableScroll:m,draggable:r,destination:d,insideDestination:u,last:s.displaced,viewport:l,afterCritical:i})},zl=(e,t)=>({...e,[t.descriptor.id]:t});const Ll=e=>{let{previousImpact:t,impact:r,droppables:n}=e;const a=Cl(t),s=Cl(r);if(!a)return n;if(a===s)return n;const l=n[a];if(!l.subject.withPlaceholder)return n;const i=(e=>{const t=e.subject.withPlaceholder;t||fs(!1);const r=e.frame;if(!r){const t=zs({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const n=t.oldFrameMaxScroll;n||fs(!1);const a=kl(r,n),s=zs({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:s,frame:a}})(l);return zl(n,i)};var Ml=e=>{let{state:t,clientSelection:r,dimensions:n,viewport:a,impact:s,scrollJumpRequest:l}=e;const i=a||t.viewport,o=n||t.dimensions,c=r||t.current.client.selection,d=Ss(c,t.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:ks(t.initial.client.borderBoxCenter,d)},m={selection:ks(u.selection,i.scroll.current),borderBoxCenter:ks(u.borderBoxCenter,i.scroll.current),offset:ks(u.offset,i.scroll.diff.value)},p={client:u,page:m};if("COLLECTING"===t.phase)return{...t,dimensions:o,viewport:i,current:p};const h=o.draggables[t.critical.draggable.id],f=s||Rl({pageOffset:m.offset,draggable:h,draggables:o.draggables,droppables:o.droppables,previousImpact:t.impact,viewport:i,afterCritical:t.afterCritical}),x=(e=>{let{draggable:t,draggables:r,droppables:n,previousImpact:a,impact:s}=e;const l=Ll({previousImpact:a,impact:s,droppables:n}),i=Cl(s);if(!i)return l;const o=n[i];if(Hs(t,o))return l;if(o.subject.withPlaceholder)return l;const c=Sl(o,t,r);return zl(l,c)})({draggable:h,impact:f,previousImpact:t.impact,draggables:o.draggables,droppables:o.droppables});return{...t,current:p,dimensions:{draggables:o.draggables,droppables:x},impact:f,viewport:i,scrollJumpRequest:l||null,forceShouldAnimate:!l&&null}};var $l=e=>{let{impact:t,viewport:r,draggables:n,destination:a,forceShouldAnimate:s}=e;const l=t.displaced,i=function(e,t){return e.map(e=>t[e])}(l.all,n),o=rl({afterDragging:i,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:s,last:l});return{...t,displaced:o}},_l=e=>{let{impact:t,draggable:r,droppable:n,draggables:a,viewport:s,afterCritical:l}=e;const i=hl({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:l});return gl({pageBorderBoxCenter:i,draggable:r,viewport:s})},Fl=e=>{let{state:t,dimensions:r,viewport:n}=e;"SNAP"!==t.movementMode&&fs(!1);const a=t.impact,s=n||t.viewport,l=r||t.dimensions,{draggables:i,droppables:o}=l,c=i[t.critical.draggable.id],d=Cl(a);d||fs(!1);const u=o[d],m=$l({impact:a,viewport:s,destination:u,draggables:i}),p=_l({impact:m,draggable:c,droppable:u,draggables:i,viewport:s,afterCritical:t.afterCritical});return Ml({impact:m,clientSelection:p,state:t,dimensions:l,viewport:s})},Bl=e=>{let{draggable:t,home:r,draggables:n,viewport:a}=e;const s=wl(r.axis,t.displaceBy),l=Bs(r.descriptor.id,n),i=l.indexOf(t);-1===i&&fs(!1);const o=l.slice(i+1),c=o.reduce((e,t)=>(e[t.descriptor.id]=!0,e),{}),d={inVirtualList:"virtual"===r.descriptor.mode,displacedBy:s,effected:c};var u;return{impact:{displaced:rl({afterDragging:o,destination:r,displacedBy:s,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:(u=t.descriptor,{index:u.index,droppableId:u.droppableId})}},afterCritical:d}};const Ul=e=>{0},Gl=e=>{0};var Wl=e=>{let{additions:t,updatedDroppables:r,viewport:n}=e;const a=n.scroll.diff.value;return t.map(e=>{const t=e.descriptor.droppableId,s=(e=>{const t=e.frame;return t||fs(!1),t})(r[t]),l=s.scroll.diff.value,i=(e=>{let{draggable:t,offset:r,initialWindowScroll:n}=e;const a=ts(t.client,r),s=rs(a,n);return{...t,placeholder:{...t.placeholder,client:a},client:a,page:s}})({draggable:e,offset:ks(a,l),initialWindowScroll:n.scroll.initial});return i})};const Hl=e=>"SNAP"===e.movementMode,Vl=(e,t,r)=>{const n=((e,t)=>({draggables:e.draggables,droppables:zl(e.droppables,t)}))(e.dimensions,t);return!Hl(e)||r?Ml({state:e,dimensions:n}):Fl({state:e,dimensions:n})};function ql(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const Ql={phase:"IDLE",completed:null,shouldFlush:!1};var Jl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ql,t=arguments.length>1?arguments[1]:void 0;if("FLUSH"===t.type)return{...Ql,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&fs(!1);const{critical:r,clientSelection:n,viewport:a,dimensions:s,movementMode:l}=t.payload,i=s.draggables[r.draggable.id],o=s.droppables[r.droppable.id],c={selection:n,borderBoxCenter:i.client.borderBox.center,offset:ws},d={client:c,page:{selection:ks(c.selection,a.scroll.initial),borderBoxCenter:ks(c.selection,a.scroll.initial),offset:ks(c.selection,a.scroll.diff.value)}},u=_s(s.droppables).every(e=>!e.isFixedOnPage),{impact:m,afterCritical:p}=Bl({draggable:i,home:o,draggables:s.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:s,initial:d,current:d,isWindowScrollAllowed:u,impact:m,afterCritical:p,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&fs(!1);return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&fs(!1),(e=>{let{state:t,published:r}=e;Ul();const n=r.modified.map(e=>{const r=t.dimensions.droppables[e.droppableId];return Ls(r,e.scroll)}),a={...t.dimensions.droppables,...Ms(n)},s=$s(Wl({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),l={...t.dimensions.draggables,...s};r.removals.forEach(e=>{delete l[e]});const i={droppables:a,draggables:l},o=Cl(t.impact),c=o?i.droppables[o]:null,d=i.draggables[t.critical.draggable.id],u=i.droppables[t.critical.droppable.id],{impact:m,afterCritical:p}=Bl({draggable:d,home:u,draggables:l,viewport:t.viewport}),h=c&&c.isCombineEnabled?t.impact:m,f=Rl({pageOffset:t.current.page.offset,draggable:i.draggables[t.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:h,viewport:t.viewport,afterCritical:p});Gl();const x={...t,phase:"DRAGGING",impact:f,onLiftImpact:m,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===t.phase?x:{...x,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Dl(e)||fs(!1);const{client:r}=t.payload;return Es(r,e.current.client.selection)?e:Ml({state:e,clientSelection:r,impact:Hl(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return ql(e);if("COLLECTING"===e.phase)return ql(e);Dl(e)||fs(!1);const{id:r,newScroll:n}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const s=Ls(a,n);return Vl(e,s,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Dl(e)||fs(!1);const{id:r,isEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||fs(!1),a.isEnabled===n&&fs(!1);const s={...a,isEnabled:n};return Vl(e,s,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Dl(e)||fs(!1);const{id:r,isCombineEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||fs(!1),a.isCombineEnabled===n&&fs(!1);const s={...a,isCombineEnabled:n};return Vl(e,s,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Dl(e)||fs(!1),e.isWindowScrollAllowed||fs(!1);const r=t.payload.newScroll;if(Es(e.viewport.scroll.current,r))return ql(e);const n=fl(e.viewport,r);return Hl(e)?Fl({state:e,viewport:n}):Ml({state:e,viewport:n})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Dl(e))return e;const r=t.payload.maxScroll;if(Es(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&fs(!1);const r=Il({state:e,type:t.type});return r?Ml({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const r=t.payload.reason;"COLLECTING"!==e.phase&&fs(!1);return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if("DROP_ANIMATE"===t.type){const{completed:r,dropDuration:n,newHomeClientOffset:a}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&fs(!1);return{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:a,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};const Yl=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Kl=()=>({type:"COLLECTION_STARTING",payload:null}),Xl=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Zl=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),ei=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),ti=e=>({type:"MOVE",payload:e}),ri=()=>({type:"MOVE_UP",payload:null}),ni=()=>({type:"MOVE_DOWN",payload:null}),ai=()=>({type:"MOVE_RIGHT",payload:null}),si=()=>({type:"MOVE_LEFT",payload:null}),li=e=>({type:"DROP_COMPLETE",payload:e}),ii=e=>({type:"DROP",payload:e}),oi=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const ci="cubic-bezier(.2,1,.1,1)",di={drop:0,combining:.7},ui={drop:.75},mi={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},pi=`${mi.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,hi={fluid:`opacity ${pi}`,snap:`transform ${pi}, opacity ${pi}`,drop:e=>{const t=`${e}s ${ci}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${pi}`,placeholder:`height ${pi}, width ${pi}, margin ${pi}`},fi=e=>Es(e,ws)?void 0:`translate(${e.x}px, ${e.y}px)`,xi=fi,gi=(e,t)=>{const r=fi(e);if(r)return t?`${r} scale(${ui.drop})`:r},{minDropTime:bi,maxDropTime:yi}=mi,vi=yi-bi;var ji=e=>{let{getState:t,dispatch:r}=e;return e=>n=>{if("DROP"!==n.type)return void e(n);const a=t(),s=n.payload.reason;if("COLLECTING"===a.phase)return void r((e=>({type:"DROP_PENDING",payload:e}))({reason:s}));if("IDLE"===a.phase)return;"DROP_PENDING"===a.phase&&a.isWaiting&&fs(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&fs(!1);const l=a.critical,i=a.dimensions,o=i.draggables[a.critical.draggable.id],{impact:c,didDropInsideDroppable:d}=(e=>{let{draggables:t,reason:r,lastImpact:n,home:a,viewport:s,onLiftImpact:l}=e;if(!n.at||"DROP"!==r)return{impact:$l({draggables:t,impact:l,destination:a,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:qs},didDropInsideDroppable:!0}})({reason:s,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),u=d?Us(c):null,m=d?Gs(c):null,p={index:l.draggable.index,droppableId:l.droppable.id},h={draggableId:o.descriptor.id,type:o.descriptor.type,source:p,reason:s,mode:a.movementMode,destination:u,combine:m},f=(e=>{let{impact:t,draggable:r,dimensions:n,viewport:a,afterCritical:s}=e;const{draggables:l,droppables:i}=n,o=Cl(t),c=o?i[o]:null,d=i[r.descriptor.droppableId],u=_l({impact:t,draggable:r,draggables:l,afterCritical:s,droppable:c||d,viewport:a});return Ss(u,r.client.borderBox.center)})({impact:c,draggable:o,dimensions:i,viewport:a.viewport,afterCritical:a.afterCritical}),x={critical:a.critical,afterCritical:a.afterCritical,result:h,impact:c};if(!(!Es(a.current.client.offset,f)||Boolean(h.combine)))return void r(li({completed:x}));const g=(e=>{let{current:t,destination:r,reason:n}=e;const a=Ds(t,r);if(a<=0)return bi;if(a>=1500)return yi;const s=bi+vi*(a/1500);return Number(("CANCEL"===n?.6*s:s).toFixed(2))})({current:a.current.client.offset,destination:f,reason:s});r((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:f,dropDuration:g,completed:x}))}},Ni=()=>({x:window.pageXOffset,y:window.pageYOffset});function wi(e){let{onWindowScroll:t}=e;const r=cs(function(){t(Ni())}),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}(r);let a=us;function s(){return a!==us}return{start:function(){s()&&fs(!1),a=ms(window,[n])},stop:function(){s()||fs(!1),r.cancel(),a(),a=us},isActive:s}}var ki=e=>{const t=wi({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>r=>{t.isActive()||"INITIAL_PUBLISH"!==r.type||t.start(),t.isActive()&&(e=>"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type)(r)&&t.stop(),e(r)}},Si=()=>{const e=[];return{add:t=>{const r=setTimeout(()=>(t=>{const r=e.findIndex(e=>e.timerId===t);-1===r&&fs(!1);const[n]=e.splice(r,1);n.callback()})(r)),n={timerId:r,callback:t};e.push(n)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach(e=>{clearTimeout(e.timerId),e.callback()})}}};const Ei=(e,t)=>{Ul(),t(),Gl()},Ci=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Ii(e,t,r,n){if(!e)return void r(n(t));const a=(e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),a=a=>{t||r||(t=!0,e(a),clearTimeout(n))};return a.wasCalled=()=>t,a})(r);e(t,{announce:a}),a.wasCalled()||r(n(t))}var Di=(e,t)=>{const r=((e,t)=>{const r=Si();let n=null;const a=r=>{n||fs(!1),n=null,Ei(0,()=>Ii(e().onDragEnd,r,t,Ns.onDragEnd))};return{beforeCapture:(t,r)=>{n&&fs(!1),Ei(0,()=>{const n=e().onBeforeCapture;n&&n({draggableId:t,mode:r})})},beforeStart:(t,r)=>{n&&fs(!1),Ei(0,()=>{const n=e().onBeforeDragStart;n&&n(Ci(t,r))})},start:(a,s)=>{n&&fs(!1);const l=Ci(a,s);n={mode:s,lastCritical:a,lastLocation:l.source,lastCombine:null},r.add(()=>{Ei(0,()=>Ii(e().onDragStart,l,t,Ns.onDragStart))})},update:(a,s)=>{const l=Us(s),i=Gs(s);n||fs(!1);const o=!((e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n})(a,n.lastCritical);o&&(n.lastCritical=a);const c=(u=l,!(null==(d=n.lastLocation)&&null==u||null!=d&&null!=u&&d.droppableId===u.droppableId&&d.index===u.index));var d,u;c&&(n.lastLocation=l);const m=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(n.lastCombine,i);if(m&&(n.lastCombine=i),!o&&!c&&!m)return;const p={...Ci(a,n.mode),combine:i,destination:l};r.add(()=>{Ei(0,()=>Ii(e().onDragUpdate,p,t,Ns.onDragUpdate))})},flush:()=>{n||fs(!1),r.flush()},drop:a,abort:()=>{if(!n)return;const e={...Ci(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};a(e)}}})(e,t);return e=>t=>n=>{if("BEFORE_INITIAL_CAPTURE"===n.type)return void r.beforeCapture(n.payload.draggableId,n.payload.movementMode);if("INITIAL_PUBLISH"===n.type){const e=n.payload.critical;return r.beforeStart(e,n.payload.movementMode),t(n),void r.start(e,n.payload.movementMode)}if("DROP_COMPLETE"===n.type){const e=n.payload.completed.result;return r.flush(),t(n),void r.drop(e)}if(t(n),"FLUSH"===n.type)return void r.abort();const a=e.getState();"DRAGGING"===a.phase&&r.update(a.critical,a.impact)}};var Pi=e=>t=>r=>{if("DROP_ANIMATION_FINISHED"!==r.type)return void t(r);const n=e.getState();"DROP_ANIMATING"!==n.phase&&fs(!1),e.dispatch(li({completed:n.completed}))};var Oi=e=>{let t=null,r=null;return n=>a=>{if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),n(a),"DROP_ANIMATE"!==a.type)return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame(()=>{r=null,t=ms(window,[s])})}};var Ai=e=>t=>r=>{if(t(r),"PUBLISH_WHILE_DRAGGING"!==r.type)return;const n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(ii({reason:n.reason})))};const Ti=ca;var Ri=e=>{let{dimensionMarshal:t,focusMarshal:r,styleMarshal:n,getResponders:a,announce:s,autoScroller:l}=e;return la(Jl,Ti(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(ta(15))},a={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},s=t.map(function(e){return e(a)});return n=ca.apply(void 0,s)(r.dispatch),ea(ea({},r),{},{dispatch:n})}}}((i=n,()=>e=>t=>{"INITIAL_PUBLISH"===t.type&&i.dragging(),"DROP_ANIMATE"===t.type&&i.dropping(t.payload.completed.result.reason),"FLUSH"!==t.type&&"DROP_COMPLETE"!==t.type||i.resting(),e(t)}),(e=>()=>t=>r=>{"DROP_COMPLETE"!==r.type&&"FLUSH"!==r.type&&"DROP_ANIMATE"!==r.type||e.stopPublishing(),t(r)})(t),(e=>t=>{let{getState:r,dispatch:n}=t;return t=>a=>{if("LIFT"!==a.type)return void t(a);const{id:s,clientSelection:l,movementMode:i}=a.payload,o=r();"DROP_ANIMATING"===o.phase&&n(li({completed:o.completed})),"IDLE"!==r().phase&&fs(!1),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:i}});const c={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===i}},{critical:d,dimensions:u,viewport:m}=e.startPublishing(c);n({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:u,clientSelection:l,movementMode:i,viewport:m}})}})(t),ji,Pi,Oi,Ai,(e=>t=>r=>n=>{if((e=>"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type)(n))return e.stop(),void r(n);if("INITIAL_PUBLISH"===n.type){r(n);const a=t.getState();return"DRAGGING"!==a.phase&&fs(!1),void e.start(a)}r(n),e.scroll(t.getState())})(l),ki,(e=>{let t=!1;return()=>r=>n=>{if("INITIAL_PUBLISH"===n.type)return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),void e.tryRestoreFocusRecorded();if(r(n),t){if("FLUSH"===n.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===n.type){t=!1;const r=n.payload.completed.result;r.combine&&e.tryShiftRecord(r.draggableId,r.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(r),Di(a,s))));var i};var zi=e=>{let{scrollHeight:t,scrollWidth:r,height:n,width:a}=e;const s=Ss({x:r,y:t},{x:a,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},Li=()=>{const e=document.documentElement;return e||fs(!1),e},Mi=()=>{const e=Li();return zi({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},$i=e=>{let{critical:t,scrollOptions:r,registry:n}=e;Ul();const a=(()=>{const e=Ni(),t=Mi(),r=e.y,n=e.x,a=Li(),s=a.clientWidth,l=a.clientHeight;return{frame:Ja({top:r,left:n,right:n+s,bottom:r+l}),scroll:{initial:e,current:e,max:t,diff:{value:ws,displacement:ws}}}})(),s=a.scroll.current,l=t.droppable,i=n.droppable.getAllByType(l.type).map(e=>e.callbacks.getDimensionAndWatchScroll(s,r)),o=n.draggable.getAllByType(t.draggable.type).map(e=>e.getDimension(s)),c={draggables:$s(o),droppables:Ms(i)};Gl();return{dimensions:c,critical:t,viewport:a}};function _i(e,t,r){if(r.descriptor.id===t.id)return!1;if(r.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode}var Fi=(e,t)=>{let r=null;const n=function(e){let{registry:t,callbacks:r}=e,n={additions:{},removals:{},modified:{}},a=null;const s=()=>{a||(r.collectionStarting(),a=requestAnimationFrame(()=>{a=null,Ul();const{additions:e,removals:s,modified:l}=n,i=Object.keys(e).map(e=>t.draggable.getById(e).getDimension(ws)).sort((e,t)=>e.descriptor.index-t.descriptor.index),o=Object.keys(l).map(e=>({droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()})),c={additions:i,removals:Object.keys(s),modified:o};n={additions:{},removals:{},modified:{}},Gl(),r.publish(c)}))};return{add:e=>{const t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],s()},remove:e=>{const t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],s()},stop:()=>{a&&(cancelAnimationFrame(a),a=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=t=>{r||fs(!1);const a=r.critical.draggable;"ADDITION"===t.type&&_i(e,a,t.value)&&n.add(t.value),"REMOVAL"===t.type&&_i(e,a,t.value)&&n.remove(t.value)},s={updateDroppableIsEnabled:(n,a)=>{e.droppable.exists(n)||fs(!1),r&&t.updateDroppableIsEnabled({id:n,isEnabled:a})},updateDroppableIsCombineEnabled:(n,a)=>{r&&(e.droppable.exists(n)||fs(!1),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:a}))},scrollDroppable:(t,n)=>{r&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:(n,a)=>{r&&(e.droppable.exists(n)||fs(!1),t.updateDroppableScroll({id:n,newScroll:a}))},startPublishing:t=>{r&&fs(!1);const n=e.draggable.getById(t.draggableId),s=e.droppable.getById(n.descriptor.droppableId),l={draggable:n.descriptor,droppable:s.descriptor},i=e.subscribe(a);return r={critical:l,unsubscribe:i},$i({critical:l,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!r)return;n.stop();const t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach(e=>e.callbacks.dragStopped()),r.unsubscribe(),r=null}};return s},Bi=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),Ui=e=>{window.scrollBy(e.x,e.y)};const Gi=os(e=>_s(e).filter(e=>!!e.isEnabled&&!!e.frame));var Wi=e=>{let{center:t,destination:r,droppables:n}=e;if(r){const e=n[r];return e.frame?e:null}const a=((e,t)=>{const r=Gi(t).find(t=>(t.frame||fs(!1),Pl(t.frame.pageMarginBox)(e)))||null;return r})(t,n);return a};const Hi={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Vi=e=>{let{startOfRange:t,endOfRange:r,current:n}=e;const a=r-t;if(0===a)return 0;return(n-t)/a},qi=e=>{let{distanceToEdge:t,thresholds:r,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:s}=e;const l=function(e,t){const r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>Hi)();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const n=1-Vi({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=r.maxPixelScroll*r.ease(n);return Math.ceil(a)}(t,r,s);return 0===l?0:a?Math.max(((e,t,r)=>{const n=r(),a=n.durationDampening.accelerateAt,s=n.durationDampening.stopDampeningAt,l=t,i=s,o=Date.now()-l;if(o>=s)return e;if(o<a)return 1;const c=Vi({startOfRange:a,endOfRange:i,current:o}),d=e*n.ease(c);return Math.ceil(d)})(l,n,s),1):l},Qi=e=>{let{container:t,distanceToEdges:r,dragStartTime:n,axis:a,shouldUseTimeDampening:s,getAutoScrollerOptions:l}=e;const i=function(e,t){const r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>Hi)();return{startScrollingFrom:e[t.size]*r.startFromPercentage,maxScrollValueAt:e[t.size]*r.maxScrollAtPercentage}}(t,a,l);return r[a.end]<r[a.start]?qi({distanceToEdge:r[a.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:l}):-1*qi({distanceToEdge:r[a.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:l})};const Ji=Os(e=>0===e?0:e);var Yi=e=>{let{dragStartTime:t,container:r,subject:n,center:a,shouldUseTimeDampening:s,getAutoScrollerOptions:l}=e;const i={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},o=Qi({container:r,distanceToEdges:i,dragStartTime:t,axis:Xs,shouldUseTimeDampening:s,getAutoScrollerOptions:l}),c=Qi({container:r,distanceToEdges:i,dragStartTime:t,axis:Zs,shouldUseTimeDampening:s,getAutoScrollerOptions:l}),d=Ji({x:c,y:o});if(Es(d,ws))return null;const u=(e=>{let{container:t,subject:r,proposedScroll:n}=e;const a=r.height>t.height,s=r.width>t.width;return s||a?s&&a?null:{x:s?0:n.x,y:a?0:n.y}:n})({container:r,subject:n,proposedScroll:d});return u?Es(u,ws)?null:u:null};const Ki=Os(e=>0===e?0:e>0?1:-1),Xi=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return t=>{let{current:r,max:n,change:a}=t;const s=ks(r,a),l={x:e(s.x,n.x),y:e(s.y,n.y)};return Es(l,ws)?null:l}})(),Zi=e=>{let{max:t,current:r,change:n}=e;const a={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},s=Ki(n),l=Xi({max:a,current:r,change:s});return!l||(0!==s.x&&0===l.x||0!==s.y&&0===l.y)},eo=(e,t)=>Zi({current:e.scroll.current,max:e.scroll.max,change:t}),to=(e,t)=>{const r=e.frame;return!!r&&Zi({current:r.scroll.current,max:r.scroll.max,change:t})};var ro=e=>{let{state:t,dragStartTime:r,shouldUseTimeDampening:n,scrollWindow:a,scrollDroppable:s,getAutoScrollerOptions:l}=e;const i=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const e=(e=>{let{viewport:t,subject:r,center:n,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:l}=e;const i=Yi({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:l});return i&&eo(t,i)?i:null})({dragStartTime:r,viewport:t.viewport,subject:o,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:l});if(e)return void a(e)}const c=Wi({center:i,destination:Cl(t.impact),droppables:t.dimensions.droppables});if(!c)return;const d=(e=>{let{droppable:t,subject:r,center:n,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:l}=e;const i=t.frame;if(!i)return null;const o=Yi({dragStartTime:a,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:l});return o&&to(t,o)?o:null})({dragStartTime:r,droppable:c,subject:o,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:l});d&&s(c.descriptor.id,d)},no=e=>{let{move:t,scrollDroppable:r,scrollWindow:n}=e;const a=(e,t)=>{if(!to(e,t))return t;const n=((e,t)=>{const r=e.frame;return r&&to(e,t)?Xi({current:r.scroll.current,max:r.scroll.max,change:t}):null})(e,t);if(!n)return r(e.descriptor.id,t),null;const a=Ss(t,n);r(e.descriptor.id,a);return Ss(t,a)},s=(e,t,r)=>{if(!e)return r;if(!eo(t,r))return r;const a=((e,t)=>{if(!eo(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return Xi({current:n,max:r,change:t})})(t,r);if(!a)return n(r),null;const s=Ss(r,a);n(s);return Ss(r,s)};return e=>{const r=e.scrollJumpRequest;if(!r)return;const n=Cl(e.impact);n||fs(!1);const l=a(e.dimensions.droppables[n],r);if(!l)return;const i=e.viewport,o=s(e.isWindowScrollAllowed,i,l);o&&((e,r)=>{const n=ks(e.current.client.selection,r);t({client:n})})(e,o)}},ao=e=>{let{scrollDroppable:t,scrollWindow:r,move:n,getAutoScrollerOptions:a}=e;const s=(e=>{let{scrollWindow:t,scrollDroppable:r,getAutoScrollerOptions:n=()=>Hi}=e;const a=cs(t),s=cs(r);let l=null;const i=e=>{l||fs(!1);const{shouldUseTimeDampening:t,dragStartTime:r}=l;ro({state:e,scrollWindow:a,scrollDroppable:s,dragStartTime:r,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{Ul(),l&&fs(!1);const t=Date.now();let r=!1;const a=()=>{r=!0};ro({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:a,scrollDroppable:a,getAutoScrollerOptions:n}),l={dragStartTime:t,shouldUseTimeDampening:r},Gl(),r&&i(e)},stop:()=>{l&&(a.cancel(),s.cancel(),l=null)},scroll:i}})({scrollWindow:r,scrollDroppable:t,getAutoScrollerOptions:a}),l=no({move:n,scrollWindow:r,scrollDroppable:t});return{scroll:e=>{a().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&l(e):s.scroll(e))},start:s.start,stop:s.stop}};const so="data-rfd",lo=(()=>{const e=`${so}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),io=(()=>{const e=`${so}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),oo=(()=>{const e=`${so}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),co={contextId:`${so}-scroll-container-context-id`},uo=(e,t)=>e.map(e=>{const r=e.styles[t];return r?`${e.selector} { ${r} }`:""}).join(" ");var mo="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?n.useLayoutEffect:n.useEffect;const po=()=>{const e=document.querySelector("head");return e||fs(!1),e},ho=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function fo(e,t){const r=Va(()=>(e=>{const t=(r=e,e=>`[${e}="${r}"]`);var r;const n=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(lo.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),a=[(()=>{const e=`\n      transition: ${hi.outOfTheWay};\n    `;return{selector:t(io.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),n,{selector:t(oo.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:uo(a,"always"),resting:uo(a,"resting"),dragging:uo(a,"dragging"),dropAnimating:uo(a,"dropAnimating"),userCancel:uo(a,"userCancel")}})(e),[e]),a=(0,n.useRef)(null),s=(0,n.useRef)(null),l=qa(os(e=>{const t=s.current;t||fs(!1),t.textContent=e}),[]),i=qa(e=>{const t=a.current;t||fs(!1),t.textContent=e},[]);mo(()=>{(a.current||s.current)&&fs(!1);const n=ho(t),o=ho(t);return a.current=n,s.current=o,n.setAttribute(`${so}-always`,e),o.setAttribute(`${so}-dynamic`,e),po().appendChild(n),po().appendChild(o),i(r.always),l(r.resting),()=>{const e=e=>{const t=e.current;t||fs(!1),po().removeChild(t),e.current=null};e(a),e(s)}},[t,i,l,r.always,r.resting,e]);const o=qa(()=>l(r.dragging),[l,r.dragging]),c=qa(e=>{l("DROP"!==e?r.userCancel:r.dropAnimating)},[l,r.dropAnimating,r.userCancel]),d=qa(()=>{s.current&&l(r.resting)},[l,r.resting]);return Va(()=>({dragging:o,dropping:c,resting:d}),[o,c,d])}function xo(e,t){return Array.from(e.querySelectorAll(t))}var go=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function bo(e){return e instanceof go(e).HTMLElement}function yo(e,t){const r=`[${lo.contextId}="${e}"]`,n=xo(document,r);if(!n.length)return null;const a=n.find(e=>e.getAttribute(lo.draggableId)===t);return a&&bo(a)?a:null}function vo(){const e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach(t=>t(e))}function n(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:(t,r)=>{const n=e.draggables[r.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const a=t.descriptor.id,s=n(a);s&&t.uniqueId===s.uniqueId&&(delete e.draggables[a],e.droppables[t.descriptor.droppableId]&&r({type:"REMOVAL",value:t}))},getById:function(e){const t=n(e);return t||fs(!1),t},findById:n,exists:e=>Boolean(n(e)),getAllByType:t=>Object.values(e.draggables).filter(e=>e.descriptor.type===t)},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const r=a(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=a(e);return t||fs(!1),t},findById:a,exists:e=>Boolean(a(e)),getAllByType:t=>Object.values(e.droppables).filter(e=>e.descriptor.type===t)},subscribe:function(e){return t.push(e),function(){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var jo=n.createContext(null),No=()=>{const e=document.body;return e||fs(!1),e};var wo={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const ko={separator:"::"};var So=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ko;const r=n.useId();return Va(()=>`${e}${t.separator}${r}`,[t.separator,e,r])};var Eo=n.createContext(null);function Co(e){0}function Io(e,t){Co()}function Do(){Io()}function Po(e){const t=(0,n.useRef)(e);return(0,n.useEffect)(()=>{t.current=e}),t}function Oo(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const Ao=9,To=13,Ro=33,zo=34,Lo=35,Mo=36,$o={[To]:!0,[Ao]:!0};var _o=e=>{$o[e.keyCode]&&e.preventDefault()};const Fo=(()=>{const e="visibilitychange";if("undefined"===typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(e=>`on${e}`in document)||e})();var Bo=Fo;const Uo={type:"IDLE"};function Go(e){let{cancel:t,completed:r,getPhase:n,setPhase:a}=e;return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:r,clientY:s}=e;if(0!==t)return;const l={x:r,y:s},i=n();if("DRAGGING"===i.type)return e.preventDefault(),void i.actions.move(l);"PENDING"!==i.type&&fs(!1);const o=i.point;if(c=o,d=l,!(Math.abs(d.x-c.x)>=5||Math.abs(d.y-c.y)>=5))return;var c,d;e.preventDefault();const u=i.actions.fluidLift(l);a({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:e=>{const a=n();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"mousedown",fn:e=>{"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:e=>{if("PENDING"!==n().type)return 27===e.keyCode?(e.preventDefault(),void t()):void _o(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:e=>{const r=n();"IDLE"===r.type&&fs(!1),r.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Bo,fn:t}]}function Wo(){}const Ho={[zo]:!0,[Ro]:!0,[Mo]:!0,[Lo]:!0};function Vo(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:n=>27===n.keyCode?(n.preventDefault(),void r()):32===n.keyCode?(n.preventDefault(),t(),void e.drop()):40===n.keyCode?(n.preventDefault(),void e.moveDown()):38===n.keyCode?(n.preventDefault(),void e.moveUp()):39===n.keyCode?(n.preventDefault(),void e.moveRight()):37===n.keyCode?(n.preventDefault(),void e.moveLeft()):void(Ho[n.keyCode]?n.preventDefault():_o(n))},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Bo,fn:r}]}const qo={type:"IDLE"};const Qo=["input","button","textarea","select","option","optgroup","video","audio"];function Jo(e,t){if(null==t)return!1;if(Qo.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return"true"===r||""===r||t!==e&&Jo(e,t.parentElement)}function Yo(e,t){const r=t.target;return!!bo(r)&&Jo(e,r)}var Ko=e=>Ja(e.getBoundingClientRect()).center;const Xo=(()=>{const e="matches";if("undefined"===typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find(e=>e in Element.prototype)||e})();function Zo(e,t){return null==e?null:e[Xo](t)?e:Zo(e.parentElement,t)}function ec(e,t){return e.closest?e.closest(t):Zo(e,t)}function tc(e,t){const r=t.target;if(!((n=r)instanceof go(n).Element))return null;var n;const a=function(e){return`[${lo.contextId}="${e}"]`}(e),s=ec(r,a);return s&&bo(s)?s:null}function rc(e){e.preventDefault()}function nc(e){let{expected:t,phase:r,isLockActive:n,shouldWarn:a}=e;return!!n()&&t===r}function ac(e){let{lockAPI:t,store:r,registry:n,draggableId:a}=e;if(t.isClaimed())return!1;const s=n.draggable.findById(a);return!!s&&(!!s.options.isEnabled&&!!Bi(r.getState(),a))}function sc(e){let{lockAPI:t,contextId:r,store:n,registry:a,draggableId:s,forceSensorStop:l,sourceEvent:i}=e;if(!ac({lockAPI:t,store:n,registry:a,draggableId:s}))return null;const o=a.draggable.getById(s),c=function(e,t){const r=`[${io.contextId}="${e}"]`,n=xo(document,r).find(e=>e.getAttribute(io.id)===t);return n&&bo(n)?n:null}(r,o.descriptor.id);if(!c)return null;if(i&&!o.options.canDragInteractiveElements&&Yo(c,i))return null;const d=t.claim(l||us);let u="PRE_DRAG";function m(){return o.options.shouldRespectForcePress}function p(){return t.isActive(d)}const h=function(e,t){nc({expected:e,phase:u,isLockActive:p,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function f(e){function r(){t.release(),u="COMPLETED"}function a(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shouldBlockNextClick:!1};if(e.cleanup(),a.shouldBlockNextClick){const e=ms(window,[{eventName:"click",fn:rc,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}r(),n.dispatch(ii({reason:t}))}return"PRE_DRAG"!==u&&(r(),fs(!1)),n.dispatch((e=>({type:"LIFT",payload:e}))(e.liftActionArgs)),u="DRAGGING",{isActive:()=>nc({expected:"DRAGGING",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:m,drop:e=>a("DROP",e),cancel:e=>a("CANCEL",e),...e.actions}}const x={isActive:()=>nc({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:function(e){const t=cs(e=>{h(()=>ti({client:e}))});return{...f({liftActionArgs:{id:s,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>h(ri),moveRight:()=>h(ai),moveDown:()=>h(ni),moveLeft:()=>h(si)};return f({liftActionArgs:{id:s,clientSelection:Ko(c),movementMode:"SNAP"},cleanup:us,actions:e})},abort:function(){nc({expected:"PRE_DRAG",phase:u,isLockActive:p,shouldWarn:!0})&&t.release()}};return x}const lc=[function(e){const t=(0,n.useRef)(Uo),r=(0,n.useRef)(us),a=Va(()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const n=e.findClosestDraggableId(t);if(!n)return;const a=e.tryGetLock(n,i,{sourceEvent:t});if(!a)return;t.preventDefault();const s={x:t.clientX,y:t.clientY};r.current(),d(a,s)}}),[e]),s=Va(()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const n=e.findOptionsForDraggable(r);n&&(n.shouldRespectForcePress||e.canGetLock(r)&&t.preventDefault())}}),[e]),l=qa(function(){r.current=ms(window,[s,a],{passive:!1,capture:!0})},[s,a]),i=qa(()=>{"IDLE"!==t.current.type&&(t.current=Uo,r.current(),l())},[l]),o=qa(()=>{const e=t.current;i(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[i]),c=qa(function(){const e=Go({cancel:o,completed:i,getPhase:()=>t.current,setPhase:e=>{t.current=e}});r.current=ms(window,e,{capture:!0,passive:!1})},[o,i]),d=qa(function(e,r){"IDLE"!==t.current.type&&fs(!1),t.current={type:"PENDING",point:r,actions:e},c()},[c]);mo(function(){return l(),function(){r.current()}},[l])},function(e){const t=(0,n.useRef)(Wo),r=Va(()=>({eventName:"keydown",fn:function(r){if(r.defaultPrevented)return;if(32!==r.keyCode)return;const n=e.findClosestDraggableId(r);if(!n)return;const s=e.tryGetLock(n,o,{sourceEvent:r});if(!s)return;r.preventDefault();let l=!0;const i=s.snapLift();function o(){l||fs(!1),l=!1,t.current(),a()}t.current(),t.current=ms(window,Vo(i,o),{capture:!0,passive:!1})}}),[e]),a=qa(function(){t.current=ms(window,[r],{passive:!1,capture:!0})},[r]);mo(function(){return a(),function(){t.current()}},[a])},function(e){const t=(0,n.useRef)(qo),r=(0,n.useRef)(us),a=qa(function(){return t.current},[]),s=qa(function(e){t.current=e},[]),l=Va(()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const a=e.tryGetLock(n,o,{sourceEvent:t});if(!a)return;const s=t.touches[0],{clientX:l,clientY:i}=s,c={x:l,y:i};r.current(),m(a,c)}}),[e]),i=qa(function(){r.current=ms(window,[l],{capture:!0,passive:!1})},[l]),o=qa(()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),s(qo),r.current(),i())},[i,s]),c=qa(()=>{const e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[o]),d=qa(function(){const e={capture:!0,passive:!1},t={cancel:c,completed:o,getPhase:a},n=ms(window,function(e){let{cancel:t,completed:r,getPhase:n}=e;return[{eventName:"touchmove",options:{capture:!1},fn:e=>{const r=n();if("DRAGGING"!==r.type)return void t();r.hasMoved=!0;const{clientX:a,clientY:s}=e.touches[0],l={x:a,y:s};e.preventDefault(),r.actions.move(l)}},{eventName:"touchend",fn:e=>{const a=n();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"touchcancel",fn:e=>{"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:e=>{const r=n();"IDLE"===r.type&&fs(!1);const a=e.touches[0];if(!a)return;if(!(a.force>=.15))return;const s=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return s?r.hasMoved?void e.preventDefault():void t():void e.preventDefault();s&&t()}},{eventName:Bo,fn:t}]}(t),e),s=ms(window,function(e){let{cancel:t,getPhase:r}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{"DRAGGING"===r().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Bo,fn:t}]}(t),e);r.current=function(){n(),s()}},[c,a,o]),u=qa(function(){const e=a();"PENDING"!==e.type&&fs(!1);const t=e.actions.fluidLift(e.point);s({type:"DRAGGING",actions:t,hasMoved:!1})},[a,s]),m=qa(function(e,t){"IDLE"!==a().type&&fs(!1);const r=setTimeout(u,120);s({type:"PENDING",point:t,actions:e,longPressTimerId:r}),d()},[d,a,s,u]);mo(function(){return i(),function(){r.current();const e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),s(qo))}},[a,i,s]),mo(function(){return ms(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}];function ic(e){let{contextId:t,store:r,registry:a,customSensors:s,enableDefaultSensors:l}=e;const i=[...l?lc:[],...s||[]],o=(0,n.useState)(()=>function(){let e=null;function t(){e||fs(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&fs(!1);const r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}())[0],c=qa(function(e,t){Oo(e)&&!Oo(t)&&o.tryAbandon()},[o]);mo(function(){let e=r.getState();return r.subscribe(()=>{const t=r.getState();c(e,t),e=t})},[o,r,c]),mo(()=>o.tryAbandon,[o.tryAbandon]);const d=qa(e=>ac({lockAPI:o,registry:a,store:r,draggableId:e}),[o,a,r]),u=qa((e,n,s)=>sc({lockAPI:o,registry:a,contextId:t,store:r,draggableId:e,forceSensorStop:n||null,sourceEvent:s&&s.sourceEvent?s.sourceEvent:null}),[t,o,a,r]),m=qa(e=>function(e,t){const r=tc(e,t);return r?r.getAttribute(lo.draggableId):null}(t,e),[t]),p=qa(e=>{const t=a.draggable.findById(e);return t?t.options:null},[a.draggable]),h=qa(function(){o.isClaimed()&&(o.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))},[o,r]),f=qa(()=>o.isClaimed(),[o]),x=Va(()=>({canGetLock:d,tryGetLock:u,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:h,isLockClaimed:f}),[d,u,m,p,h,f]);Co();for(let n=0;n<i.length;n++)i[n](x)}function oc(e){return e.current||fs(!1),e.current}function cc(e){const{contextId:t,setCallbacks:r,sensors:a,nonce:s,dragHandleUsageInstructions:l}=e,i=(0,n.useRef)(null);Do();const o=Po(e),c=qa(()=>(e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};n.version.startsWith("16")||n.version.startsWith("17")?r():(0,Jn.flushSync)(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(o.current),[o]),d=qa(()=>(e=>({...Hi,...e.autoScrollerOptions,durationDampening:{...Hi.durationDampening,...e.autoScrollerOptions}}))(o.current),[o]),u=function(e){const t=Va(()=>(e=>`rfd-announcement-${e}`)(e),[e]),r=(0,n.useRef)(null);return(0,n.useEffect)(function(){const e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),ya(e.style,wo),No().appendChild(e),function(){setTimeout(function(){const t=No();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)})}},[t]),qa(e=>{const t=r.current;t&&(t.textContent=e)},[])}(t),m=function(e){let{contextId:t,text:r}=e;const a=So("hidden-text",{separator:"-"}),s=Va(()=>function(e){let{contextId:t,uniqueId:r}=e;return`rfd-hidden-text-${t}-${r}`}({contextId:t,uniqueId:a}),[a,t]);return(0,n.useEffect)(function(){const e=document.createElement("div");return e.id=s,e.textContent=r,e.style.display="none",No().appendChild(e),function(){const t=No();t.contains(e)&&t.removeChild(e)}},[s,r]),s}({contextId:t,text:l}),p=fo(t,s),h=qa(e=>{oc(i).dispatch(e)},[]),f=Va(()=>oa({publishWhileDragging:Yl,updateDroppableScroll:Xl,updateDroppableIsEnabled:Zl,updateDroppableIsCombineEnabled:ei,collectionStarting:Kl},h),[h]),x=function(){const e=Va(vo,[]);return(0,n.useEffect)(()=>function(){n.version.startsWith("16")||n.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}(),g=Va(()=>Fi(x,f),[x,f]),b=Va(()=>ao({scrollWindow:Ui,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...oa({move:ti},h)}),[g.scrollDroppable,h,d]),y=function(e){const t=(0,n.useRef)({}),r=(0,n.useRef)(null),a=(0,n.useRef)(null),s=(0,n.useRef)(!1),l=qa(function(e,r){const n={id:e,focus:r};return t.current[e]=n,function(){const r=t.current;r[e]!==n&&delete r[e]}},[]),i=qa(function(t){const r=yo(e,t);r&&r!==document.activeElement&&r.focus()},[e]),o=qa(function(e,t){r.current===e&&(r.current=t)},[]),c=qa(function(){a.current||s.current&&(a.current=requestAnimationFrame(()=>{a.current=null;const e=r.current;e&&i(e)}))},[i]),d=qa(function(e){r.current=null;const t=document.activeElement;t&&t.getAttribute(lo.draggableId)===e&&(r.current=e)},[]);return mo(()=>(s.current=!0,function(){s.current=!1;const e=a.current;e&&cancelAnimationFrame(e)}),[]),Va(()=>({register:l,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:o}),[l,d,c,o])}(t),v=Va(()=>Ri({announce:u,autoScroller:b,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:p}),[u,b,g,y,c,p]);i.current=v;const j=qa(()=>{const e=oc(i);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),N=qa(()=>{const e=oc(i).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging},[]);r(Va(()=>({isDragging:N,tryAbort:j}),[N,j]));const w=qa(e=>Bi(oc(i).getState(),e),[]),k=qa(()=>Dl(oc(i).getState()),[]),S=Va(()=>({marshal:g,focus:y,contextId:t,canLift:w,isMovementAllowed:k,dragHandleUsageInstructionsId:m,registry:x}),[t,g,m,y,w,k,x]);return ic({contextId:t,store:v,registry:x,customSensors:a||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,n.useEffect)(()=>j,[j]),n.createElement(Eo.Provider,{value:S},n.createElement(Ua,{context:jo,store:v},e.children))}var dc=function(){return n.useId()};function uc(e){const t=dc(),r=e.dragHandleUsageInstructions||Ns.dragHandleUsageInstructions;return n.createElement(xs,null,a=>n.createElement(cc,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const mc=5e3,pc=4500,hc=(e,t)=>t?hi.drop(t.duration):e?hi.snap:hi.fluid,fc=(e,t)=>{if(e)return t?di.drop:di.combining};function xc(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:r,combineWith:n,dropping:a}=e,s=Boolean(n),l=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),i=Boolean(a),o=i?gi(r,s):xi(r);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:hc(l,a),transform:o,opacity:fc(s,i),zIndex:i?pc:mc,pointerEvents:"none"}}(e):{transform:xi((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function gc(e){const t=So("draggable"),{descriptor:r,registry:a,getDraggableRef:s,canDragInteractiveElements:l,shouldRespectForcePress:i,isEnabled:o}=e,c=Va(()=>({canDragInteractiveElements:l,shouldRespectForcePress:i,isEnabled:o}),[l,o,i]),d=qa(e=>{const t=s();return t||fs(!1),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ws;const n=window.getComputedStyle(t),a=t.getBoundingClientRect(),s=ns(a,n),l=rs(s,r);return{descriptor:e,placeholder:{client:s,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:s.marginBox.width,y:s.marginBox.height},client:s,page:l}}(r,t,e)},[r,s]),u=Va(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),m=(0,n.useRef)(u),p=(0,n.useRef)(!0);mo(()=>(a.draggable.register(m.current),()=>a.draggable.unregister(m.current)),[a.draggable]),mo(()=>{if(p.current)return void(p.current=!1);const e=m.current;m.current=u,a.draggable.update(u,e)},[u,a.draggable])}var bc=n.createContext(null);function yc(e){const t=(0,n.useContext)(e);return t||fs(!1),t}function vc(e){e.preventDefault()}var jc=e=>{const t=(0,n.useRef)(null),r=qa(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.current=e},[]),a=qa(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:l,registry:i}=yc(Eo),{type:o,droppableId:c}=yc(bc),d=Va(()=>({id:e.draggableId,index:e.index,type:o,droppableId:c}),[e.draggableId,e.index,o,c]),{children:u,draggableId:m,isEnabled:p,shouldRespectForcePress:h,canDragInteractiveElements:f,isClone:x,mapped:g,dropAnimationFinished:b}=e;if(Io(),Co(),!x){gc(Va(()=>({descriptor:d,registry:i,getDraggableRef:a,canDragInteractiveElements:f,shouldRespectForcePress:h,isEnabled:p}),[d,i,a,f,h,p]))}const y=Va(()=>p?{tabIndex:0,role:"button","aria-describedby":l,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:vc}:null,[s,l,m,p]),v=qa(e=>{"DRAGGING"===g.type&&g.dropping&&"transform"===e.propertyName&&(n.version.startsWith("16")||n.version.startsWith("17")?b():(0,Jn.flushSync)(b))},[b,g]),j=Va(()=>{const e=xc(g),t="DRAGGING"===g.type&&g.dropping?v:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":m,style:e,onTransitionEnd:t},dragHandleProps:y}},[s,y,m,g,v,r]),N=Va(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return n.createElement(n.Fragment,null,u(j,g.snapshot,N))},Nc=(e,t)=>e===t,wc=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};function kc(){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,combineWith:null}}const Sc={mapped:{type:"SECONDARY",offset:ws,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:kc(null)}};const Ec=Ba(()=>{const e=function(){const e=os((e,t)=>({x:e,y:t})),t=os(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:r,combineWith:n,combineTargetFor:null}}),r=os(function(e,r,n,a){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:l,mode:r,offset:e,dimension:n,forceShouldAnimate:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,snapshot:t(r,a,s,l,null)}}});return(n,a)=>{if(Oo(n)){if(n.critical.draggable.id!==a.draggableId)return null;const t=n.current.client.offset,l=n.dimensions.draggables[a.draggableId],i=Cl(n.impact),o=(s=n.impact).at&&"COMBINE"===s.at.type?s.at.combine.draggableId:null,c=n.forceShouldAnimate;return r(e(t.x,t.y),n.movementMode,l,a.isClone,i,o,c)}var s;if("DROP_ANIMATING"===n.phase){const e=n.completed;if(e.result.draggableId!==a.draggableId)return null;const r=a.isClone,s=n.dimensions.draggables[a.draggableId],l=e.result,i=l.mode,o=wc(l),c=(e=>e.combine?e.combine.draggableId:null)(l),d={duration:n.dropDuration,curve:ci,moveTo:n.newHomeClientOffset,opacity:c?di.drop:null,scale:c?ui.drop:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:s,dropping:d,draggingOver:o,combineWith:c,mode:i,forceShouldAnimate:null,snapshot:t(i,r,o,c,d)}}}return null}}(),t=function(){const e=os((e,t)=>({x:e,y:t})),t=os(kc),r=os(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:arguments.length>2?arguments[2]:void 0,snapshot:t(r)}}}),n=e=>e?r(ws,e,!0):null,a=(t,a,s,l)=>{const i=s.displaced.visible[t],o=Boolean(l.inVirtualList&&l.effected[t]),c=Gs(s),d=c&&c.draggableId===t?a:null;if(!i){if(!o)return n(d);if(s.displaced.invisible[t])return null;const a=Cs(l.displacedBy.point),i=e(a.x,a.y);return r(i,d,!0)}if(o)return n(d);const u=s.displacedBy.point,m=e(u.x,u.y);return r(m,d,i.shouldAnimate)};return(e,t)=>{if(Oo(e))return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const r=e.completed;return r.result.draggableId===t.draggableId?null:a(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return(r,n)=>e(r,n)||t(r,n)||Sc},{dropAnimationFinished:oi},null,{context:jo,areStatePropsEqual:Nc})(jc);var Cc=Ec;function Ic(e){return yc(bc).isUsingCloneFor!==e.draggableId||e.isClone?n.createElement(Cc,e):null}function Dc(e){const t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),a=Boolean(e.shouldRespectForcePress);return n.createElement(Ic,ya({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:a}))}const Pc=e=>t=>e===t,Oc=Pc("scroll"),Ac=Pc("auto"),Tc=(Pc("visible"),(e,t)=>t(e.overflowX)||t(e.overflowY)),Rc=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Tc(r,Oc)||Tc(r,Ac)})(e)?e:Rc(e.parentElement);var zc=e=>({x:e.scrollLeft,y:e.scrollTop});const Lc=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||Lc(e.parentElement)};var Mc=e=>{let{ref:t,descriptor:r,env:n,windowScroll:a,direction:s,isDropDisabled:l,isCombineEnabled:i,shouldClipSubject:o}=e;const c=n.closestScrollable,d=((e,t)=>{const r=as(e);if(!t)return r;if(e!==t)return r;const n=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,s=n+t.scrollHeight,l=a+t.scrollWidth,i=Ya({top:n,right:l,bottom:s,left:a},r.border);return Za({borderBox:i,margin:r.margin,border:r.border,padding:r.padding})})(t,c),u=rs(d,a),m=(()=>{if(!c)return null;const e=as(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:rs(e,a),scroll:zc(c),scrollSize:t,shouldClipSubject:o}})(),p=(e=>{let{descriptor:t,isEnabled:r,isCombineEnabled:n,isFixedOnPage:a,direction:s,client:l,page:i,closest:o}=e;const c=(()=>{if(!o)return null;const{scrollSize:e,client:t}=o,r=zi({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:o.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:o.shouldClipSubject,scroll:{initial:o.scroll,current:o.scroll,max:r,diff:{value:ws,displacement:ws}}}})(),d="vertical"===s?Xs:Zs;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:d,isEnabled:r,client:l,page:i,frame:c,subject:zs({page:i,withPlaceholder:null,axis:d,frame:c})}})({descriptor:r,isEnabled:!l,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:s,client:d,page:u,closest:m});return p};const $c={passive:!1},_c={passive:!0};var Fc=e=>e.shouldPublishImmediately?$c:_c;const Bc=e=>e&&e.env.closestScrollable||null;function Uc(e){const t=(0,n.useRef)(null),r=yc(Eo),a=So("droppable"),{registry:s,marshal:l}=r,i=Po(e),o=Va(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=(0,n.useRef)(o),d=Va(()=>os((e,r)=>{t.current||fs(!1);const n={x:e,y:r};l.updateDroppableScroll(o.id,n)}),[o.id,l]),u=qa(()=>{const e=t.current;return e&&e.env.closestScrollable?zc(e.env.closestScrollable):ws},[]),m=qa(()=>{const e=u();d(e.x,e.y)},[u,d]),p=Va(()=>cs(m),[m]),h=qa(()=>{const e=t.current,r=Bc(e);e&&r||fs(!1);e.scrollOptions.shouldPublishImmediately?m():p()},[p,m]),f=qa((e,n)=>{t.current&&fs(!1);const a=i.current,s=a.getDroppableRef();s||fs(!1);const l=(e=>({closestScrollable:Rc(e),isFixedOnPage:Lc(e)}))(s),c={ref:s,descriptor:o,env:l,scrollOptions:n};t.current=c;const d=Mc({ref:s,descriptor:o,env:l,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),u=l.closestScrollable;return u&&(u.setAttribute(co.contextId,r.contextId),u.addEventListener("scroll",h,Fc(c.scrollOptions))),d},[r.contextId,o,h,i]),x=qa(()=>{const e=t.current,r=Bc(e);return e&&r||fs(!1),zc(r)},[]),g=qa(()=>{const e=t.current;e||fs(!1);const r=Bc(e);t.current=null,r&&(p.cancel(),r.removeAttribute(co.contextId),r.removeEventListener("scroll",h,Fc(e.scrollOptions)))},[h,p]),b=qa(e=>{const r=t.current;r||fs(!1);const n=Bc(r);n||fs(!1),n.scrollTop+=e.y,n.scrollLeft+=e.x},[]),y=Va(()=>({getDimensionAndWatchScroll:f,getScrollWhileDragging:x,dragStopped:g,scroll:b}),[g,f,x,b]),v=Va(()=>({uniqueId:a,descriptor:o,callbacks:y}),[y,o,a]);mo(()=>(c.current=v.descriptor,s.droppable.register(v),()=>{t.current&&g(),s.droppable.unregister(v)}),[y,o,g,v,l,s.droppable]),mo(()=>{t.current&&l.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,l]),mo(()=>{t.current&&l.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,l])}function Gc(){}const Wc={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Hc=e=>{let{isAnimatingOpenOnMount:t,placeholder:r,animate:n}=e;const a=(e=>{let{isAnimatingOpenOnMount:t,placeholder:r,animate:n}=e;return t||"close"===n?Wc:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}})({isAnimatingOpenOnMount:t,placeholder:r,animate:n});return{display:r.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?hi.placeholder:null}};var Vc=n.memo(e=>{const t=(0,n.useRef)(null),r=qa(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:a,onTransitionEnd:s,onClose:l,contextId:i}=e,[o,c]=(0,n.useState)("open"===e.animate);(0,n.useEffect)(()=>o?"open"!==a?(r(),c(!1),Gc):t.current?Gc:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):Gc,[a,o,r]);const d=qa(e=>{"height"===e.propertyName&&(s(),"close"===a&&l())},[a,l,s]),u=Hc({isAnimatingOpenOnMount:o,animate:e.animate,placeholder:e.placeholder});return n.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})});class qc extends n.PureComponent{constructor(){super(...arguments),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}var Qc=e=>{const t=(0,n.useContext)(Eo);t||fs(!1);const{contextId:r,isMovementAllowed:a}=t,s=(0,n.useRef)(null),l=(0,n.useRef)(null),{children:i,droppableId:o,type:c,mode:d,direction:u,ignoreContainerClipping:m,isDropDisabled:p,isCombineEnabled:h,snapshot:f,useClone:x,updateViewportMaxScroll:g,getContainerForClone:b}=e,y=qa(()=>s.current,[]),v=qa(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s.current=e},[]),j=(qa(()=>l.current,[]),qa(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;l.current=e},[]));Io();const N=qa(()=>{a()&&g({maxScroll:Mi()})},[a,g]);Uc({droppableId:o,type:c,mode:d,direction:u,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:m,getDroppableRef:y});const w=Va(()=>n.createElement(qc,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},e=>{let{onClose:t,data:a,animate:s}=e;return n.createElement(Vc,{placeholder:a,onClose:t,innerRef:j,animate:s,contextId:r,onTransitionEnd:N})}),[r,N,e.placeholder,e.shouldAnimatePlaceholder,j]),k=Va(()=>({innerRef:v,placeholder:w,droppableProps:{"data-rfd-droppable-id":o,"data-rfd-droppable-context-id":r}}),[r,o,w,v]),S=x?x.dragging.draggableId:null,E=Va(()=>({droppableId:o,type:c,isUsingCloneFor:S}),[o,S,c]);return n.createElement(bc.Provider,{value:E},i(k,f),function(){if(!x)return null;const{dragging:e,render:t}=x,r=n.createElement(Ic,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(r,n)=>t(r,n,e));return Jn.createPortal(r,b())}())};const Jc={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||fs(!1),document.body}},Yc=e=>{let t,r={...e};for(t in Jc)void 0===e[t]&&(r={...r,[t]:Jc[t]});return r},Kc=(e,t)=>e===t.droppable.type,Xc=(e,t)=>t.draggables[e.draggable.id];var Zc=Ba(()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=os(e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}})),n=os((n,a,s,l,i,o)=>{const c=i.descriptor.id;if(i.descriptor.droppableId===n){const e=o?{render:o,dragging:r(i.descriptor)}:null,t={isDraggingOver:s,draggingOverWith:s?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:i.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!a)return t;if(!l)return e;const d={isDraggingOver:s,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:i.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}});return(r,a)=>{const s=Yc(a),l=s.droppableId,i=s.type,o=!s.isDropDisabled,c=s.renderClone;if(Oo(r)){const e=r.critical;if(!Kc(i,e))return t;const a=Xc(e,r.dimensions),s=Cl(r.impact)===l;return n(l,o,s,s,a,c)}if("DROP_ANIMATING"===r.phase){const e=r.completed;if(!Kc(i,e.critical))return t;const a=Xc(e.critical,r.dimensions);return n(l,o,wc(e.result)===l,Cl(e.impact)===l,a,c)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){const n=r.completed;if(!Kc(i,n.critical))return t;const a=Cl(n.impact)===l,s=Boolean(n.impact.at&&"COMBINE"===n.impact.at.type),o=n.critical.droppable.id===l;return a?s?e:t:o?e:t}return t}},{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},(e,t,r)=>({...Yc(r),...e,...t}),{context:jo,areStatePropsEqual:Nc})(Qc);const ed=[{id:"COLLECTION",label:"Collection",color:"bg-blue-100 border-blue-300",textColor:"text-blue-800"},{id:"CULLING",label:"Culling",color:"bg-yellow-100 border-yellow-300",textColor:"text-yellow-800"},{id:"REVIEW",label:"Review",color:"bg-orange-100 border-orange-300",textColor:"text-orange-800"},{id:"PRODUCTION",label:"Production",color:"bg-green-100 border-green-300",textColor:"text-green-800"},{id:"INACTIVE",label:"Inactive",color:"bg-gray-100 border-gray-300",textColor:"text-gray-800"}],td=e=>{let{matter:t,index:r}=e;return(0,wr.jsx)(Dc,{draggableId:t.id.toString(),index:r,children:(e,r)=>(0,wr.jsx)("div",{ref:e.innerRef,...e.draggableProps,...e.dragHandleProps,className:`\n            bg-white rounded-lg shadow-sm border p-4 mb-3 cursor-move\n            ${r.isDragging?"shadow-lg rotate-2":"hover:shadow-md"}\n            transition-all duration-200\n          `,children:(0,wr.jsxs)("div",{className:"space-y-3",children:[(0,wr.jsx)("div",{className:"flex items-start justify-between",children:(0,wr.jsxs)("div",{className:"flex-1",children:[(0,wr.jsx)(nt,{to:`/matters/${t.id}`,className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors text-sm leading-tight",children:t.title||t.matterName}),(0,wr.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["#",t.matterNumber]})]})}),t.client&&(0,wr.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,wr.jsx)(an,{className:"w-3 h-3 mr-1"}),(0,wr.jsx)(nt,{to:`/clients/${t.client.id}`,className:"hover:text-blue-600 transition-colors truncate",children:t.client.name||`Client #${t.client.clientNumber}`})]}),t.people&&t.people.length>0&&(0,wr.jsxs)("div",{className:"flex items-center text-xs text-gray-600",children:[(0,wr.jsx)(Br,{className:"w-3 h-3 mr-1"}),(0,wr.jsxs)("span",{className:"truncate",children:[t.people.length," team member",1!==t.people.length?"s":""]})]}),(0,wr.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,wr.jsx)(ln,{className:"w-3 h-3 mr-1"}),(0,wr.jsxs)("span",{children:["Created ",new Date(t.createdAt).toLocaleDateString()]})]})]})})})},rd=e=>{let{status:t,matters:r,matterCount:n}=e;const a=ed.find(e=>e.id===t.id);return(0,wr.jsx)("div",{className:"flex-1 min-w-[280px] max-w-sm",children:(0,wr.jsxs)("div",{className:`\n        rounded-lg border-2 border-dashed h-full min-h-[600px]\n        ${a.color}\n      `,children:[(0,wr.jsx)("div",{className:`\n          p-4 border-b border-current/20 ${a.textColor}\n        `,children:(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsx)("h3",{className:"font-semibold text-sm",children:t.label}),(0,wr.jsx)("span",{className:"text-xs font-medium px-2 py-1 bg-white/60 rounded-full",children:n})]})}),(0,wr.jsx)(Zc,{droppableId:t.id,children:(e,n)=>(0,wr.jsxs)("div",{ref:e.innerRef,...e.droppableProps,className:`\n                p-4 min-h-[500px] transition-colors\n                ${n.isDraggingOver?"bg-white/30":""}\n              `,children:[r.map((e,t)=>(0,wr.jsx)(td,{matter:e,index:t},e.id)),e.placeholder,0===r.length&&(0,wr.jsxs)("div",{className:"text-center text-gray-500 text-sm mt-8",children:[(0,wr.jsxs)("p",{children:["No matters in ",t.label.toLowerCase()]}),(0,wr.jsx)("p",{className:"text-xs mt-1",children:"Drag matters here to update status"})]})]})})]})})},nd=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!0),[s,l]=(0,n.useState)(null),[i,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{a(!0);const[e,r]=await Promise.all([fetch("/api/matters"),fetch("/api/auth/current-user")]);if(e.ok&&r.ok){const[n,a]=await Promise.all([e.json(),r.json()]);o(a);let s=n;if(a&&a.person){const e=a.person.id;s=n.filter(t=>t.people&&t.people.some(t=>t.person&&t.person.id===e))}t(s)}else l("Failed to fetch data")}catch(e){l("An error occurred while fetching data"),console.error("Error:",e)}finally{a(!1)}})()},[]);const c=ed.reduce((t,r)=>(t[r.id]=e.filter(e=>(e.status||"COLLECTION")===r.id),t),{});return r?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wr.jsxs)("div",{className:"text-center",children:[(0,wr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,wr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading kanban board..."})]})})}):s?(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wr.jsxs)("div",{className:"text-center",children:[(0,wr.jsx)("p",{className:"text-red-600 mb-4",children:s}),(0,wr.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})})}):(0,wr.jsx)(Dr,{children:(0,wr.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,wr.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,wr.jsxs)("div",{className:"mb-8",children:[(0,wr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Matter Kanban Board"}),(0,wr.jsxs)("p",{className:"text-gray-600",children:["Drag and drop matters between columns to update their status. Showing ",e.length," of your assigned matters."]}),i&&i.person&&(0,wr.jsxs)("p",{className:"text-sm text-blue-600 mt-1",children:["Viewing as: ",i.person.firstName," ",i.person.lastName]}),s&&(0,wr.jsxs)("div",{className:"mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:[s,(0,wr.jsx)("button",{onClick:()=>l(null),className:"ml-2 text-red-500 hover:text-red-700",children:"\xd7"})]})]}),(0,wr.jsx)(uc,{onDragEnd:async r=>{const{destination:n,source:a,draggableId:s}=r;if(!n)return;if(n.droppableId===a.droppableId&&n.index===a.index)return;const i=parseInt(s),o=n.droppableId,c=e.find(e=>e.id===i);if(c){t(e=>e.map(e=>e.id===i?{...e,status:o}:e));try{(await fetch(`/api/matters/${i}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:o})})).ok||(t(e=>e.map(e=>e.id===i?{...e,status:c.status}:e)),l("Failed to update matter status"))}catch(d){t(e=>e.map(e=>e.id===i?{...e,status:c.status}:e)),l("An error occurred while updating matter status"),console.error("Error:",d)}}else l("Matter not found")},children:(0,wr.jsx)("div",{className:"flex gap-6 overflow-x-auto pb-4",children:ed.map(e=>(0,wr.jsx)(rd,{status:e,matters:c[e.id],matterCount:c[e.id].length},e.id))})}),0===e.length&&(0,wr.jsxs)("div",{className:"text-center py-12",children:[(0,wr.jsx)("p",{className:"text-gray-500 text-lg mb-2",children:"No matters assigned to you"}),(0,wr.jsx)("p",{className:"text-gray-400",children:"Ask a project manager to assign you to matters to see them here."})]})]})})})},ad=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),c="${API_BASE_URL}",d=async()=>{l(!0),o(null);try{const e=await fetch(`${c}/users`);if(!e.ok)throw new Error("Failed to fetch users");const r=await e.json();t(r)}catch(e){o(e.message)}l(!1)};return(0,wr.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,wr.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"API Integration Test"}),i&&(0,wr.jsxs)("div",{className:"bg-destructive/15 text-destructive px-4 py-3 rounded mb-4",children:["Error: ",i]}),(0,wr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsx)("h3",{className:"text-xl font-semibold",children:"Users"}),(0,wr.jsxs)("div",{className:"space-x-2",children:[(0,wr.jsx)(Cr,{onClick:d,disabled:s,size:"sm",children:s?"Loading...":"Fetch Users"}),(0,wr.jsx)(Cr,{onClick:async()=>{l(!0),o(null);try{if(!(await fetch(`${c}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"John Doe",email:`john.doe.${Date.now()}@example.com`,password:"password123"})})).ok)throw new Error("Failed to create user");await d()}catch(e){o(e.message)}l(!1)},disabled:s,size:"sm",variant:"outline",children:"Add Sample User"})]})]}),(0,wr.jsx)("div",{className:"border rounded-lg p-4 max-h-64 overflow-y-auto",children:0===e.length?(0,wr.jsx)("p",{className:"text-muted-foreground",children:"No users found. Try creating one!"}):(0,wr.jsx)("ul",{className:"space-y-2",children:e.map(e=>(0,wr.jsxs)("li",{className:"border-b pb-2",children:[(0,wr.jsx)("div",{className:"font-medium",children:e.name}),(0,wr.jsx)("div",{className:"text-sm text-muted-foreground",children:e.email}),(0,wr.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]},e.id))})})]}),(0,wr.jsxs)("div",{className:"space-y-4",children:[(0,wr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wr.jsx)("h3",{className:"text-xl font-semibold",children:"Posts"}),(0,wr.jsx)(Cr,{onClick:async()=>{l(!0),o(null);try{const e=await fetch(`${c}/posts`);if(!e.ok)throw new Error("Failed to fetch posts");const t=await e.json();a(t)}catch(e){o(e.message)}l(!1)},disabled:s,size:"sm",children:s?"Loading...":"Fetch Posts"})]}),(0,wr.jsx)("div",{className:"border rounded-lg p-4 max-h-64 overflow-y-auto",children:0===r.length?(0,wr.jsx)("p",{className:"text-muted-foreground",children:"No posts found."}):(0,wr.jsx)("ul",{className:"space-y-2",children:r.map(e=>{var t;return(0,wr.jsxs)("li",{className:"border-b pb-2",children:[(0,wr.jsx)("div",{className:"font-medium",children:e.title}),(0,wr.jsx)("div",{className:"text-sm text-muted-foreground",children:e.content}),(0,wr.jsxs)("div",{className:"text-xs text-muted-foreground",children:["By: ",null===(t=e.author)||void 0===t?void 0:t.name," | Created: ",new Date(e.createdAt).toLocaleDateString()]})]},e.id)})})})]})]}),(0,wr.jsxs)("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[(0,wr.jsx)("h4",{className:"font-semibold mb-2",children:"API Endpoints Available:"}),(0,wr.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,wr.jsxs)("li",{children:[(0,wr.jsx)("code",{className:"bg-background px-2 py-1 rounded",children:"GET /api/users"})," - Fetch all users"]}),(0,wr.jsxs)("li",{children:[(0,wr.jsx)("code",{className:"bg-background px-2 py-1 rounded",children:"POST /api/users"})," - Create a new user"]}),(0,wr.jsxs)("li",{children:[(0,wr.jsx)("code",{className:"bg-background px-2 py-1 rounded",children:"GET /api/posts"})," - Fetch all posts"]}),(0,wr.jsxs)("li",{children:[(0,wr.jsx)("code",{className:"bg-background px-2 py-1 rounded",children:"POST /api/posts"})," - Create a new post"]}),(0,wr.jsxs)("li",{children:[(0,wr.jsx)("code",{className:"bg-background px-2 py-1 rounded",children:"GET /api/health"})," - API health check"]})]})]})]})},sd=()=>(0,wr.jsx)(tt,{children:(0,wr.jsxs)(ve,{children:[(0,wr.jsx)(be,{path:"/",element:(0,wr.jsx)(Vr,{})}),(0,wr.jsx)(be,{path:"/clients",element:(0,wr.jsx)(Xr,{})}),(0,wr.jsx)(be,{path:"/clients/:id",element:(0,wr.jsx)(en,{})}),(0,wr.jsx)(be,{path:"/matters",element:(0,wr.jsx)(nn,{})}),(0,wr.jsx)(be,{path:"/matters/:id",element:(0,wr.jsx)(dn,{})}),(0,wr.jsx)(be,{path:"/people",element:(0,wr.jsx)(un,{})}),(0,wr.jsx)(be,{path:"/people/:id",element:(0,wr.jsx)(hn,{})}),(0,wr.jsx)(be,{path:"/organizations",element:(0,wr.jsx)(bn,{})}),(0,wr.jsx)(be,{path:"/organizations/:id",element:(0,wr.jsx)(yn,{})}),(0,wr.jsx)(be,{path:"/estimates",element:(0,wr.jsx)(vn,{})}),(0,wr.jsx)(be,{path:"/estimates/:id",element:(0,wr.jsx)(jn,{})}),(0,wr.jsx)(be,{path:"/vendor-agreements",element:(0,wr.jsx)(Nn,{})}),(0,wr.jsx)(be,{path:"/vendor-agreements/:id",element:(0,wr.jsx)(wn,{})}),(0,wr.jsx)(be,{path:"/invoices",element:(0,wr.jsx)(Dn,{})}),(0,wr.jsx)(be,{path:"/invoices/new",element:(0,wr.jsx)(Tn,{})}),(0,wr.jsx)(be,{path:"/invoices/:id",element:(0,wr.jsx)(On,{})}),(0,wr.jsx)(be,{path:"/invoices/:id/edit",element:(0,wr.jsx)(Rn,{})}),(0,wr.jsx)(be,{path:"/custodians",element:(0,wr.jsx)(zn,{})}),(0,wr.jsx)(be,{path:"/custodians/new",element:(0,wr.jsx)(Mn,{})}),(0,wr.jsx)(be,{path:"/custodians/:id",element:(0,wr.jsx)(Ln,{})}),(0,wr.jsx)(be,{path:"/custodians/:id/edit",element:(0,wr.jsx)($n,{})}),(0,wr.jsx)(be,{path:"/collections",element:(0,wr.jsx)(Fn,{})}),(0,wr.jsx)(be,{path:"/collections/new",element:(0,wr.jsx)(Un,{})}),(0,wr.jsx)(be,{path:"/collections/:id",element:(0,wr.jsx)(Bn,{})}),(0,wr.jsx)(be,{path:"/collections/:id/edit",element:(0,wr.jsx)(Gn,{})}),(0,wr.jsx)(be,{path:"/workspaces/create",element:(0,wr.jsx)(Wn,{})}),(0,wr.jsx)(be,{path:"/workspaces/:id/edit",element:(0,wr.jsx)(Hn,{})}),(0,wr.jsx)(be,{path:"/tasks",element:(0,wr.jsx)(Vn,{})}),(0,wr.jsx)(be,{path:"/tasks/:id",element:(0,wr.jsx)(qn,{})}),(0,wr.jsx)(be,{path:"/users",element:(0,wr.jsx)(Qn,{})}),(0,wr.jsx)(be,{path:"/kanban",element:(0,wr.jsx)(nd,{})}),(0,wr.jsx)(be,{path:"/api-test",element:(0,wr.jsx)(ad,{})})]})});a.createRoot(document.getElementById("root")).render((0,wr.jsx)(n.StrictMode,{children:(0,wr.jsx)(sd,{})}))})();
//# sourceMappingURL=main.53715458.js.map